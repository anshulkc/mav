"use strict";var sI=Object.create;var zo=Object.defineProperty;var nI=Object.getOwnPropertyDescriptor;var iI=Object.getOwnPropertyNames;var oI=Object.getPrototypeOf,aI=Object.prototype.hasOwnProperty;var Nx=t=>{throw TypeError(t)};var cI=(t,e,r)=>e in t?zo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var uI=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qx=(t,e)=>{for(var r in e)zo(t,r,{get:e[r],enumerable:!0})},Mx=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of iI(e))!aI.call(t,n)&&n!==r&&zo(t,n,{get:()=>e[n],enumerable:!(s=nI(e,n))||s.enumerable});return t};var kt=(t,e,r)=>(r=t!=null?sI(oI(t)):{},Mx(e||!t||!t.__esModule?zo(r,"default",{value:t,enumerable:!0}):r,t)),Ce=t=>Mx(zo({},"__esModule",{value:!0}),t);var D=(t,e,r)=>cI(t,typeof e!="symbol"?e+"":e,r),Ld=(t,e,r)=>e.has(t)||Nx("Cannot "+r);var k=(t,e,r)=>(Ld(t,e,"read from private field"),r?r.call(t):e.get(t)),J=(t,e,r)=>e.has(t)?Nx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),z=(t,e,r,s)=>(Ld(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),me=(t,e,r)=>(Ld(t,e,"access private method"),r);var Lx=(t,e,r,s)=>({set _(n){z(t,e,n,r)},get _(){return k(t,e,s)}});var Oe={};qx(Oe,{__addDisposableResource:()=>S0,__assign:()=>Pc,__asyncDelegator:()=>m0,__asyncGenerator:()=>h0,__asyncValues:()=>y0,__await:()=>ji,__awaiter:()=>c0,__classPrivateFieldGet:()=>x0,__classPrivateFieldIn:()=>w0,__classPrivateFieldSet:()=>_0,__createBinding:()=>Rc,__decorate:()=>t0,__disposeResources:()=>k0,__esDecorate:()=>s0,__exportStar:()=>l0,__extends:()=>Xx,__generator:()=>u0,__importDefault:()=>v0,__importStar:()=>b0,__makeTemplateObject:()=>g0,__metadata:()=>a0,__param:()=>r0,__propKey:()=>i0,__read:()=>Kd,__rest:()=>e0,__rewriteRelativeImportExtension:()=>E0,__runInitializers:()=>n0,__setFunctionName:()=>o0,__spread:()=>p0,__spreadArray:()=>f0,__spreadArrays:()=>d0,__values:()=>Cc,default:()=>xj});function Xx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function e0(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function t0(t,e,r,s){var n=arguments.length,i=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}function r0(t,e){return function(r,s){e(r,s,t)}}function s0(t,e,r,s,n,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?s.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,s.name):{}),p,y=!1,f=r.length-1;f>=0;f--){var d={};for(var h in s)d[h]=h==="access"?{}:s[h];for(var h in s.access)d.access[h]=s.access[h];d.addInitializer=function(b){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var m=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],d);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(p=o(m.get))&&(l.get=p),(p=o(m.set))&&(l.set=p),(p=o(m.init))&&n.unshift(p)}else(p=o(m))&&(a==="field"?n.unshift(p):l[c]=p)}u&&Object.defineProperty(u,s.name,l),y=!0}function n0(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function i0(t){return typeof t=="symbol"?t:"".concat(t)}function o0(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function a0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function c0(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(p){o(p)}}function c(l){try{u(s.throw(l))}catch(p){o(p)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})}function u0(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(s=1,n&&(i=u[0]&2?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],n=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function l0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rc(e,t,r)}function Cc(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function p0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kd(arguments[e]));return t}function d0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)s[n]=i[o];return s}function f0(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function ji(t){return this instanceof ji?(this.v=t,this):new ji(t)}function h0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(f){return function(d){return Promise.resolve(d).then(f,p)}}function a(f,d){s[f]&&(n[f]=function(h){return new Promise(function(m,b){i.push([f,h,m,b])>1||c(f,h)})},d&&(n[f]=d(n[f])))}function c(f,d){try{u(s[f](d))}catch(h){y(i[0][3],h)}}function u(f){f.value instanceof ji?Promise.resolve(f.value.v).then(l,p):y(i[0][2],f)}function l(f){c("next",f)}function p(f){c("throw",f)}function y(f,d){f(d),i.shift(),i.length&&c(i[0][0],i[0][1])}}function m0(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,i){e[n]=t[n]?function(o){return(r=!r)?{value:ji(t[n](o)),done:!1}:i?i(o):o}:i}}function y0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Cc=="function"?Cc(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),n(a,c,o.done,o.value)})}}function n(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function g0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function b0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=$d(t),s=0;s<r.length;s++)r[s]!=="default"&&Rc(e,t,r[s]);return bj(e,t),e}function v0(t){return t&&t.__esModule?t:{default:t}}function x0(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function _0(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function w0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function S0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}function k0(t){function e(i){t.error=t.hasError?new vj(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function E0(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,i,o){return s?e?".jsx":".js":n&&(!i||!o)?r:n+i+"."+o.toLowerCase()+"js"}):t}var Vd,Pc,Rc,bj,$d,vj,xj,Pe=uI(()=>{Vd=function(t,e){return Vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},Vd(t,e)};Pc=function(){return Pc=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Pc.apply(this,arguments)};Rc=Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]};bj=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},$d=function(t){return $d=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},$d(t)};vj=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};xj={__extends:Xx,__assign:Pc,__rest:e0,__decorate:t0,__param:r0,__esDecorate:s0,__runInitializers:n0,__propKey:i0,__setFunctionName:o0,__metadata:a0,__awaiter:c0,__generator:u0,__createBinding:Rc,__exportStar:l0,__values:Cc,__read:Kd,__spread:p0,__spreadArrays:d0,__spreadArray:f0,__await:ji,__asyncGenerator:h0,__asyncDelegator:m0,__asyncValues:y0,__makeTemplateObject:g0,__importStar:b0,__importDefault:v0,__classPrivateFieldGet:x0,__classPrivateFieldSet:_0,__classPrivateFieldIn:w0,__addDisposableResource:S0,__disposeResources:k0,__rewriteRelativeImportExtension:E0}});var Go=g(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.getParsedType=qe.ZodParsedType=qe.objectUtil=qe.util=void 0;var Gd;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{let i={};for(let o of n)i[o]=o;return i},t.getValidEnumValues=n=>{let i=t.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),o={};for(let a of i)o[a]=n[a];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let i=[];for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},t.find=(n,i)=>{for(let o of n)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(Gd||(qe.util=Gd={}));var A0;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(A0||(qe.objectUtil=A0={}));qe.ZodParsedType=Gd.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var _j=t=>{switch(typeof t){case"undefined":return qe.ZodParsedType.undefined;case"string":return qe.ZodParsedType.string;case"number":return isNaN(t)?qe.ZodParsedType.nan:qe.ZodParsedType.number;case"boolean":return qe.ZodParsedType.boolean;case"function":return qe.ZodParsedType.function;case"bigint":return qe.ZodParsedType.bigint;case"symbol":return qe.ZodParsedType.symbol;case"object":return Array.isArray(t)?qe.ZodParsedType.array:t===null?qe.ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?qe.ZodParsedType.map:typeof Set<"u"&&t instanceof Set?qe.ZodParsedType.set:typeof Date<"u"&&t instanceof Date?qe.ZodParsedType.date:qe.ZodParsedType.object;default:return qe.ZodParsedType.unknown}};qe.getParsedType=_j});var Ic=g(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.ZodError=Es.quotelessJson=Es.ZodIssueCode=void 0;var T0=Go();Es.ZodIssueCode=T0.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var wj=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");Es.quotelessJson=wj;var Wo=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},s={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let a=s,c=0;for(;c<o.path.length;){let u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return n(this),s}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,T0.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};Es.ZodError=Wo;Wo.create=t=>new Wo(t)});var Qd=g(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});var Cn=Go(),At=Ic(),Sj=(t,e)=>{let r;switch(t.code){case At.ZodIssueCode.invalid_type:t.received===Cn.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case At.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Cn.util.jsonStringifyReplacer)}`;break;case At.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${Cn.util.joinValues(t.keys,", ")}`;break;case At.ZodIssueCode.invalid_union:r="Invalid input";break;case At.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Cn.util.joinValues(t.options)}`;break;case At.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${Cn.util.joinValues(t.options)}, received '${t.received}'`;break;case At.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case At.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case At.ZodIssueCode.invalid_date:r="Invalid date";break;case At.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Cn.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case At.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case At.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case At.ZodIssueCode.custom:r="Invalid input";break;case At.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case At.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case At.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,Cn.util.assertNever(t)}return{message:r}};Wd.default=Sj});var jc=g(Dr=>{"use strict";var kj=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.getErrorMap=Dr.setErrorMap=Dr.defaultErrorMap=void 0;var O0=kj(Qd());Dr.defaultErrorMap=O0.default;var P0=O0.default;function Ej(t){P0=t}Dr.setErrorMap=Ej;function Aj(){return P0}Dr.getErrorMap=Aj});var Yd=g(Re=>{"use strict";var Tj=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.isAsync=Re.isValid=Re.isDirty=Re.isAborted=Re.OK=Re.DIRTY=Re.INVALID=Re.ParseStatus=Re.addIssueToContext=Re.EMPTY_PATH=Re.makeIssue=void 0;var Oj=jc(),C0=Tj(Qd()),Pj=t=>{let{data:e,path:r,errorMaps:s,issueData:n}=t,i=[...r,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let a="",c=s.filter(u=>!!u).slice().reverse();for(let u of c)a=u(o,{data:e,defaultError:a}).message;return{...n,path:i,message:a}};Re.makeIssue=Pj;Re.EMPTY_PATH=[];function Cj(t,e){let r=(0,Oj.getErrorMap)(),s=(0,Re.makeIssue)({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===C0.default?void 0:C0.default].filter(n=>!!n)});t.common.issues.push(s)}Re.addIssueToContext=Cj;var Jd=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let n of r){if(n.status==="aborted")return Re.INVALID;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let n of r){let i=await n.key,o=await n.value;s.push({key:i,value:o})}return t.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let n of r){let{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return Re.INVALID;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}};Re.ParseStatus=Jd;Re.INVALID=Object.freeze({status:"aborted"});var Rj=t=>({status:"dirty",value:t});Re.DIRTY=Rj;var Ij=t=>({status:"valid",value:t});Re.OK=Ij;var jj=t=>t.status==="aborted";Re.isAborted=jj;var Dj=t=>t.status==="dirty";Re.isDirty=Dj;var Bj=t=>t.status==="valid";Re.isValid=Bj;var Nj=t=>typeof Promise<"u"&&t instanceof Promise;Re.isAsync=Nj});var I0=g(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0})});var D0=g(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.errorUtil=void 0;var j0;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(j0||(Dc.errorUtil=j0={}))});var K0=g(w=>{"use strict";var Nc=w&&w.__classPrivateFieldGet||function(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)},q0=w&&w.__classPrivateFieldSet||function(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},Qo,Jo;Object.defineProperty(w,"__esModule",{value:!0});w.boolean=w.bigint=w.array=w.any=w.coerce=w.ZodFirstPartyTypeKind=w.late=w.ZodSchema=w.Schema=w.custom=w.ZodReadonly=w.ZodPipeline=w.ZodBranded=w.BRAND=w.ZodNaN=w.ZodCatch=w.ZodDefault=w.ZodNullable=w.ZodOptional=w.ZodTransformer=w.ZodEffects=w.ZodPromise=w.ZodNativeEnum=w.ZodEnum=w.ZodLiteral=w.ZodLazy=w.ZodFunction=w.ZodSet=w.ZodMap=w.ZodRecord=w.ZodTuple=w.ZodIntersection=w.ZodDiscriminatedUnion=w.ZodUnion=w.ZodObject=w.ZodArray=w.ZodVoid=w.ZodNever=w.ZodUnknown=w.ZodAny=w.ZodNull=w.ZodUndefined=w.ZodSymbol=w.ZodDate=w.ZodBoolean=w.ZodBigInt=w.ZodNumber=w.ZodString=w.datetimeRegex=w.ZodType=void 0;w.NEVER=w.void=w.unknown=w.union=w.undefined=w.tuple=w.transformer=w.symbol=w.string=w.strictObject=w.set=w.record=w.promise=w.preprocess=w.pipeline=w.ostring=w.optional=w.onumber=w.oboolean=w.object=w.number=w.nullable=w.null=w.never=w.nativeEnum=w.nan=w.map=w.literal=w.lazy=w.intersection=w.instanceof=w.function=w.enum=w.effect=w.discriminatedUnion=w.date=void 0;var Bc=jc(),K=D0(),A=Yd(),B=Go(),I=Ic(),pr=class{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},B0=(t,e)=>{if((0,A.isValid)(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new I.ZodError(t.common.issues);return this._error=r,this._error}}};function de(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,a)=>{var c,u;let{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:(c=l??s)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=l??r)!==null&&u!==void 0?u:a.defaultError}},description:n}}var fe=class{get description(){return this._def.description}_getType(e){return(0,B.getParsedType)(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:(0,B.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new A.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,B.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if((0,A.isAsync)(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;let n={common:{issues:[],async:(s=r?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,B.getParsedType)(e)},i=this._parseSync({data:e,path:n.path,parent:n});return B0(n,i)}"~validate"(e){var r,s;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,B.getParsedType)(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:n});return(0,A.isValid)(i)?{value:i.value}:{issues:n.common.issues}}catch(i){!((s=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>(0,A.isValid)(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,B.getParsedType)(e)},n=this._parse({data:e,path:s.path,parent:s}),i=await((0,A.isAsync)(n)?n:Promise.resolve(n));return B0(s,i)}refine(e,r){let s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{let o=e(n),a=()=>i.addIssue({code:I.ZodIssueCode.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new Yt({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return lr.create(this,this._def)}nullable(){return Nr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rs.create(this)}promise(){return Os.create(this,this._def)}or(e){return qn.create([this,e],this._def)}and(e){return Mn.create(this,e,this._def)}transform(e){return new Yt({...de(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Hn({...de(this._def),innerType:this,defaultValue:r,typeName:ne.ZodDefault})}brand(){return new Yo({typeName:ne.ZodBranded,type:this,...de(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Zn({...de(this._def),innerType:this,catchValue:r,typeName:ne.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Xo.create(this,e)}readonly(){return Vn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};w.ZodType=fe;w.Schema=fe;w.ZodSchema=fe;var qj=/^c[^\s-]{8,}$/i,Mj=/^[0-9a-z]+$/,Lj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Uj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fj=/^[a-z0-9_-]{21}$/i,zj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Xd,$j=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Qj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,M0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Yj=new RegExp(`^${M0}$`);function L0(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Xj(t){return new RegExp(`^${L0(t)}$`)}function U0(t){let e=`${M0}T${L0(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}w.datetimeRegex=U0;function eD(t,e){return!!((e==="v4"||!e)&&$j.test(t)||(e==="v6"||!e)&&Gj.test(t))}function tD(t,e){if(!zj.test(t))return!1;try{let[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function rD(t,e){return!!((e==="v4"||!e)&&Kj.test(t)||(e==="v6"||!e)&&Wj.test(t))}var As=class t extends fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==B.ZodParsedType.string){let i=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(i,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.string,received:i.parsedType}),A.INVALID}let s=new A.ParseStatus,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(n=this._getOrReturnCtx(e,n),o?(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Zj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"email",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Xd||(Xd=new RegExp(Vj,"u")),Xd.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"emoji",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Uj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"uuid",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Fj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"nanoid",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")qj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"cuid",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Mj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"cuid2",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Lj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"ulid",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"url",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"regex",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?U0(i).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?Yj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?Xj(i).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Hj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"duration",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?eD(e.data,i.version)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"ip",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?tD(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"jwt",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?rD(e.data,i.version)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"cidr",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Qj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"base64",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?Jj.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{validation:"base64url",code:I.ZodIssueCode.invalid_string,message:i.message}),s.dirty()):B.util.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:I.ZodIssueCode.invalid_string,...K.errorUtil.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...K.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...K.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...K.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...K.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...K.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...K.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...K.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...K.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...K.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...K.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...K.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...K.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...K.errorUtil.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...K.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...K.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...K.errorUtil.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...K.errorUtil.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...K.errorUtil.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...K.errorUtil.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...K.errorUtil.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...K.errorUtil.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...K.errorUtil.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...K.errorUtil.errToObj(r)})}nonempty(e){return this.min(1,K.errorUtil.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};w.ZodString=As;As.create=t=>{var e;return new As({checks:[],typeName:ne.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...de(t)})};function sD(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,i=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return i%o/Math.pow(10,n)}var Rn=class t extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==B.ZodParsedType.number){let i=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(i,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.number,received:i.parsedType}),A.INVALID}let s,n=new A.ParseStatus;for(let i of this._def.checks)i.kind==="int"?B.util.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?sD(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.not_finite,message:i.message}),n.dirty()):B.util.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,K.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,K.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,K.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,K.errorUtil.toString(r))}setLimit(e,r,s,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:K.errorUtil.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:K.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:K.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:K.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:K.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:K.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:K.errorUtil.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:K.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:K.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:K.errorUtil.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&B.util.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};w.ZodNumber=Rn;Rn.create=t=>new Rn({checks:[],typeName:ne.ZodNumber,coerce:t?.coerce||!1,...de(t)});var In=class t extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==B.ZodParsedType.bigint)return this._getInvalidInput(e);let s,n=new A.ParseStatus;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):B.util.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.bigint,received:r.parsedType}),A.INVALID}gte(e,r){return this.setLimit("min",e,!0,K.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,K.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,K.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,K.errorUtil.toString(r))}setLimit(e,r,s,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:K.errorUtil.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:K.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:K.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:K.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:K.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:K.errorUtil.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};w.ZodBigInt=In;In.create=t=>{var e;return new In({checks:[],typeName:ne.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...de(t)})};var jn=class extends fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==B.ZodParsedType.boolean){let s=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.boolean,received:s.parsedType}),A.INVALID}return(0,A.OK)(e.data)}};w.ZodBoolean=jn;jn.create=t=>new jn({typeName:ne.ZodBoolean,coerce:t?.coerce||!1,...de(t)});var Dn=class t extends fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==B.ZodParsedType.date){let i=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(i,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.date,received:i.parsedType}),A.INVALID}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(i,{code:I.ZodIssueCode.invalid_date}),A.INVALID}let s=new A.ParseStatus,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),(0,A.addIssueToContext)(n,{code:I.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):B.util.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:K.errorUtil.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:K.errorUtil.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};w.ZodDate=Dn;Dn.create=t=>new Dn({checks:[],coerce:t?.coerce||!1,typeName:ne.ZodDate,...de(t)});var Bi=class extends fe{_parse(e){if(this._getType(e)!==B.ZodParsedType.symbol){let s=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.symbol,received:s.parsedType}),A.INVALID}return(0,A.OK)(e.data)}};w.ZodSymbol=Bi;Bi.create=t=>new Bi({typeName:ne.ZodSymbol,...de(t)});var Bn=class extends fe{_parse(e){if(this._getType(e)!==B.ZodParsedType.undefined){let s=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.undefined,received:s.parsedType}),A.INVALID}return(0,A.OK)(e.data)}};w.ZodUndefined=Bn;Bn.create=t=>new Bn({typeName:ne.ZodUndefined,...de(t)});var Nn=class extends fe{_parse(e){if(this._getType(e)!==B.ZodParsedType.null){let s=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.null,received:s.parsedType}),A.INVALID}return(0,A.OK)(e.data)}};w.ZodNull=Nn;Nn.create=t=>new Nn({typeName:ne.ZodNull,...de(t)});var Ts=class extends fe{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,A.OK)(e.data)}};w.ZodAny=Ts;Ts.create=t=>new Ts({typeName:ne.ZodAny,...de(t)});var ts=class extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,A.OK)(e.data)}};w.ZodUnknown=ts;ts.create=t=>new ts({typeName:ne.ZodUnknown,...de(t)});var br=class extends fe{_parse(e){let r=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.never,received:r.parsedType}),A.INVALID}};w.ZodNever=br;br.create=t=>new br({typeName:ne.ZodNever,...de(t)});var Ni=class extends fe{_parse(e){if(this._getType(e)!==B.ZodParsedType.undefined){let s=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.void,received:s.parsedType}),A.INVALID}return(0,A.OK)(e.data)}};w.ZodVoid=Ni;Ni.create=t=>new Ni({typeName:ne.ZodVoid,...de(t)});var rs=class t extends fe{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==B.ZodParsedType.array)return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.array,received:r.parsedType}),A.INVALID;if(n.exactLength!==null){let o=r.data.length>n.exactLength.value,a=r.data.length<n.exactLength.value;(o||a)&&((0,A.addIssueToContext)(r,{code:o?I.ZodIssueCode.too_big:I.ZodIssueCode.too_small,minimum:a?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&((0,A.addIssueToContext)(r,{code:I.ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&((0,A.addIssueToContext)(r,{code:I.ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>n.type._parseAsync(new pr(r,o,r.path,a)))).then(o=>A.ParseStatus.mergeArray(s,o));let i=[...r.data].map((o,a)=>n.type._parseSync(new pr(r,o,r.path,a)));return A.ParseStatus.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:K.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:K.errorUtil.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:K.errorUtil.toString(r)}})}nonempty(e){return this.min(1,e)}};w.ZodArray=rs;rs.create=(t,e)=>new rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...de(e)});function Di(t){if(t instanceof Ft){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=lr.create(Di(s))}return new Ft({...t._def,shape:()=>e})}else return t instanceof rs?new rs({...t._def,type:Di(t.element)}):t instanceof lr?lr.create(Di(t.unwrap())):t instanceof Nr?Nr.create(Di(t.unwrap())):t instanceof Br?Br.create(t.items.map(e=>Di(e))):t}var Ft=class t extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=B.util.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==B.ZodParsedType.object){let u=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(u,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.object,received:u.parsedType}),A.INVALID}let{status:s,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof br&&this._def.unknownKeys==="strip"))for(let u in n.data)o.includes(u)||a.push(u);let c=[];for(let u of o){let l=i[u],p=n.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new pr(n,p,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof br){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(u==="strict")a.length>0&&((0,A.addIssueToContext)(n,{code:I.ZodIssueCode.unrecognized_keys,keys:a}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of a){let p=n.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new pr(n,p,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let p=await l.key,y=await l.value;u.push({key:p,value:y,alwaysSet:l.alwaysSet})}return u}).then(u=>A.ParseStatus.mergeObjectSync(s,u)):A.ParseStatus.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return K.errorUtil.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,i,o,a;let c=(o=(i=(n=this._def).errorMap)===null||i===void 0?void 0:i.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(a=K.errorUtil.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ne.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return B.util.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return B.util.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new t({...this._def,shape:()=>r})}deepPartial(){return Di(this)}partial(e){let r={};return B.util.objectKeys(this.shape).forEach(s=>{let n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return B.util.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof lr;)i=i._def.innerType;r[s]=i}}),new t({...this._def,shape:()=>r})}keyof(){return F0(B.util.objectKeys(this.shape))}};w.ZodObject=Ft;Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:br.create(),typeName:ne.ZodObject,...de(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:br.create(),typeName:ne.ZodObject,...de(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:br.create(),typeName:ne.ZodObject,...de(e)});var qn=class extends fe{_parse(e){let{ctx:r}=this._processInputParams(e),s=this._def.options;function n(i){for(let a of i)if(a.result.status==="valid")return a.result;for(let a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(a=>new I.ZodError(a.ctx.common.issues));return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_union,unionErrors:o}),A.INVALID}if(r.common.async)return Promise.all(s.map(async i=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let i,o=[];for(let c of s){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let a=o.map(c=>new I.ZodError(c));return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_union,unionErrors:a}),A.INVALID}}get options(){return this._def.options}};w.ZodUnion=qn;qn.create=(t,e)=>new qn({options:t,typeName:ne.ZodUnion,...de(e)});var es=t=>t instanceof Ln?es(t.schema):t instanceof Yt?es(t.innerType()):t instanceof Un?[t.value]:t instanceof Fn?t.options:t instanceof zn?B.util.objectValues(t.enum):t instanceof Hn?es(t._def.innerType):t instanceof Bn?[void 0]:t instanceof Nn?[null]:t instanceof lr?[void 0,...es(t.unwrap())]:t instanceof Nr?[null,...es(t.unwrap())]:t instanceof Yo||t instanceof Vn?es(t.unwrap()):t instanceof Zn?es(t._def.innerType):[],qc=class t extends fe{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==B.ZodParsedType.object)return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.object,received:r.parsedType}),A.INVALID;let s=this.discriminator,n=r.data[s],i=this.optionsMap.get(n);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):((0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),A.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let n=new Map;for(let i of r){let o=es(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,i)}}return new t({typeName:ne.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...de(s)})}};w.ZodDiscriminatedUnion=qc;function ef(t,e){let r=(0,B.getParsedType)(t),s=(0,B.getParsedType)(e);if(t===e)return{valid:!0,data:t};if(r===B.ZodParsedType.object&&s===B.ZodParsedType.object){let n=B.util.objectKeys(e),i=B.util.objectKeys(t).filter(a=>n.indexOf(a)!==-1),o={...t,...e};for(let a of i){let c=ef(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===B.ZodParsedType.array&&s===B.ZodParsedType.array){if(t.length!==e.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let o=t[i],a=e[i],c=ef(o,a);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===B.ZodParsedType.date&&s===B.ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Mn=class extends fe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),n=(i,o)=>{if((0,A.isAborted)(i)||(0,A.isAborted)(o))return A.INVALID;let a=ef(i.value,o.value);return a.valid?(((0,A.isDirty)(i)||(0,A.isDirty)(o))&&r.dirty(),{status:r.value,value:a.data}):((0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_intersection_types}),A.INVALID)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};w.ZodIntersection=Mn;Mn.create=(t,e,r)=>new Mn({left:t,right:e,typeName:ne.ZodIntersection,...de(r)});var Br=class t extends fe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==B.ZodParsedType.array)return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.array,received:s.parsedType}),A.INVALID;if(s.data.length<this._def.items.length)return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),A.INVALID;!this._def.rest&&s.data.length>this._def.items.length&&((0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...s.data].map((o,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new pr(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>A.ParseStatus.mergeArray(r,o)):A.ParseStatus.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};w.ZodTuple=Br;Br.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Br({items:t,typeName:ne.ZodTuple,rest:null,...de(e)})};var Mc=class t extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==B.ZodParsedType.object)return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.object,received:s.parsedType}),A.INVALID;let n=[],i=this._def.keyType,o=this._def.valueType;for(let a in s.data)n.push({key:i._parse(new pr(s,a,s.path,a)),value:o._parse(new pr(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?A.ParseStatus.mergeObjectAsync(r,n):A.ParseStatus.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof fe?new t({keyType:e,valueType:r,typeName:ne.ZodRecord,...de(s)}):new t({keyType:As.create(),valueType:e,typeName:ne.ZodRecord,...de(r)})}};w.ZodRecord=Mc;var qi=class extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==B.ZodParsedType.map)return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.map,received:s.parsedType}),A.INVALID;let n=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([a,c],u)=>({key:n._parse(new pr(s,a,s.path,[u,"key"])),value:i._parse(new pr(s,c,s.path,[u,"value"]))}));if(s.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of o){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return A.INVALID;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of o){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return A.INVALID;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}};w.ZodMap=qi;qi.create=(t,e,r)=>new qi({valueType:e,keyType:t,typeName:ne.ZodMap,...de(r)});var Mi=class t extends fe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==B.ZodParsedType.set)return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.set,received:s.parsedType}),A.INVALID;let n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&((0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&((0,A.addIssueToContext)(s,{code:I.ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let i=this._def.valueType;function o(c){let u=new Set;for(let l of c){if(l.status==="aborted")return A.INVALID;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let a=[...s.data.values()].map((c,u)=>i._parse(new pr(s,c,s.path,u)));return s.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:K.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:K.errorUtil.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};w.ZodSet=Mi;Mi.create=(t,e)=>new Mi({valueType:t,minSize:null,maxSize:null,typeName:ne.ZodSet,...de(e)});var Lc=class t extends fe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==B.ZodParsedType.function)return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.function,received:r.parsedType}),A.INVALID;function s(a,c){return(0,A.makeIssue)({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,Bc.getErrorMap)(),Bc.defaultErrorMap].filter(u=>!!u),issueData:{code:I.ZodIssueCode.invalid_arguments,argumentsError:c}})}function n(a,c){return(0,A.makeIssue)({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,Bc.getErrorMap)(),Bc.defaultErrorMap].filter(u=>!!u),issueData:{code:I.ZodIssueCode.invalid_return_type,returnTypeError:c}})}let i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Os){let a=this;return(0,A.OK)(async function(...c){let u=new I.ZodError([]),l=await a._def.args.parseAsync(c,i).catch(f=>{throw u.addIssue(s(c,f)),u}),p=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(p,i).catch(f=>{throw u.addIssue(n(p,f)),u})})}else{let a=this;return(0,A.OK)(function(...c){let u=a._def.args.safeParse(c,i);if(!u.success)throw new I.ZodError([s(c,u.error)]);let l=Reflect.apply(o,this,u.data),p=a._def.returns.safeParse(l,i);if(!p.success)throw new I.ZodError([n(l,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Br.create(e).rest(ts.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new t({args:e||Br.create([]).rest(ts.create()),returns:r||ts.create(),typeName:ne.ZodFunction,...de(s)})}};w.ZodFunction=Lc;var Ln=class extends fe{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};w.ZodLazy=Ln;Ln.create=(t,e)=>new Ln({getter:t,typeName:ne.ZodLazy,...de(e)});var Un=class extends fe{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(r,{received:r.data,code:I.ZodIssueCode.invalid_literal,expected:this._def.value}),A.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};w.ZodLiteral=Un;Un.create=(t,e)=>new Un({value:t,typeName:ne.ZodLiteral,...de(e)});function F0(t,e){return new Fn({values:t,typeName:ne.ZodEnum,...de(e)})}var Fn=class t extends fe{constructor(){super(...arguments),Qo.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return(0,A.addIssueToContext)(r,{expected:B.util.joinValues(s),received:r.parsedType,code:I.ZodIssueCode.invalid_type}),A.INVALID}if(Nc(this,Qo,"f")||q0(this,Qo,new Set(this._def.values),"f"),!Nc(this,Qo,"f").has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return(0,A.addIssueToContext)(r,{received:r.data,code:I.ZodIssueCode.invalid_enum_value,options:s}),A.INVALID}return(0,A.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};w.ZodEnum=Fn;Qo=new WeakMap;Fn.create=F0;var zn=class extends fe{constructor(){super(...arguments),Jo.set(this,void 0)}_parse(e){let r=B.util.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==B.ZodParsedType.string&&s.parsedType!==B.ZodParsedType.number){let n=B.util.objectValues(r);return(0,A.addIssueToContext)(s,{expected:B.util.joinValues(n),received:s.parsedType,code:I.ZodIssueCode.invalid_type}),A.INVALID}if(Nc(this,Jo,"f")||q0(this,Jo,new Set(B.util.getValidEnumValues(this._def.values)),"f"),!Nc(this,Jo,"f").has(e.data)){let n=B.util.objectValues(r);return(0,A.addIssueToContext)(s,{received:s.data,code:I.ZodIssueCode.invalid_enum_value,options:n}),A.INVALID}return(0,A.OK)(e.data)}get enum(){return this._def.values}};w.ZodNativeEnum=zn;Jo=new WeakMap;zn.create=(t,e)=>new zn({values:t,typeName:ne.ZodNativeEnum,...de(e)});var Os=class extends fe{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==B.ZodParsedType.promise&&r.common.async===!1)return(0,A.addIssueToContext)(r,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.promise,received:r.parsedType}),A.INVALID;let s=r.parsedType===B.ZodParsedType.promise?r.data:Promise.resolve(r.data);return(0,A.OK)(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};w.ZodPromise=Os;Os.create=(t,e)=>new Os({type:t,typeName:ne.ZodPromise,...de(e)});var Yt=class extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{(0,A.addIssueToContext)(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let o=n.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return A.INVALID;let c=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return c.status==="aborted"?A.INVALID:c.status==="dirty"||r.value==="dirty"?(0,A.DIRTY)(c.value):c});{if(r.value==="aborted")return A.INVALID;let a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?A.INVALID:a.status==="dirty"||r.value==="dirty"?(0,A.DIRTY)(a.value):a}}if(n.type==="refinement"){let o=a=>{let c=n.refinement(a,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){let a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?A.INVALID:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?A.INVALID:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(n.type==="transform")if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!(0,A.isValid)(o))return o;let a=n.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>(0,A.isValid)(o)?Promise.resolve(n.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);B.util.assertNever(n)}};w.ZodEffects=Yt;w.ZodTransformer=Yt;Yt.create=(t,e,r)=>new Yt({schema:t,typeName:ne.ZodEffects,effect:e,...de(r)});Yt.createWithPreprocess=(t,e,r)=>new Yt({schema:e,effect:{type:"preprocess",transform:t},typeName:ne.ZodEffects,...de(r)});var lr=class extends fe{_parse(e){return this._getType(e)===B.ZodParsedType.undefined?(0,A.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};w.ZodOptional=lr;lr.create=(t,e)=>new lr({innerType:t,typeName:ne.ZodOptional,...de(e)});var Nr=class extends fe{_parse(e){return this._getType(e)===B.ZodParsedType.null?(0,A.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};w.ZodNullable=Nr;Nr.create=(t,e)=>new Nr({innerType:t,typeName:ne.ZodNullable,...de(e)});var Hn=class extends fe{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return r.parsedType===B.ZodParsedType.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};w.ZodDefault=Hn;Hn.create=(t,e)=>new Hn({innerType:t,typeName:ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});var Zn=class extends fe{_parse(e){let{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return(0,A.isAsync)(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new I.ZodError(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new I.ZodError(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};w.ZodCatch=Zn;Zn.create=(t,e)=>new Zn({innerType:t,typeName:ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});var Li=class extends fe{_parse(e){if(this._getType(e)!==B.ZodParsedType.nan){let s=this._getOrReturnCtx(e);return(0,A.addIssueToContext)(s,{code:I.ZodIssueCode.invalid_type,expected:B.ZodParsedType.nan,received:s.parsedType}),A.INVALID}return{status:"valid",value:e.data}}};w.ZodNaN=Li;Li.create=t=>new Li({typeName:ne.ZodNaN,...de(t)});w.BRAND=Symbol("zod_brand");var Yo=class extends fe{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}};w.ZodBranded=Yo;var Xo=class t extends fe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?A.INVALID:i.status==="dirty"?(r.dirty(),(0,A.DIRTY)(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{let n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?A.INVALID:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new t({in:e,out:r,typeName:ne.ZodPipeline})}};w.ZodPipeline=Xo;var Vn=class extends fe{_parse(e){let r=this._def.innerType._parse(e),s=n=>((0,A.isValid)(n)&&(n.value=Object.freeze(n.value)),n);return(0,A.isAsync)(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}};w.ZodReadonly=Vn;Vn.create=(t,e)=>new Vn({innerType:t,typeName:ne.ZodReadonly,...de(e)});function N0(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function z0(t,e={},r){return t?Ts.create().superRefine((s,n)=>{var i,o;let a=t(s);if(a instanceof Promise)return a.then(c=>{var u,l;if(!c){let p=N0(e,s),y=(l=(u=p.fatal)!==null&&u!==void 0?u:r)!==null&&l!==void 0?l:!0;n.addIssue({code:"custom",...p,fatal:y})}});if(!a){let c=N0(e,s),u=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...c,fatal:u})}}):Ts.create()}w.custom=z0;w.late={object:Ft.lazycreate};var ne;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ne||(w.ZodFirstPartyTypeKind=ne={}));var nD=(t,e={message:`Input not instance of ${t.name}`})=>z0(r=>r instanceof t,e);w.instanceof=nD;var H0=As.create;w.string=H0;var Z0=Rn.create;w.number=Z0;var iD=Li.create;w.nan=iD;var oD=In.create;w.bigint=oD;var V0=jn.create;w.boolean=V0;var aD=Dn.create;w.date=aD;var cD=Bi.create;w.symbol=cD;var uD=Bn.create;w.undefined=uD;var lD=Nn.create;w.null=lD;var pD=Ts.create;w.any=pD;var dD=ts.create;w.unknown=dD;var fD=br.create;w.never=fD;var hD=Ni.create;w.void=hD;var mD=rs.create;w.array=mD;var yD=Ft.create;w.object=yD;var gD=Ft.strictCreate;w.strictObject=gD;var bD=qn.create;w.union=bD;var vD=qc.create;w.discriminatedUnion=vD;var xD=Mn.create;w.intersection=xD;var _D=Br.create;w.tuple=_D;var wD=Mc.create;w.record=wD;var SD=qi.create;w.map=SD;var kD=Mi.create;w.set=kD;var ED=Lc.create;w.function=ED;var AD=Ln.create;w.lazy=AD;var TD=Un.create;w.literal=TD;var OD=Fn.create;w.enum=OD;var PD=zn.create;w.nativeEnum=PD;var CD=Os.create;w.promise=CD;var $0=Yt.create;w.effect=$0;w.transformer=$0;var RD=lr.create;w.optional=RD;var ID=Nr.create;w.nullable=ID;var jD=Yt.createWithPreprocess;w.preprocess=jD;var DD=Xo.create;w.pipeline=DD;var BD=()=>H0().optional();w.ostring=BD;var ND=()=>Z0().optional();w.onumber=ND;var qD=()=>V0().optional();w.oboolean=qD;w.coerce={string:t=>As.create({...t,coerce:!0}),number:t=>Rn.create({...t,coerce:!0}),boolean:t=>jn.create({...t,coerce:!0}),bigint:t=>In.create({...t,coerce:!0}),date:t=>Dn.create({...t,coerce:!0})};w.NEVER=A.INVALID});var tf=g(dr=>{"use strict";var MD=dr&&dr.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),Ui=dr&&dr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MD(e,t,r)};Object.defineProperty(dr,"__esModule",{value:!0});Ui(jc(),dr);Ui(Yd(),dr);Ui(I0(),dr);Ui(Go(),dr);Ui(K0(),dr);Ui(Ic(),dr)});var qr=g(zt=>{"use strict";var G0=zt&&zt.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),LD=zt&&zt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UD=zt&&zt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&G0(e,t,r);return LD(e,t),e},FD=zt&&zt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&G0(e,t,r)};Object.defineProperty(zt,"__esModule",{value:!0});zt.z=void 0;var W0=UD(tf());zt.z=W0;FD(tf(),zt);zt.default=W0});var J0=g(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0})});var Me=g(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.DSLBuilder=void 0;var rf=class t{constructor(e,r,s="inline"){this.element={type:e,props:Object.assign({},r),children:[],renderMode:s,actions:[]}}setProp(e,r){return this.element.props[e]=r,this}setRenderMode(e){return this.element.renderMode=e,this}addChild(e){return e instanceof t?this.element.children.push(e.build()):this.element.children.push(e),this}addChildren(e){return e.forEach(r=>this.addChild(r)),this}addAction(e){return this.element.actions||(this.element.actions=[]),this.element.actions.push(e),this}build(){return this.element}};Uc.DSLBuilder=rf});var Y0=g(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.UI_ASSETS=void 0;Fc.UI_ASSETS={oauth:{google:{logo:"https://www.google.com/calendar/images/calendar_logo_sm.gif",defaultTitle:"Google Authentication",defaultContent:"Please authenticate with Google to continue"},github:{logo:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",defaultTitle:"GitHub Authentication",defaultContent:"Please authenticate with GitHub to continue"},twitter:{logo:"https://abs.twimg.com/responsive-web/client-web/icon-ios.b1fc727a.png",defaultTitle:"Twitter Authentication",defaultContent:"Please authenticate with Twitter to continue"},linkedin:{logo:"https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca",defaultTitle:"LinkedIn Authentication",defaultContent:"Please authenticate with LinkedIn to continue"},telegram:{logo:"https://telegram.org/img/t_logo.png",defaultTitle:"Telegram Authentication",defaultContent:"Please authenticate with Telegram to continue"}}}});var X0=g(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.OAuthUIBuilder=void 0;var zD=Me(),HD=Y0();function ZD(t){let e=HD.UI_ASSETS.oauth[t];return e?{logo:e.logo,title:e.defaultTitle,content:e.defaultContent}:{}}var sf=class extends zD.DSLBuilder{constructor(e){if(super("oauth2",e),e?.provider){let r=ZD(e.provider);!e.logo&&r.logo&&this.logo(r.logo),!e.title&&r.title&&this.title(r.title),!e.content&&r.content&&this.content(r.content)}}provider(e){return this.setProp("provider",e)}url(e){return this.setProp("url",e)}title(e){return this.setProp("title",e)}content(e){return this.setProp("content",e)}logo(e){return this.setProp("logo",e)}};zc.OAuthUIBuilder=sf});var e_=g(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.AlertUIBuilder=void 0;var VD=Me(),nf=class extends VD.DSLBuilder{constructor(e,r="inline"){super("alert",e,r)}variant(e){return this.setProp("variant",e)}message(e){return this.setProp("message",e)}title(e){return this.setProp("title",e)}icon(e=!0){return this.setProp("icon",e)}type(e){return this.setProp("type",e)}};Hc.AlertUIBuilder=nf});var t_=g(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.CardUIBuilder=void 0;var $D=Me(),of=class extends $D.DSLBuilder{constructor(e,r="inline"){super("card",e,r)}title(e){return this.setProp("title",e)}content(e){return this.setProp("content",e)}alignActions(e){return this.setProp("actionAlignment",e)}onConfirm(e){let{tool:r,paramSchema:s,params:n}=e;if(!r||!s||!n)throw new Error("onConfirm action must have a tool, paramSchema, and params");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"button",config:{label:"Confirm",type:"button",variant:"primary"}})}addButton(e){let{label:r,tool:s,paramSchema:n,params:i,variant:o="primary"}=e;return this.addAction({key:"button",type:"callTool",tool:s,paramSchema:n,params:i,config:{label:r,type:"button",variant:o}})}addButtons(e,r){return r?e.forEach(s=>{let n=r(s);this.addButton(n)}):e.forEach(s=>{this.addButton(s)}),this}addField(e){return this.element.props.fields=this.element.props.fields||[],this.element.props.fields.push(e),this}addFields(e,r){return r?e.forEach(s=>{let n=r(s);this.addField(n)}):e.forEach(s=>{this.addField(s)}),this}};Zc.CardUIBuilder=of});var r_=g(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.ChartUIBuilder=void 0;var KD=Me(),af=class extends KD.DSLBuilder{constructor(e,r="inline"){super("chart",e,r)}type(e){return this.setProp("type",e)}title(e){return this.setProp("title",e)}description(e){return this.setProp("description",e)}chartData(e){return this.setProp("data",e)}dataKeys(e){return this.setProp("dataKeys",e)}trend(e,r){return this.setProp("trend",{value:e,text:r})}footer(e){return this.setProp("footer",e)}};Vc.ChartUIBuilder=af});var s_=g($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.TableUIBuilder=void 0;var cf=Me(),uf=class extends cf.DSLBuilder{constructor(e,r="inline"){super("table",e,r)}setColumns(e){return this.setProp("columns",e)}addColumn(e){var r;this.element.props.columns||(this.element.props.columns=[]);let s=Object.assign({flex:(r=e.flex)!==null&&r!==void 0?r:1,alignment:e.alignment},e);return s.component&&s.component instanceof cf.DSLBuilder&&(s.component=s.component.build()),this.element.props.columns.push(s),this}addColumns(e,r){return this.element.props.columns||(this.element.props.columns=[]),r?e.forEach(s=>{let n=r(s);this.addColumn(n)}):e.forEach(s=>{this.addColumn(s)}),this}setColumnProps(e,r){if(!this.element.props.columns)return this;let s=Object.assign({},r);return s.component&&s.component instanceof cf.DSLBuilder&&(s.component=s.component.build()),this.element.props.columns=this.element.props.columns.map(n=>n.key===e?Object.assign(Object.assign({},n),s):n),this}setColumnAlignment(e,r){return this.setColumnProps(e,{alignment:r})}rows(e){return this.setProp("rows",e)}useStripedRows(e=!0){return this.setProp("striped",e)}highlightRowsOnHover(e=!0){return this.setProp("highlightOnHover",e)}showBorders(e=!0){return this.setProp("borders",e)}setHorizontalBorders(e=!0){return this.setProp("horizontalBorders",e)}setVerticalBorders(e=!0){return this.setProp("verticalBorders",e)}setBorderStyle(e){return this.setProp("borderStyle",e)}setBorderColor(e){return this.setProp("borderColor",e)}setBorderWidth(e){return this.setProp("borderWidth",e)}setTableLayout(e){return this.setProp("tableLayout",e)}setMaxHeight(e){return this.setProp("maxHeight",e)}setMaxWidth(e){return this.setProp("maxWidth",e)}setHeaderStyle(e){return this.setProp("headerStyle",e)}setHeaderSize(e){return this.setProp("headerSize",e)}setHeaderDivider(e=!0){return this.setProp("headerDivider",e)}setHeaderFixed(e=!0){return this.setProp("headerFixed",e)}setHeaderEmphasis(e){return this.setProp("headerEmphasis",e)}setHeaderPadding(e){return this.setProp("headerPadding",e)}setHeaderPaddingTop(e){return this.setProp("headerPaddingTop",e)}setHeaderPaddingRight(e){return this.setProp("headerPaddingRight",e)}setHeaderPaddingBottom(e){return this.setProp("headerPaddingBottom",e)}setHeaderPaddingLeft(e){return this.setProp("headerPaddingLeft",e)}setSortable(e=!0){return this.setProp("sortable",e)}setDefaultSort(e,r){return this.setProp("defaultSortColumn",e),this.setProp("defaultSortDirection",r)}setFilterable(e=!0){return this.setProp("filterable",e)}setSearchable(e=!0,r){return this.setProp("searchable",e),r&&this.setProp("searchPlaceholder",r),this}setPagination(e=!0,r=10){return this.setProp("paginated",e),this.setProp("pageSize",r)}setPageSizeOptions(e){return this.setProp("pageSizeOptions",e)}setSelectable(e=!0,r=!1){return this.setProp("selectable",e),this.setProp("multiSelect",r)}setStickyHeader(e=!0){return this.setProp("stickyHeader",e)}setStickyFirstColumn(e=!0){return this.setProp("stickyFirstColumn",e)}setHorizontalScroll(e=!0){return this.setProp("horizontalScroll",e)}setActionsDisplay(e){return this.setProp("actionsDisplay",e)}addRowAction(e){let{hint:r,tool:s,type:n="callTool",prompt:i,variant:o="default",href:a,icon:c}=e;return this.addAction({hint:r,type:n,tool:s,prompt:i,key:"row-action",config:{hint:r,variant:o,href:a,icon:c}}),this}onRowClick(e){let{tool:r,paramSchema:s,params:n}=e;if(!r||!s||!n)throw new Error("onRowClick action must define a tool, paramSchema, and params.");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"rowClick"})}};$c.TableUIBuilder=uf});var n_=g(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.ImageUIBuilder=void 0;var GD=Mr(),lf=class extends GD.DSLBuilder{constructor(e,r="inline"){super("image",Object.assign({},e),r)}setSrc(e){return this.setProp("src",e)}setAlt(e){return this.setProp("alt",e)}setWidth(e){return this.setProp("width",e)}setHeight(e){return this.setProp("height",e)}setAspectRatio(e){return this.setProp("aspectRatio",e)}setObjectFit(e){return this.setProp("objectFit",e)}setBorderRadius(e){return this.setProp("borderRadius",e)}setBorderStyle(e){return this.setProp("borderStyle",e)}setBorderColor(e){return this.setProp("borderColor",e)}setBorderWidth(e){return this.setProp("borderWidth",e)}setBoxShadow(e){return this.setProp("boxShadow",e)}setFilter(e){return this.setProp("filter",e)}onClick({tool:e,params:r,paramSchema:s}){return this.addAction({key:"image-click",type:"callTool",tool:e,params:r,paramSchema:s,shouldCallLLMAfterTool:!1})}};Kc.ImageUIBuilder=lf});var o_=g(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.TextWithIconUIBuilder=void 0;var i_=Mr(),pf=class extends i_.DSLBuilder{constructor(e,r="inline"){super("textWithIcon",e,r)}text(e){return this.setProp("text",e)}icon(e){return e instanceof i_.DSLBuilder&&(e=e.build()),this.setProp("icon",e)}tooltip(e){return this.setProp("tooltip",e)}iconPosition(e){return this.setProp("iconPosition",e)}variant(e){return this.setProp("variant",e)}};Gc.TextWithIconUIBuilder=pf});var a_=g(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.cellWithActionsUIBuilder=void 0;var WD=Mr(),df=class extends WD.DSLBuilder{constructor(e,r="inline"){super("cellWithActions",e,r)}title(e){return this.setProp("content",e)}leadingIcon(e){return this.setProp("leadingIcon",e)}metaText(e){return this.setProp("metaText",e)}addHoverAction(e){let{hint:r,tool:s,type:n="callTool",variant:i="default",href:o,icon:a}=e;return this.addAction({hint:r,type:n,tool:s,key:"hover-action",config:{hint:r,variant:i,href:o,icon:a}}),this}addHoverActions(e){return e.forEach(r=>this.addHoverAction(r)),this}};Wc.cellWithActionsUIBuilder=df});var c_=g(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.ActionListUIBuilder=void 0;var QD=Mr(),ff=class extends QD.DSLBuilder{constructor(e,r="inline"){super("actionList",e,r)}orientation(e){return this.setProp("orientation",e)}label(e){return this.setProp("label",e)}helperText(e){return this.setProp("helperText",e)}addButton(e){let{hint:r,tool:s,variant:n="default",href:i,icon:o}=e;return this.addAction({hint:r,type:"callTool",tool:s,key:"action-list-action",config:{hint:r,variant:n,href:i,icon:o}}),this}addButtons(e,r){return r?e.forEach(s=>{let n=r(s);this.addButton(n)}):e.forEach(s=>{this.addButton(s)}),this}};Qc.ActionListUIBuilder=ff});var u_=g($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var ea=(Pe(),Ce(Oe));ea.__exportStar(s_(),$n);ea.__exportStar(n_(),$n);ea.__exportStar(o_(),$n);ea.__exportStar(a_(),$n);ea.__exportStar(c_(),$n)});var l_=g(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.DataGridUIBuilder=void 0;var JD=Me(),hf=class extends JD.DSLBuilder{constructor(e,r="inline"){super("datagrid",e,r)}addColumn(e){return this.element.props.columns||(this.element.props.columns=[]),this.element.props.columns.push(e),this}addColumns(e,r){return r?e.forEach(s=>{this.addColumn(r(s))}):e.forEach(s=>{this.addColumn(s)}),this}rows(e){return this.setProp("rows",e)}onRowClick(e){let{tool:r,paramSchema:s,params:n}=e;if(!r||!n)throw new Error("onRowClick action must have a tool, paramSchema, and params");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"onRowClick"})}};Jc.DataGridUIBuilder=hf});var p_=g(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.StatsGridUIBuilder=void 0;var YD=Me(),mf=class extends YD.DSLBuilder{constructor(e,r="inline"){super("statsGrid",Object.assign({stats:[]},e),r)}title(e){return this.setProp("title",e),this}setBaseParams(e){return this.setProp("baseParams",e),this}addStat(e){return this.element.props.stats.push(e),this}addStats(e){return e.forEach(r=>this.addStat(r)),this}onItemClick(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onItemClick action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"onItemClick"})}};Yc.StatsGridUIBuilder=mf});var d_=g(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.TimeLineUIBuilder=void 0;var XD=Me(),yf=class extends XD.DSLBuilder{constructor(e,r="inline"){super("timeline",Object.assign({items:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}addItem(e){return this.element.props.items.push(e),this}addItems(e){return e.forEach(r=>this.addItem(r)),this}onItemClick(e){let{tool:r,paramSchema:s,params:n}=e;if(!r)throw new Error("onItemClick action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"timeline-item-click"})}};Xc.TimeLineUIBuilder=yf});var f_=g(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.FormUIBuilder=void 0;var eB=(Pe(),Ce(Oe)),tB=Me(),gf=class extends tB.DSLBuilder{constructor(e,r="inline"){super("form",Object.assign({fields:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}addField(e){return this.element.props.fields.push(e),this}addFields(e){return e.forEach(r=>this.addField(r)),this}setLayout(e){return this.setProp("layout",e),this}onSubmit({tool:e,params:r}){if(!e)throw new Error("onSubmit action must specify a 'tool' (callTool).");let s={};for(let n of this.element.props.fields){let{name:i,label:o,placeholder:a,options:c}=n,u=eB.__rest(n,["name","label","placeholder","options"]);n.defaultValue!==void 0&&(u.default=n.defaultValue),s[i]=u}return this.addAction({type:"callTool",tool:e,paramSchema:s,params:r,key:"submit-form"})}};eu.FormUIBuilder=gf});var h_=g(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.ImageCardUIBuilder=void 0;var rB=Me(),bf=class extends rB.DSLBuilder{constructor(e,r,s="inline"){super("imageCard",Object.assign({imageUrl:e},r),s)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}imageAlt(e){return this.setProp("imageAlt",e),this}aspectRatio(e){return this.setProp("aspectRatio",e),this}withOverlay(e=!0){return this.setProp("overlay",e),this}className(e){return this.setProp("className",e),this}onLearnMore(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onLearnMore action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"open-link"})}onViewGallery(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onViewGallery action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"view-gallery"})}};tu.ImageCardUIBuilder=bf});var m_=g(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.ImageGalleryUIBuilder=void 0;var sB=Me(),vf=class extends sB.DSLBuilder{constructor(e,r="inline"){super("imageGallery",Object.assign({images:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}columns(e){return this.setProp("columns",e),this}addImage(e){return this.element.props.images.push(e),this}addImages(e){return e.forEach(r=>this.addImage(r)),this}disableResponsive(e=!0){return this.setProp("disableResponsive",e),this}onViewImage(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onViewImage action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"view"})}};ru.ImageGalleryUIBuilder=vf});var y_=g(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.CardListUIBuilder=void 0;var nB=Me(),xf=class extends nB.DSLBuilder{constructor(e,r="inline"){super("cardList",Object.assign({cards:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}addCard(e){return this.element.props.cards.push(e),this}addCards(e){return e.forEach(r=>this.addCard(r)),this}onConfirm(e){let{tool:r,params:s}=e;if(!r)throw new Error("onConfirm action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"confirm"}),this}withChildren(e){return this.addChild(e),this}};su.CardListUIBuilder=xf});var g_=g(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.ProgressListUIBuilder=void 0;var iB=Me(),_f=class extends iB.DSLBuilder{constructor(e,r="inline"){super("progressList",Object.assign({items:[]},e),r)}title(e){return this.setProp("title",e),this}addItem(e){return this.element.props.items.push(e),this}addItems(e){return e.forEach(r=>this.addItem(r)),this}onSelectItem(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onSelectItem action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"select"})}};nu.ProgressListUIBuilder=_f});var b_=g(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.MapUIBuilder=void 0;var oB=Me(),wf=class extends oB.DSLBuilder{constructor(e,r="inline"){super("map",Object.assign({markers:[],initialView:{latitude:0,longitude:0,zoom:3}},e),r)}setInitialView(e,r,s){return this.setProp("initialView",{latitude:e,longitude:r,zoom:s}),this}setMapStyle(e){return this.setProp("mapStyle",e),this}setZoomRange(e,r){return e!==void 0&&this.setProp("minZoom",e),r!==void 0&&this.setProp("maxZoom",r),this}addMarker(e){return this.element.props.markers.push(e),this}addMarkers(e){return e.forEach(r=>this.addMarker(r)),this}onMarkerClick(e){let{tool:r,params:s}=e;if(!r)throw new Error("onMarkerClick action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"on-marker-click"}),this}withChildren(e){return this.addChild(e),this}};iu.MapUIBuilder=wf});var v_=g(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.CheckoutUIBuilder=void 0;var aB=Me(),Sf=class extends aB.DSLBuilder{constructor(e,r,s,n="inline"){super("checkout",Object.assign({orderId:e,quoteId:r},s),n)}setTotalCost(e){return this.setProp("totalCost",e),this}setStore(e,r){return this.setProp("store",e),this.setProp("storeId",r),this}setDeliveryDetails(e){return this.setProp("deliveryDetails",e),this}onProceedToPayment(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onProceedToPayment action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"placeOrder"})}onCancelOrder(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onCancelOrder action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"cancel-order"})}};ou.CheckoutUIBuilder=Sf});var x_=g(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.OrderSuccessUIBuilder=void 0;var cB=Me(),kf=class extends cB.DSLBuilder{constructor(e,r,s,n,i="inline"){super("orderSuccess",Object.assign({orderId:e,trackingLink:r,finalQuote:s,isSandbox:!1},n),i)}setSandboxMode(e){return this.setProp("isSandbox",e),this}setTrackingLink(e){return this.setProp("trackingLink",e),this}setFinalQuote(e){return this.setProp("finalQuote",e),this}onTrackOrder(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onTrackOrder action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"track-order"})}onViewDetails(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onViewDetails action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"view-details"})}};au.OrderSuccessUIBuilder=kf});var __=g(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.MenuUIBuilder=void 0;var uB=Me(),Ef=class extends uB.DSLBuilder{constructor(e,r="inline"){super("menu",Object.assign({categories:[],totalPages:1,currentPage:1},e),r)}setPagination(e,r){return this.setProp("currentPage",e),this.setProp("totalPages",r),this}addCategory(e){return this.element.props.categories.push(e),this}addCategories(e){return e.forEach(r=>this.addCategory(r)),this}onAddToOrder(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onAddToOrder action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"addToOrder"})}onCategoryChange(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onCategoryChange action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"categoryChange"})}};cu.MenuUIBuilder=Ef});var w_=g(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.CustomizeProductUIBuilder=void 0;var lB=Me(),Af=class extends lB.DSLBuilder{constructor(e,r="inline"){super("customizeProduct",Object.assign({customizations:[]},e),r)}addCustomization(e){return this.element.props.customizations.push(e),this}addCustomizations(e){return e.forEach(r=>this.addCustomization(r)),this}onOptionSelect(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onOptionSelect action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"select"})}onProceed(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onProceed action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"proceed"})}onSkip(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onSkip action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"skip"})}};uu.CustomizeProductUIBuilder=Af});var S_=g(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.PaymentUIBuilder=void 0;var pB=Me(),Tf=class extends pB.DSLBuilder{constructor(e,r,s="inline"){super("payment",Object.assign({paymentSuccess:e},r),s)}setMessage(e){return this.setProp("message",e),this}setTransactionDetails(e,r,s){return this.setProp("transactionId",e),this.setProp("amount",r),this.setProp("currency",s),this}onRetry(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onRetry action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"retry"})}onPay(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onPay action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"pay"})}};lu.PaymentUIBuilder=Tf});var k_=g(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.CartActionSuccessUIBuilder=void 0;var dB=Me(),Of=class extends dB.DSLBuilder{constructor(e,r="inline"){super("cartActionSuccess",Object.assign({itemsChanged:[]},e),r)}setType(e){return this.setProp("type",e),this}addItemChanged(e){return this.element.props.itemsChanged||(this.element.props.itemsChanged=[]),this.element.props.itemsChanged.push(e),this}addItemsChanged(e){return e.forEach(r=>this.addItemChanged(r)),this}withChildren(e){return this.addChild(e),this}};pu.CartActionSuccessUIBuilder=Of});var E_=g(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.CartUIBuilder=void 0;var fB=Me(),Pf=class extends fB.DSLBuilder{constructor(e,r="inline"){super("cart",Object.assign({items:[]},e),r)}setStoreInfo(e){return this.setProp("storeInfo",e),this}addItem(e){return this.element.props.items||(this.element.props.items=[]),this.element.props.items.push(e),this}addItems(e){return e.forEach(r=>this.addItem(r)),this}onQuantityChange(e){let{tool:r,params:s}=e;if(!r)throw new Error("onQuantityChange action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"quantity-change"}),this}onCheckout(e){let{tool:r,params:s}=e;if(!r)throw new Error("onCheckout action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"checkout"}),this}withChildren(e){return this.addChild(e),this}};du.CartUIBuilder=Pf});var A_=g(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.UserDetailsUpdatedUIBuilder=void 0;var hB=Me(),Cf=class extends hB.DSLBuilder{constructor(e,r="inline"){super("userDetailsUpdated",Object.assign({},e),r)}setMessage(e){return this.setProp("message",e),this}withChildren(e){return this.addChild(e),this}};fu.UserDetailsUpdatedUIBuilder=Cf});var T_=g(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.OrderStatusUIBuilder=void 0;var mB=Me(),Rf=class extends mB.DSLBuilder{constructor(e,r="inline"){super("orderStatus",Object.assign({},e),r)}setStatus(e){return this.setProp("status",e),this}setAddress(e){return this.setProp("address",e),this}setFinalQuote(e){return this.setProp("finalQuote",e),this}setTracking(e){return this.setProp("tracking",e),this}setDriver(e){return this.setProp("driver",e),this}setStoreInfo(e){return this.setProp("storeInfo",e),this}withChildren(e){return this.addChild(e),this}};hu.OrderStatusUIBuilder=Rf});var O_=g(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.LayoutUIBuilder=void 0;var yB=Me(),If=class extends yB.DSLBuilder{constructor(e,r="inline"){super("layout",Object.assign({},e),r)}setLayoutType(e){return this.setProp("layoutType",e),this}setColumns(e){return this.setProp("columns",e),this}setGap(e){return this.setProp("gap",e),this}setJustifyContent(e){return this.setProp("justifyContent",e),this}setAlignItems(e){return this.setProp("alignItems",e),this}setFlexWrap(e){return this.setProp("flexWrap",e),this}setMargin(e){return this.setProp("margin",e),this}setPadding(e){return this.setProp("padding",e),this}setBackgroundColor(e){return this.setProp("backgroundColor",e),this}};mu.LayoutUIBuilder=If});var P_=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var Ke=(Pe(),Ce(Oe));Ke.__exportStar(X0(),Le);Ke.__exportStar(e_(),Le);Ke.__exportStar(t_(),Le);Ke.__exportStar(r_(),Le);Ke.__exportStar(u_(),Le);Ke.__exportStar(l_(),Le);Ke.__exportStar(p_(),Le);Ke.__exportStar(d_(),Le);Ke.__exportStar(f_(),Le);Ke.__exportStar(h_(),Le);Ke.__exportStar(m_(),Le);Ke.__exportStar(y_(),Le);Ke.__exportStar(g_(),Le);Ke.__exportStar(b_(),Le);Ke.__exportStar(v_(),Le);Ke.__exportStar(x_(),Le);Ke.__exportStar(__(),Le);Ke.__exportStar(w_(),Le);Ke.__exportStar(S_(),Le);Ke.__exportStar(k_(),Le);Ke.__exportStar(E_(),Le);Ke.__exportStar(A_(),Le);Ke.__exportStar(T_(),Le);Ke.__exportStar(O_(),Le)});var C_=g(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.ProcessUIBuilder=void 0;var gB=Mr(),jf=class extends gB.DSLBuilder{constructor(e,r="inline"){super("process",Object.assign({},e),r)}setProcessId(e){return this.setProp("processId",e),this}setName(e){return this.setProp("name",e),this}setDescription(e){return this.setProp("description",e),this}setType(e){return this.setProp("type",e),this}setStatus(e){return this.setProp("status",e),this}setUpdates(e){return this.setProp("updates",e),this}setResults(e){return this.setProp("results",e),this}setServiceId(e){return this.setProp("serviceId",e),this}withSteps(...e){return e.forEach(r=>this.addChild(r)),this}onComplete(e){let{tool:r,params:s}=e;if(!r)throw new Error("onComplete action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,key:"complete-process",paramSchema:{},params:s})}};yu.ProcessUIBuilder=jf});var R_=g(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});var bB=(Pe(),Ce(Oe));bB.__exportStar(C_(),Df)});var I_=g(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var vB=(Pe(),Ce(Oe));vB.__exportStar(R_(),Bf)});var Mr=g(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var gu=(Pe(),Ce(Oe));gu.__exportStar(J0(),Fi);gu.__exportStar(Me(),Fi);gu.__exportStar(P_(),Fi);gu.__exportStar(I_(),Fi)});var D_=g(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.DainResponse=void 0;var j_=Mr(),Nf=class t{constructor({data:e,text:r,ui:s,pleasePay:n,processes:i}){this.data={},this.text="",this.data=e,this.text=r??"",Array.isArray(s)?this.ui=s.map(o=>o instanceof j_.DSLBuilder?o.build():o):this.ui=s instanceof j_.DSLBuilder?s.build():s,this.pleasePay=n,this.processes=i}static create(e){return new t(e)}toJSON(){return{data:this.data,text:this.text,ui:this.ui,pleasePay:this.pleasePay,processes:this.processes}}};bu.DainResponse=Nf});var vu=g(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});var xB=(Pe(),Ce(Oe));xB.__exportStar(D_(),qf)});var B_=g(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.requestAuthenticationTool=void 0;var _B=(Pe(),Ce(Oe)),wB=Mr(),SB=vu(),kB=(t,e)=>_B.__awaiter(void 0,[t,e],void 0,function*({provider:r,logo:s},{app:n,agentInfo:i}){var o;let a=yield(o=n.oauth2)===null||o===void 0?void 0:o.generateAuthUrl("google",i.id),c=new wB.OAuthUIBuilder().title(`Please authenticate with ${r} first`).content(`Please authenticate with ${r} first`).url(a??"").logo(s).build();return new SB.DainResponse({text:`Please authenticate with ${r} first`,data:{},ui:c})});xu.requestAuthenticationTool=kB});var N_=g(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});var EB=(Pe(),Ce(Oe));EB.__exportStar(B_(),Mf)});var q_=g(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.getUI=AB;function AB(t,e){return t?(Array.isArray(t)?t:[t]).filter(s=>s.renderMode===e):[]}});var M_=g(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});var TB=(Pe(),Ce(Oe));TB.__exportStar(q_(),Uf)});var L_=g(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.createTool=PB;var Ff=(Pe(),Ce(Oe)),OB=qr();function PB(t){if(!t.id||!t.name||!t.description)throw new Error("Tool config is missing required fields");let e=(r,s,n)=>Ff.__awaiter(this,void 0,void 0,function*(){var i;let o;try{o=t.input.parse(r)}catch(u){if(u instanceof OB.z.ZodError){let l=u.issues.map(p=>p.path.join(".")).join(", ");if(t.handleInputError){let p=yield t.handleInputError(u,s,n),y;return!((i=p.processes)===null||i===void 0)&&i.length&&(y=yield Promise.all(p.processes.map(f=>Ff.__awaiter(this,void 0,void 0,function*(){var d;if(typeof f=="string"){let h=yield(d=n?.app.processes)===null||d===void 0?void 0:d.getProcess(f);return{id:f,name:h.name,description:h.description,type:h.type}}return f})))),Object.assign(Object.assign({},p),{processes:y})}return{text:`Error: Missing or invalid parameters for this tool call- '${l}', Please ask the user to provide the missing values, or try again with the correct parameters.`,data:{},ui:{type:"error",message:`Please provide valid values for: ${l}`}}}throw u}let a=yield t.handler(o,s,{app:n?.app,extraData:n?.extraData}),c;return Array.isArray(a.processes)&&(a.processes.length>0&&typeof a.processes[0]=="string"?c=yield Promise.all(a.processes.map(u=>Ff.__awaiter(this,void 0,void 0,function*(){var l;let p=yield(l=n?.app.processes)===null||l===void 0?void 0:l.getProcess(u);if(!p)throw new Error(`Process ${u} not found`);return{id:u,name:p.name,description:p.description,type:p.type}}))):c=a.processes),{text:a.text,data:t.output.parse(a.data),ui:a.ui,pleasePay:a.pleasePay,processes:c}});return Object.assign(Object.assign({},t),{handler:e})}});var U_=g(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.createOAuth2Tool=DB;var CB=(Pe(),Ce(Oe)),Hf=qr(),RB=vu(),IB=Mr(),jB=L_();function DB(t,e,r={createTool:jB.createTool}){let{createTool:s}=r;return s({id:`oauth2-${e?`${e}-`:""}${t}`,name:`${t} OAuth Login`,description:`Authenticate with ${t}`,input:Hf.z.object({}),output:Hf.z.object({authUrl:Hf.z.string()}),pricing:{pricePerUse:0,currency:"USD"},handler:(n,i,o)=>CB.__awaiter(this,[n,i,o],void 0,function*(a,c,{app:u}){if(!u.oauth2)throw new Error("OAuth2 not configured for this service");let l=yield u.oauth2.generateAuthUrl(t,c.id);return new RB.DainResponse({text:`Please authenticate with ${t} using this URL: ${l}`,data:{authUrl:l},ui:new IB.OAuthUIBuilder().title(`${t} Authentication`).content(`Please authenticate with ${t} to continue`).url(l).provider(t).build()})})})}});var F_=g(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});var BB=(Pe(),Ce(Oe));BB.__exportStar(U_(),Vf)});var z_=g($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var NB=(Pe(),Ce(Oe));NB.__exportStar(F_(),$f)});var H_=g(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var ta=(Pe(),Ce(Oe));ta.__exportStar(Mr(),Kn);ta.__exportStar(vu(),Kn);ta.__exportStar(N_(),Kn);ta.__exportStar(M_(),Kn);ta.__exportStar(z_(),Kn)});var Gf=g(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.CoreUtils=void 0;ft.createTool=Z_;ft.createService=MB;ft.createContext=LB;ft.createDatasource=UB;ft.createPinnable=FB;ft.createToolbox=zB;ft.validateAgentInfo=V_;ft.calculatePrice=$_;ft.generateId=Kf;ft.sanitizeTags=K_;ft.mergeToolboxes=G_;ft.validatePricing=W_;ft.isToolInToolbox=Q_;ft.createOAuth2Tool=HB;var _u=qr(),qB=H_();function Z_(t){if(!t.id||!t.name||!t.description)throw new Error("Tool config is missing required fields");return{...t,handler:async(r,s,n)=>{let i;try{i=t.input.parse(r)}catch(c){if(c instanceof _u.z.ZodError){let u=c.issues.map(l=>l.path.join(".")).join(", ");if(t.handleInputError){let l=await t.handleInputError(c,s,n),p;return l.processes?.length&&(p=await Promise.all(l.processes.map(async y=>{if(typeof y=="string"){let f=await n.app.processes.getProcess(y);return{id:y,name:f.name,description:f.description,type:f.type}}return y}))),{...l,processes:p}}return{text:`Error: Missing or invalid parameters for this tool call- '${u}', Please ask the user to provide the missing values, or try again with the correct parameters.`,data:{},ui:{type:"error",message:`Please provide valid values for: ${u}`}}}throw c}let o=await t.handler(i,s,{app:n.app,extraData:n.extraData,updateUI:n.updateUI,addProcess:n.addProcess}),a;return Array.isArray(o.processes)&&(o.processes.length>0&&typeof o.processes[0]=="string"?a=await Promise.all(o.processes.map(async c=>{let u=await n.app.processes.getProcess(c);if(!u)throw new Error(`Process ${c} not found`);return{id:c,name:u.name,description:u.description,type:u.type}})):a=o.processes),{text:o.text,data:t.output.parse(o.data),ui:o.ui,pleasePay:o.pleasePay,processes:a}}}}function MB(t){if(!t.id||!t.name||!t.description)throw new Error("Service config is missing required fields");if(!t.metadata.capabilities||!t.metadata.languages)throw new Error("Service metadata is incomplete");return{...t,recommendedTools:t.recommendedTools||[]}}function LB(t){return t}function UB(t){return t}function FB(t){return t}function zB(t){if(!t.id||!t.name||!t.description||!t.tools.length)throw new Error("Toolbox config is missing required fields");if(!t.metadata.complexity||!t.metadata.applicableFields)throw new Error("Toolbox metadata is incomplete");return t}function V_(t){return!!(t.agentId&&t.address)}function $_(t,e){return t.pricePerUse*e}function Kf(t){return`${t}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function K_(t){return t.map(e=>e.toLowerCase().trim()).filter(Boolean)}function G_(t){if(t.length===0)throw new Error("No toolboxes provided for merging");let e=new Set,r=new Set;return t.forEach(s=>{s.tools.forEach(n=>e.add(n)),s.metadata.applicableFields.forEach(n=>r.add(n))}),{id:Kf("merged_toolbox"),name:"Merged Toolbox",description:"A toolbox merged from multiple toolboxes",tools:Array.from(e),metadata:{complexity:"Mixed",applicableFields:Array.from(r)},recommendedPrompt:"This toolbox contains a variety of tools from multiple domains."}}function W_(t){return t.pricePerUse>=0&&!!t.currency}function Q_(t,e){return e.tools.includes(t)}ft.CoreUtils={validateAgentInfo:V_,calculatePrice:$_,generateId:Kf,sanitizeTags:K_,mergeToolboxes:G_,validatePricing:W_,isToolInToolbox:Q_};function HB(t,e=""){return Z_({id:e?`${e}-oauth2-${t}`:`oauth2-${t}`,name:`${t} OAuth Login`,description:`Authenticate with ${t}`,input:_u.z.object({}),output:_u.z.object({authUrl:_u.z.string()}),pricing:{pricePerUse:0,currency:"USD"},handler:async(r,s,{app:n,extraData:i})=>{if(!n.oauth2)throw new Error("OAuth2 not configured for this service");let o=await n.oauth2.generateAuthUrl(t,s.id);return{text:`Please authenticate with ${t} using this URL: ${o}`,data:{authUrl:o},ui:new qB.OAuthUIBuilder().title(`${t} Authentication`).content(`Please authenticate with ${t} to continue`).url(o).provider(t).build()}}})}});var X_=g((CQ,Y_)=>{"use strict";var Wf=Object.defineProperty,ZB=Object.getOwnPropertyDescriptor,VB=Object.getOwnPropertyNames,$B=Object.prototype.hasOwnProperty,KB=(t,e)=>{for(var r in e)Wf(t,r,{get:e[r],enumerable:!0})},GB=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of VB(e))!$B.call(t,n)&&n!==r&&Wf(t,n,{get:()=>e[n],enumerable:!(s=ZB(e,n))||s.enumerable});return t},WB=t=>GB(Wf({},"__esModule",{value:!0}),t),J_={};KB(J_,{compose:()=>QB});Y_.exports=WB(J_);var QB=(t,e,r)=>(s,n)=>{let i=-1;return o(0);async function o(a){if(a<=i)throw new Error("next() called multiple times");i=a;let c,u=!1,l;if(t[a]?(l=t[a][0][0],s.req.routeIndex=a):l=a===t.length&&n||void 0,l)try{c=await l(s,()=>o(a+1))}catch(p){if(p instanceof Error&&e)s.error=p,c=await e(p,s),u=!0;else throw p}else s.finalized===!1&&r&&(c=await r(s));return c&&(s.finalized===!1||u)&&(s.res=c),s}}});var rw=g((RQ,tw)=>{"use strict";var Qf=Object.defineProperty,JB=Object.getOwnPropertyDescriptor,YB=Object.getOwnPropertyNames,XB=Object.prototype.hasOwnProperty,eN=(t,e)=>{for(var r in e)Qf(t,r,{get:e[r],enumerable:!0})},tN=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of YB(e))!XB.call(t,n)&&n!==r&&Qf(t,n,{get:()=>e[n],enumerable:!(s=JB(e,n))||s.enumerable});return t},rN=t=>tN(Qf({},"__esModule",{value:!0}),t),ew={};eN(ew,{parseBody:()=>nN});tw.exports=rN(ew);var sN=Jf(),nN=async(t,e=Object.create(null))=>{let{all:r=!1,dot:s=!1}=e,i=(t instanceof sN.HonoRequest?t.raw.headers:t.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?iN(t,{all:r,dot:s}):{}};async function iN(t,e){let r=await t.formData();return r?oN(r,e):{}}function oN(t,e){let r=Object.create(null);return t.forEach((s,n)=>{e.all||n.endsWith("[]")?aN(r,n,s):r[n]=s}),e.dot&&Object.entries(r).forEach(([s,n])=>{s.includes(".")&&(cN(r,s,n),delete r[s])}),r}var aN=(t,e,r)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r},cN=(t,e,r)=>{let s=t,n=e.split(".");n.forEach((i,o)=>{o===n.length-1?s[i]=r:((!s[i]||typeof s[i]!="object"||Array.isArray(s[i])||s[i]instanceof File)&&(s[i]=Object.create(null)),s=s[i])})}});var zi=g((IQ,lw)=>{"use strict";var Xf=Object.defineProperty,uN=Object.getOwnPropertyDescriptor,lN=Object.getOwnPropertyNames,pN=Object.prototype.hasOwnProperty,dN=(t,e)=>{for(var r in e)Xf(t,r,{get:e[r],enumerable:!0})},fN=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of lN(e))!pN.call(t,n)&&n!==r&&Xf(t,n,{get:()=>e[n],enumerable:!(s=uN(e,n))||s.enumerable});return t},hN=t=>fN(Xf({},"__esModule",{value:!0}),t),sw={};dN(sw,{checkOptionalParameter:()=>wN,decodeURIComponent_:()=>uw,getPath:()=>ow,getPathNoStrict:()=>_N,getPattern:()=>bN,getQueryParam:()=>SN,getQueryParams:()=>kN,getQueryStrings:()=>xN,mergePath:()=>aw,splitPath:()=>nw,splitRoutingPath:()=>mN,tryDecode:()=>iw});lw.exports=hN(sw);var nw=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},mN=t=>{let{groups:e,path:r}=yN(t),s=nw(r);return gN(s,e)},yN=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(r,s)=>{let n=`@${s}`;return e.push([n,r]),n}),{groups:e,path:t}},gN=(t,e)=>{for(let r=e.length-1;r>=0;r--){let[s]=e[r];for(let n=t.length-1;n>=0;n--)if(t[n].includes(s)){t[n]=t[n].replace(s,e[r][1]);break}}return t},wu={},bN=(t,e)=>{if(t==="*")return"*";let r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let s=`${t}#${e}`;return wu[s]||(r[2]?wu[s]=e&&e[0]!==":"&&e[0]!=="*"?[s,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)]:wu[s]=[t,r[1],!0]),wu[s]}return null},iw=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return e(r)}catch{return r}})}},vN=t=>iw(t,decodeURI),ow=t=>{let e=t.url,r=e.indexOf("/",8),s=r;for(;s<e.length;s++){let n=e.charCodeAt(s);if(n===37){let i=e.indexOf("?",s),o=e.slice(r,i===-1?void 0:i);return vN(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(n===63)break}return e.slice(r,s)},xN=t=>{let e=t.indexOf("?",8);return e===-1?"":"?"+t.slice(e+1)},_N=t=>{let e=ow(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},aw=(t,e,...r)=>(r.length&&(e=aw(e,...r)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),wN=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),r=[],s="";return e.forEach(n=>{if(n!==""&&!/\:/.test(n))s+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){r.length===0&&s===""?r.push("/"):r.push(s);let i=n.replace("?","");s+="/"+i,r.push(s)}else s+="/"+n}),r.filter((n,i,o)=>o.indexOf(n)===i)},Yf=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?uw(t):t):t,cw=(t,e,r)=>{let s;if(!r&&e&&!/[%+]/.test(e)){let o=t.indexOf(`?${e}`,8);for(o===-1&&(o=t.indexOf(`&${e}`,8));o!==-1;){let a=t.charCodeAt(o+e.length+1);if(a===61){let c=o+e.length+2,u=t.indexOf("&",c);return Yf(t.slice(c,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";o=t.indexOf(`&${e}`,o+1)}if(s=/[%+]/.test(t),!s)return}let n={};s??(s=/[%+]/.test(t));let i=t.indexOf("?",8);for(;i!==-1;){let o=t.indexOf("&",i+1),a=t.indexOf("=",i);a>o&&o!==-1&&(a=-1);let c=t.slice(i+1,a===-1?o===-1?void 0:o:a);if(s&&(c=Yf(c)),i=o,c==="")continue;let u;a===-1?u="":(u=t.slice(a+1,o===-1?void 0:o),s&&(u=Yf(u))),r?(n[c]&&Array.isArray(n[c])||(n[c]=[]),n[c].push(u)):n[c]??(n[c]=u)}return e?n[e]:n},SN=cw,kN=(t,e)=>cw(t,e,!0),uw=decodeURIComponent});var Jf=g((jQ,mw)=>{"use strict";var rh=Object.defineProperty,EN=Object.getOwnPropertyDescriptor,AN=Object.getOwnPropertyNames,TN=Object.prototype.hasOwnProperty,ON=(t,e)=>{for(var r in e)rh(t,r,{get:e[r],enumerable:!0})},PN=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of AN(e))!TN.call(t,n)&&n!==r&&rh(t,n,{get:()=>e[n],enumerable:!(s=EN(e,n))||s.enumerable});return t},CN=t=>PN(rh({},"__esModule",{value:!0}),t),dw={};ON(dw,{HonoRequest:()=>eh});mw.exports=CN(dw);var RN=rw(),Su=zi(),pw=t=>(0,Su.tryDecode)(t,Su.decodeURIComponent_),Hi,vr,ss,fw,hw,th,Ps,eh=class{constructor(e,r="/",s=[[]]){J(this,ss);D(this,"raw");J(this,Hi);J(this,vr);D(this,"routeIndex",0);D(this,"path");D(this,"bodyCache",{});J(this,Ps,e=>{let{bodyCache:r,raw:s}=this,n=r[e];if(n)return n;let i=Object.keys(r)[0];return i?r[i].then(o=>(i==="json"&&(o=JSON.stringify(o)),new Response(o)[e]())):r[e]=s[e]()});this.raw=e,this.path=r,z(this,vr,s),z(this,Hi,{})}param(e){return e?me(this,ss,fw).call(this,e):me(this,ss,hw).call(this)}query(e){return(0,Su.getQueryParam)(this.url,e)}queries(e){return(0,Su.getQueryParams)(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let r={};return this.raw.headers.forEach((s,n)=>{r[n]=s}),r}async parseBody(e){var r;return(r=this.bodyCache).parsedBody??(r.parsedBody=await(0,RN.parseBody)(this,e))}json(){return k(this,Ps).call(this,"json")}text(){return k(this,Ps).call(this,"text")}arrayBuffer(){return k(this,Ps).call(this,"arrayBuffer")}blob(){return k(this,Ps).call(this,"blob")}formData(){return k(this,Ps).call(this,"formData")}addValidatedData(e,r){k(this,Hi)[e]=r}valid(e){return k(this,Hi)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return k(this,vr)[0].map(([[,e]])=>e)}get routePath(){return k(this,vr)[0].map(([[,e]])=>e)[this.routeIndex].path}};Hi=new WeakMap,vr=new WeakMap,ss=new WeakSet,fw=function(e){let r=k(this,vr)[0][this.routeIndex][1][e],s=me(this,ss,th).call(this,r);return s?/\%/.test(s)?pw(s):s:void 0},hw=function(){let e={},r=Object.keys(k(this,vr)[0][this.routeIndex][1]);for(let s of r){let n=me(this,ss,th).call(this,k(this,vr)[0][this.routeIndex][1][s]);n&&typeof n=="string"&&(e[s]=/\%/.test(n)?pw(n):n)}return e},th=function(e){return k(this,vr)[1]?k(this,vr)[1][e]:e},Ps=new WeakMap});var ih=g((BQ,xw)=>{"use strict";var sh=Object.defineProperty,IN=Object.getOwnPropertyDescriptor,jN=Object.getOwnPropertyNames,DN=Object.prototype.hasOwnProperty,BN=(t,e)=>{for(var r in e)sh(t,r,{get:e[r],enumerable:!0})},NN=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of jN(e))!DN.call(t,n)&&n!==r&&sh(t,n,{get:()=>e[n],enumerable:!(s=IN(e,n))||s.enumerable});return t},qN=t=>NN(sh({},"__esModule",{value:!0}),t),yw={};BN(yw,{HtmlEscapedCallbackPhase:()=>gw,escapeToBuffer:()=>bw,raw:()=>nh,resolveCallback:()=>vw,resolveCallbackSync:()=>UN,stringBufferToString:()=>LN});xw.exports=qN(yw);var gw={Stringify:1,BeforeStream:2,Stream:3},nh=(t,e)=>{let r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},MN=/[&<>'"]/,LN=async(t,e)=>{let r="";e||(e=[]);let s=await Promise.all(t);for(let n=s.length-1;r+=s[n],n--,!(n<0);n--){let i=s[n];typeof i=="object"&&e.push(...i.callbacks||[]);let o=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&e.push(...i.callbacks||[]),i.isEscaped??o)r+=i;else{let a=[r];bw(i,a),r=a[0]}}return nh(r,e)},bw=(t,e)=>{let r=t.search(MN);if(r===-1){e[0]+=t;return}let s,n,i=0;for(n=r;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 39:s="&#39;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}e[0]+=t.substring(i,n)+s,i=n+1}e[0]+=t.substring(i,n)},UN=t=>{let e=t.callbacks;if(!e?.length)return t;let r=[t],s={};return e.forEach(n=>n({phase:gw.Stringify,buffer:r,context:s})),r[0]},vw=async(t,e,r,s,n)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let i=t.callbacks;if(!i?.length)return Promise.resolve(t);n?n[0]+=t:n=[t];let o=Promise.all(i.map(a=>a({phase:e,buffer:n,context:s}))).then(a=>Promise.all(a.filter(Boolean).map(c=>vw(c,e,!1,s,n))).then(()=>n[0]));return r?nh(await o,i):o}});var uh=g((NQ,kw)=>{"use strict";var ch=Object.defineProperty,FN=Object.getOwnPropertyDescriptor,zN=Object.getOwnPropertyNames,HN=Object.prototype.hasOwnProperty,ZN=(t,e)=>{for(var r in e)ch(t,r,{get:e[r],enumerable:!0})},VN=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of zN(e))!HN.call(t,n)&&n!==r&&ch(t,n,{get:()=>e[n],enumerable:!(s=FN(e,n))||s.enumerable});return t},$N=t=>VN(ch({},"__esModule",{value:!0}),t),ww={};ZN(ww,{Context:()=>ah,TEXT_PLAIN:()=>Sw});kw.exports=$N(ww);var KN=Jf(),_w=ih(),Sw="text/plain; charset=UTF-8",oh=(t,e={})=>{for(let r of Object.keys(e))t.set(r,e[r]);return t},ra,sa,ns,Gn,is,Qe,nt,Xt,os,na,Zi,Vi,ia,oa,Ht,fr,ah=class{constructor(e,r){J(this,Ht);J(this,ra);J(this,sa);D(this,"env",{});J(this,ns);D(this,"finalized",!1);D(this,"error");J(this,Gn,200);J(this,is);J(this,Qe);J(this,nt);J(this,Xt);J(this,os,!0);J(this,na);J(this,Zi);J(this,Vi);J(this,ia);J(this,oa);D(this,"render",(...e)=>(k(this,Zi)??z(this,Zi,r=>this.html(r)),k(this,Zi).call(this,...e)));D(this,"setLayout",e=>z(this,na,e));D(this,"getLayout",()=>k(this,na));D(this,"setRenderer",e=>{z(this,Zi,e)});D(this,"header",(e,r,s)=>{if(this.finalized&&z(this,Xt,new Response(k(this,Xt).body,k(this,Xt))),r===void 0){k(this,Qe)?k(this,Qe).delete(e):k(this,nt)&&delete k(this,nt)[e.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(e);return}s?.append?(k(this,Qe)||(z(this,os,!1),z(this,Qe,new Headers(k(this,nt))),z(this,nt,{})),k(this,Qe).append(e,r)):k(this,Qe)?k(this,Qe).set(e,r):(k(this,nt)??z(this,nt,{}),k(this,nt)[e.toLowerCase()]=r),this.finalized&&(s?.append?this.res.headers.append(e,r):this.res.headers.set(e,r))});D(this,"status",e=>{z(this,os,!1),z(this,Gn,e)});D(this,"set",(e,r)=>{k(this,ns)??z(this,ns,new Map),k(this,ns).set(e,r)});D(this,"get",e=>k(this,ns)?k(this,ns).get(e):void 0);D(this,"newResponse",(...e)=>me(this,Ht,fr).call(this,...e));D(this,"body",(e,r,s)=>typeof r=="number"?me(this,Ht,fr).call(this,e,r,s):me(this,Ht,fr).call(this,e,r));D(this,"text",(e,r,s)=>{if(!k(this,nt)){if(k(this,os)&&!s&&!r)return new Response(e);z(this,nt,{})}return k(this,nt)["content-type"]=Sw,typeof r=="number"?me(this,Ht,fr).call(this,e,r,s):me(this,Ht,fr).call(this,e,r)});D(this,"json",(e,r,s)=>{let n=JSON.stringify(e);return k(this,nt)??z(this,nt,{}),k(this,nt)["content-type"]="application/json",typeof r=="number"?me(this,Ht,fr).call(this,n,r,s):me(this,Ht,fr).call(this,n,r)});D(this,"html",(e,r,s)=>(k(this,nt)??z(this,nt,{}),k(this,nt)["content-type"]="text/html; charset=UTF-8",typeof e=="object"?(0,_w.resolveCallback)(e,_w.HtmlEscapedCallbackPhase.Stringify,!1,{}).then(n=>typeof r=="number"?me(this,Ht,fr).call(this,n,r,s):me(this,Ht,fr).call(this,n,r)):typeof r=="number"?me(this,Ht,fr).call(this,e,r,s):me(this,Ht,fr).call(this,e,r)));D(this,"redirect",(e,r)=>(k(this,Qe)??z(this,Qe,new Headers),k(this,Qe).set("Location",String(e)),this.newResponse(null,r??302)));D(this,"notFound",()=>(k(this,Vi)??z(this,Vi,()=>new Response),k(this,Vi).call(this,this)));z(this,ra,e),r&&(z(this,is,r.executionCtx),this.env=r.env,z(this,Vi,r.notFoundHandler),z(this,oa,r.path),z(this,ia,r.matchResult))}get req(){return k(this,sa)??z(this,sa,new KN.HonoRequest(k(this,ra),k(this,oa),k(this,ia))),k(this,sa)}get event(){if(k(this,is)&&"respondWith"in k(this,is))return k(this,is);throw Error("This context has no FetchEvent")}get executionCtx(){if(k(this,is))return k(this,is);throw Error("This context has no ExecutionContext")}get res(){return z(this,os,!1),k(this,Xt)||z(this,Xt,new Response("404 Not Found",{status:404}))}set res(e){if(z(this,os,!1),k(this,Xt)&&e){e=new Response(e.body,e);for(let[r,s]of k(this,Xt).headers.entries())if(r!=="content-type")if(r==="set-cookie"){let n=k(this,Xt).headers.getSetCookie();e.headers.delete("set-cookie");for(let i of n)e.headers.append("set-cookie",i)}else e.headers.set(r,s)}z(this,Xt,e),this.finalized=!0}get var(){return k(this,ns)?Object.fromEntries(k(this,ns)):{}}};ra=new WeakMap,sa=new WeakMap,ns=new WeakMap,Gn=new WeakMap,is=new WeakMap,Qe=new WeakMap,nt=new WeakMap,Xt=new WeakMap,os=new WeakMap,na=new WeakMap,Zi=new WeakMap,Vi=new WeakMap,ia=new WeakMap,oa=new WeakMap,Ht=new WeakSet,fr=function(e,r,s){if(k(this,os)&&!s&&!r&&k(this,Gn)===200)return new Response(e,{headers:k(this,nt)});if(r&&typeof r!="number"){let i=new Headers(r.headers);k(this,Qe)&&k(this,Qe).forEach((a,c)=>{c==="set-cookie"?i.append(c,a):i.set(c,a)});let o=oh(i,k(this,nt));return new Response(e,{headers:o,status:r.status??k(this,Gn)})}let n=typeof r=="number"?r:k(this,Gn);k(this,nt)??z(this,nt,{}),k(this,Qe)??z(this,Qe,new Headers),oh(k(this,Qe),k(this,nt)),k(this,Xt)&&(k(this,Xt).headers.forEach((i,o)=>{o==="set-cookie"?k(this,Qe)?.append(o,i):k(this,Qe)?.set(o,i)}),oh(k(this,Qe),k(this,nt))),s??(s={});for(let[i,o]of Object.entries(s))if(typeof o=="string")k(this,Qe).set(i,o);else{k(this,Qe).delete(i);for(let a of o)k(this,Qe).append(i,a)}return new Response(e,{status:n,headers:k(this,Qe)})}});var aa=g((MQ,Aw)=>{"use strict";var ph=Object.defineProperty,GN=Object.getOwnPropertyDescriptor,WN=Object.getOwnPropertyNames,QN=Object.prototype.hasOwnProperty,JN=(t,e)=>{for(var r in e)ph(t,r,{get:e[r],enumerable:!0})},YN=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of WN(e))!QN.call(t,n)&&n!==r&&ph(t,n,{get:()=>e[n],enumerable:!(s=GN(e,n))||s.enumerable});return t},XN=t=>YN(ph({},"__esModule",{value:!0}),t),Ew={};JN(Ew,{MESSAGE_MATCHER_IS_ALREADY_BUILT:()=>sq,METHODS:()=>rq,METHOD_NAME_ALL:()=>eq,METHOD_NAME_ALL_LOWERCASE:()=>tq,UnsupportedPathError:()=>lh});Aw.exports=XN(Ew);var eq="ALL",tq="all",rq=["get","post","put","delete","options","patch"],sq="Can not add a route since the matcher is already built.",lh=class extends Error{}});var Pw=g((LQ,Ow)=>{"use strict";var dh=Object.defineProperty,nq=Object.getOwnPropertyDescriptor,iq=Object.getOwnPropertyNames,oq=Object.prototype.hasOwnProperty,aq=(t,e)=>{for(var r in e)dh(t,r,{get:e[r],enumerable:!0})},cq=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of iq(e))!oq.call(t,n)&&n!==r&&dh(t,n,{get:()=>e[n],enumerable:!(s=nq(e,n))||s.enumerable});return t},uq=t=>cq(dh({},"__esModule",{value:!0}),t),Tw={};aq(Tw,{COMPOSED_HANDLER:()=>lq});Ow.exports=uq(Tw);var lq="__COMPOSED_HANDLER"});var Bw=g((UQ,Dw)=>{"use strict";var hh=Object.defineProperty,pq=Object.getOwnPropertyDescriptor,dq=Object.getOwnPropertyNames,fq=Object.prototype.hasOwnProperty,hq=(t,e)=>{for(var r in e)hh(t,r,{get:e[r],enumerable:!0})},mq=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of dq(e))!fq.call(t,n)&&n!==r&&hh(t,n,{get:()=>e[n],enumerable:!(s=pq(e,n))||s.enumerable});return t},yq=t=>mq(hh({},"__esModule",{value:!0}),t),Iw={};hq(Iw,{HonoBase:()=>fh});Dw.exports=yq(Iw);var Cw=X_(),gq=uh(),ku=aa(),bq=Pw(),Wn=zi(),vq=t=>t.text("404 Not Found",404),Rw=(t,e)=>"getResponse"in t?t.getResponse():(console.error(t),e.text("Internal Server Error",500)),xr,lt,jw,as,Qn,Eu,Au,mh=class mh{constructor(e={}){J(this,lt);D(this,"get");D(this,"post");D(this,"put");D(this,"delete");D(this,"options");D(this,"patch");D(this,"all");D(this,"on");D(this,"use");D(this,"router");D(this,"getPath");D(this,"_basePath","/");J(this,xr,"/");D(this,"routes",[]);J(this,as,vq);D(this,"errorHandler",Rw);D(this,"onError",e=>(this.errorHandler=e,this));D(this,"notFound",e=>(z(this,as,e),this));D(this,"fetch",(e,...r)=>me(this,lt,Au).call(this,e,r[1],r[0],e.method));D(this,"request",(e,r,s,n)=>e instanceof Request?this.fetch(r?new Request(e,r):e,s,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${(0,Wn.mergePath)("/",e)}`,r),s,n)));D(this,"fire",()=>{addEventListener("fetch",e=>{e.respondWith(me(this,lt,Au).call(this,e.request,e,void 0,e.request.method))})});[...ku.METHODS,ku.METHOD_NAME_ALL_LOWERCASE].forEach(i=>{this[i]=(o,...a)=>(typeof o=="string"?z(this,xr,o):me(this,lt,Qn).call(this,i,k(this,xr),o),a.forEach(c=>{me(this,lt,Qn).call(this,i,k(this,xr),c)}),this)}),this.on=(i,o,...a)=>{for(let c of[o].flat()){z(this,xr,c);for(let u of[i].flat())a.map(l=>{me(this,lt,Qn).call(this,u.toUpperCase(),k(this,xr),l)})}return this},this.use=(i,...o)=>(typeof i=="string"?z(this,xr,i):(z(this,xr,"*"),o.unshift(i)),o.forEach(a=>{me(this,lt,Qn).call(this,ku.METHOD_NAME_ALL,k(this,xr),a)}),this);let{strict:s,...n}=e;Object.assign(this,n),this.getPath=s??!0?e.getPath??Wn.getPath:Wn.getPathNoStrict}route(e,r){let s=this.basePath(e);return r.routes.map(n=>{var o;let i;r.errorHandler===Rw?i=n.handler:(i=async(a,c)=>(await(0,Cw.compose)([],r.errorHandler)(a,()=>n.handler(a,c))).res,i[bq.COMPOSED_HANDLER]=n.handler),me(o=s,lt,Qn).call(o,n.method,n.path,i)}),this}basePath(e){let r=me(this,lt,jw).call(this);return r._basePath=(0,Wn.mergePath)(this._basePath,e),r}mount(e,r,s){let n,i;s&&(typeof s=="function"?i=s:(i=s.optionHandler,n=s.replaceRequest));let o=i?c=>{let u=i(c);return Array.isArray(u)?u:[u]}:c=>{let u;try{u=c.executionCtx}catch{}return[c.env,u]};n||(n=(()=>{let c=(0,Wn.mergePath)(this._basePath,e),u=c==="/"?0:c.length;return l=>{let p=new URL(l.url);return p.pathname=p.pathname.slice(u)||"/",new Request(p,l)}})());let a=async(c,u)=>{let l=await r(n(c.req.raw),...o(c));if(l)return l;await u()};return me(this,lt,Qn).call(this,ku.METHOD_NAME_ALL,(0,Wn.mergePath)(e,"*"),a),this}};xr=new WeakMap,lt=new WeakSet,jw=function(){let e=new mh({router:this.router,getPath:this.getPath});return e.routes=this.routes,e},as=new WeakMap,Qn=function(e,r,s){e=e.toUpperCase(),r=(0,Wn.mergePath)(this._basePath,r);let n={path:r,method:e,handler:s};this.router.add(e,r,[s,n]),this.routes.push(n)},Eu=function(e,r){if(e instanceof Error)return this.errorHandler(e,r);throw e},Au=function(e,r,s,n){if(n==="HEAD")return(async()=>new Response(null,await me(this,lt,Au).call(this,e,r,s,"GET")))();let i=this.getPath(e,{env:s}),o=this.router.match(n,i),a=new gq.Context(e,{path:i,matchResult:o,env:s,executionCtx:r,notFoundHandler:k(this,as)});if(o[0].length===1){let u;try{u=o[0][0][0][0](a,async()=>{a.res=await k(this,as).call(this,a)})}catch(l){return me(this,lt,Eu).call(this,l,a)}return u instanceof Promise?u.then(l=>l||(a.finalized?a.res:k(this,as).call(this,a))).catch(l=>me(this,lt,Eu).call(this,l,a)):u??k(this,as).call(this,a)}let c=(0,Cw.compose)(o[0],this.errorHandler,k(this,as));return(async()=>{try{let u=await c(a);if(!u.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return u.res}catch(u){return me(this,lt,Eu).call(this,u,a)}})()};var fh=mh});var bh=g((zQ,qw)=>{"use strict";var gh=Object.defineProperty,xq=Object.getOwnPropertyDescriptor,_q=Object.getOwnPropertyNames,wq=Object.prototype.hasOwnProperty,Sq=(t,e)=>{for(var r in e)gh(t,r,{get:e[r],enumerable:!0})},kq=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _q(e))!wq.call(t,n)&&n!==r&&gh(t,n,{get:()=>e[n],enumerable:!(s=xq(e,n))||s.enumerable});return t},Eq=t=>kq(gh({},"__esModule",{value:!0}),t),Nw={};Sq(Nw,{Node:()=>yh,PATH_ERROR:()=>ca});qw.exports=Eq(Nw);var Tu="[^/]+",ua=".*",la="(?:|/.*)",ca=Symbol(),Aq=new Set(".\\+*[^]$()");function Tq(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===ua||t===la?1:e===ua||e===la?-1:t===Tu?1:e===Tu?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var Jn,Yn,_r,Ou=class Ou{constructor(){J(this,Jn);J(this,Yn);J(this,_r,Object.create(null))}insert(e,r,s,n,i){if(e.length===0){if(k(this,Jn)!==void 0)throw ca;if(i)return;z(this,Jn,r);return}let[o,...a]=e,c=o==="*"?a.length===0?["","",ua]:["","",Tu]:o==="/*"?["","",la]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),u;if(c){let l=c[1],p=c[2]||Tu;if(l&&c[2]&&(p=p.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(p)))throw ca;if(u=k(this,_r)[p],!u){if(Object.keys(k(this,_r)).some(y=>y!==ua&&y!==la))throw ca;if(i)return;u=k(this,_r)[p]=new Ou,l!==""&&z(u,Yn,n.varIndex++)}!i&&l!==""&&s.push([l,k(u,Yn)])}else if(u=k(this,_r)[o],!u){if(Object.keys(k(this,_r)).some(l=>l.length>1&&l!==ua&&l!==la))throw ca;if(i)return;u=k(this,_r)[o]=new Ou}u.insert(a,r,s,n,i)}buildRegExpStr(){let r=Object.keys(k(this,_r)).sort(Tq).map(s=>{let n=k(this,_r)[s];return(typeof k(n,Yn)=="number"?`(${s})@${k(n,Yn)}`:Aq.has(s)?`\\${s}`:s)+n.buildRegExpStr()});return typeof k(this,Jn)=="number"&&r.unshift(`#${k(this,Jn)}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}};Jn=new WeakMap,Yn=new WeakMap,_r=new WeakMap;var yh=Ou});var Uw=g((ZQ,Lw)=>{"use strict";var xh=Object.defineProperty,Oq=Object.getOwnPropertyDescriptor,Pq=Object.getOwnPropertyNames,Cq=Object.prototype.hasOwnProperty,Rq=(t,e)=>{for(var r in e)xh(t,r,{get:e[r],enumerable:!0})},Iq=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Pq(e))!Cq.call(t,n)&&n!==r&&xh(t,n,{get:()=>e[n],enumerable:!(s=Oq(e,n))||s.enumerable});return t},jq=t=>Iq(xh({},"__esModule",{value:!0}),t),Mw={};Rq(Mw,{Trie:()=>vh});Lw.exports=jq(Mw);var Dq=bh(),Pu,pa,vh=class{constructor(){J(this,Pu,{varIndex:0});J(this,pa,new Dq.Node)}insert(e,r,s){let n=[],i=[];for(let a=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,u=>{let l=`@\\${a}`;return i[a]=[l,u],a++,c=!0,l}),!c)break}let o=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=i.length-1;a>=0;a--){let[c]=i[a];for(let u=o.length-1;u>=0;u--)if(o[u].indexOf(c)!==-1){o[u]=o[u].replace(c,i[a][1]);break}}return k(this,pa).insert(o,r,n,k(this,Pu),s),n}buildRegExp(){let e=k(this,pa).buildRegExpStr();if(e==="")return[/^$/,[],[]];let r=0,s=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,o,a)=>o!==void 0?(s[++r]=Number(o),"$()"):(a!==void 0&&(n[Number(a)]=++r),"")),[new RegExp(`^${e}`),s,n]}};Pu=new WeakMap,pa=new WeakMap});var Kw=g(($Q,$w)=>{"use strict";var wh=Object.defineProperty,Bq=Object.getOwnPropertyDescriptor,Nq=Object.getOwnPropertyNames,qq=Object.prototype.hasOwnProperty,Mq=(t,e)=>{for(var r in e)wh(t,r,{get:e[r],enumerable:!0})},Lq=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Nq(e))!qq.call(t,n)&&n!==r&&wh(t,n,{get:()=>e[n],enumerable:!(s=Bq(e,n))||s.enumerable});return t},Uq=t=>Lq(wh({},"__esModule",{value:!0}),t),Fw={};Mq(Fw,{RegExpRouter:()=>_h});$w.exports=Uq(Fw);var ht=aa(),Fq=zi(),zq=bh(),Hq=Uw(),zw=[],Zq=[/^$/,[],Object.create(null)],Cu=Object.create(null);function Hw(t){return Cu[t]??(Cu[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function Vq(){Cu=Object.create(null)}function $q(t){let e=new Hq.Trie,r=[];if(t.length===0)return Zq;let s=t.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,l],[p,y])=>u?1:p?-1:l.length-y.length),n=Object.create(null);for(let u=0,l=-1,p=s.length;u<p;u++){let[y,f,d]=s[u];y?n[f]=[d.map(([m])=>[m,Object.create(null)]),zw]:l++;let h;try{h=e.insert(f,l,y)}catch(m){throw m===zq.PATH_ERROR?new ht.UnsupportedPathError(f):m}y||(r[l]=d.map(([m,b])=>{let _=Object.create(null);for(b-=1;b>=0;b--){let[v,O]=h[b];_[v]=O}return[m,_]}))}let[i,o,a]=e.buildRegExp();for(let u=0,l=r.length;u<l;u++)for(let p=0,y=r[u].length;p<y;p++){let f=r[u][p]?.[1];if(!f)continue;let d=Object.keys(f);for(let h=0,m=d.length;h<m;h++)f[d[h]]=a[f[d[h]]]}let c=[];for(let u in o)c[u]=r[o[u]];return[i,c,n]}function $i(t,e){if(t){for(let r of Object.keys(t).sort((s,n)=>n.length-s.length))if(Hw(r).test(e))return[...t[r]]}}var Cs,Rs,Ki,Zw,Vw,_h=class{constructor(){J(this,Ki);D(this,"name","RegExpRouter");J(this,Cs);J(this,Rs);z(this,Cs,{[ht.METHOD_NAME_ALL]:Object.create(null)}),z(this,Rs,{[ht.METHOD_NAME_ALL]:Object.create(null)})}add(e,r,s){var c;let n=k(this,Cs),i=k(this,Rs);if(!n||!i)throw new Error(ht.MESSAGE_MATCHER_IS_ALREADY_BUILT);n[e]||[n,i].forEach(u=>{u[e]=Object.create(null),Object.keys(u[ht.METHOD_NAME_ALL]).forEach(l=>{u[e][l]=[...u[ht.METHOD_NAME_ALL][l]]})}),r==="/*"&&(r="*");let o=(r.match(/\/:/g)||[]).length;if(/\*$/.test(r)){let u=Hw(r);e===ht.METHOD_NAME_ALL?Object.keys(n).forEach(l=>{var p;(p=n[l])[r]||(p[r]=$i(n[l],r)||$i(n[ht.METHOD_NAME_ALL],r)||[])}):(c=n[e])[r]||(c[r]=$i(n[e],r)||$i(n[ht.METHOD_NAME_ALL],r)||[]),Object.keys(n).forEach(l=>{(e===ht.METHOD_NAME_ALL||e===l)&&Object.keys(n[l]).forEach(p=>{u.test(p)&&n[l][p].push([s,o])})}),Object.keys(i).forEach(l=>{(e===ht.METHOD_NAME_ALL||e===l)&&Object.keys(i[l]).forEach(p=>u.test(p)&&i[l][p].push([s,o]))});return}let a=(0,Fq.checkOptionalParameter)(r)||[r];for(let u=0,l=a.length;u<l;u++){let p=a[u];Object.keys(i).forEach(y=>{var f;(e===ht.METHOD_NAME_ALL||e===y)&&((f=i[y])[p]||(f[p]=[...$i(n[y],p)||$i(n[ht.METHOD_NAME_ALL],p)||[]]),i[y][p].push([s,o-l+u+1]))})}}match(e,r){Vq();let s=me(this,Ki,Zw).call(this);return this.match=(n,i)=>{let o=s[n]||s[ht.METHOD_NAME_ALL],a=o[2][i];if(a)return a;let c=i.match(o[0]);if(!c)return[[],zw];let u=c.indexOf("",1);return[o[1][u],c]},this.match(e,r)}};Cs=new WeakMap,Rs=new WeakMap,Ki=new WeakSet,Zw=function(){let e=Object.create(null);return Object.keys(k(this,Rs)).concat(Object.keys(k(this,Cs))).forEach(r=>{e[r]||(e[r]=me(this,Ki,Vw).call(this,r))}),z(this,Cs,z(this,Rs,void 0)),e},Vw=function(e){let r=[],s=e===ht.METHOD_NAME_ALL;return[k(this,Cs),k(this,Rs)].forEach(n=>{let i=n[e]?Object.keys(n[e]).map(o=>[o,n[e][o]]):[];i.length!==0?(s||(s=!0),r.push(...i)):e!==ht.METHOD_NAME_ALL&&r.push(...Object.keys(n[ht.METHOD_NAME_ALL]).map(o=>[o,n[ht.METHOD_NAME_ALL][o]]))}),s?$q(r):null}});var Qw=g((GQ,Ww)=>{"use strict";var Sh=Object.defineProperty,Kq=Object.getOwnPropertyDescriptor,Gq=Object.getOwnPropertyNames,Wq=Object.prototype.hasOwnProperty,Qq=(t,e)=>{for(var r in e)Sh(t,r,{get:e[r],enumerable:!0})},Jq=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Gq(e))!Wq.call(t,n)&&n!==r&&Sh(t,n,{get:()=>e[n],enumerable:!(s=Kq(e,n))||s.enumerable});return t},Yq=t=>Jq(Sh({},"__esModule",{value:!0}),t),Gw={};Qq(Gw,{RegExpRouter:()=>Xq.RegExpRouter});Ww.exports=Yq(Gw);var Xq=Kw()});var eS=g((WQ,Xw)=>{"use strict";var Eh=Object.defineProperty,eM=Object.getOwnPropertyDescriptor,tM=Object.getOwnPropertyNames,rM=Object.prototype.hasOwnProperty,sM=(t,e)=>{for(var r in e)Eh(t,r,{get:e[r],enumerable:!0})},nM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of tM(e))!rM.call(t,n)&&n!==r&&Eh(t,n,{get:()=>e[n],enumerable:!(s=eM(e,n))||s.enumerable});return t},iM=t=>nM(Eh({},"__esModule",{value:!0}),t),Yw={};sM(Yw,{SmartRouter:()=>kh});Xw.exports=iM(Yw);var Jw=aa(),Is,cs,kh=class{constructor(e){D(this,"name","SmartRouter");J(this,Is,[]);J(this,cs,[]);z(this,Is,e.routers)}add(e,r,s){if(!k(this,cs))throw new Error(Jw.MESSAGE_MATCHER_IS_ALREADY_BUILT);k(this,cs).push([e,r,s])}match(e,r){if(!k(this,cs))throw new Error("Fatal error");let s=k(this,Is),n=k(this,cs),i=s.length,o=0,a;for(;o<i;o++){let c=s[o];try{for(let u=0,l=n.length;u<l;u++)c.add(...n[u]);a=c.match(e,r)}catch(u){if(u instanceof Jw.UnsupportedPathError)continue;throw u}this.match=c.match.bind(c),z(this,Is,[c]),z(this,cs,void 0);break}if(o===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(k(this,cs)||k(this,Is).length!==1)throw new Error("No active router has been determined yet.");return k(this,Is)[0]}};Is=new WeakMap,cs=new WeakMap});var sS=g((JQ,rS)=>{"use strict";var Ah=Object.defineProperty,oM=Object.getOwnPropertyDescriptor,aM=Object.getOwnPropertyNames,cM=Object.prototype.hasOwnProperty,uM=(t,e)=>{for(var r in e)Ah(t,r,{get:e[r],enumerable:!0})},lM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of aM(e))!cM.call(t,n)&&n!==r&&Ah(t,n,{get:()=>e[n],enumerable:!(s=oM(e,n))||s.enumerable});return t},pM=t=>lM(Ah({},"__esModule",{value:!0}),t),tS={};uM(tS,{SmartRouter:()=>dM.SmartRouter});rS.exports=pM(tS);var dM=eS()});var oS=g((YQ,iS)=>{"use strict";var Oh=Object.defineProperty,fM=Object.getOwnPropertyDescriptor,hM=Object.getOwnPropertyNames,mM=Object.prototype.hasOwnProperty,yM=(t,e)=>{for(var r in e)Oh(t,r,{get:e[r],enumerable:!0})},gM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of hM(e))!mM.call(t,n)&&n!==r&&Oh(t,n,{get:()=>e[n],enumerable:!(s=fM(e,n))||s.enumerable});return t},bM=t=>gM(Oh({},"__esModule",{value:!0}),t),nS={};yM(nS,{Node:()=>Th});iS.exports=bM(nS);var vM=aa(),Ru=zi(),da=Object.create(null),js,Tt,ei,Gi,vt,us,Xn,Ph=class Ph{constructor(e,r,s){J(this,us);J(this,js);J(this,Tt);J(this,ei);J(this,Gi,0);J(this,vt,da);if(z(this,Tt,s||Object.create(null)),z(this,js,[]),e&&r){let n=Object.create(null);n[e]={handler:r,possibleKeys:[],score:0},z(this,js,[n])}z(this,ei,[])}insert(e,r,s){z(this,Gi,++Lx(this,Gi)._);let n=this,i=(0,Ru.splitRoutingPath)(r),o=[];for(let u=0,l=i.length;u<l;u++){let p=i[u],y=i[u+1],f=(0,Ru.getPattern)(p,y),d=Array.isArray(f)?f[0]:p;if(Object.keys(k(n,Tt)).includes(d)){n=k(n,Tt)[d];let h=(0,Ru.getPattern)(p,y);h&&o.push(h[1]);continue}k(n,Tt)[d]=new Ph,f&&(k(n,ei).push(f),o.push(f[1])),n=k(n,Tt)[d]}let a=Object.create(null),c={handler:s,possibleKeys:o.filter((u,l,p)=>p.indexOf(u)===l),score:k(this,Gi)};return a[e]=c,k(n,js).push(a),n}search(e,r){let s=[];z(this,vt,da);let i=[this],o=(0,Ru.splitPath)(r),a=[];for(let c=0,u=o.length;c<u;c++){let l=o[c],p=c===u-1,y=[];for(let f=0,d=i.length;f<d;f++){let h=i[f],m=k(h,Tt)[l];m&&(z(m,vt,k(h,vt)),p?(k(m,Tt)["*"]&&s.push(...me(this,us,Xn).call(this,k(m,Tt)["*"],e,k(h,vt))),s.push(...me(this,us,Xn).call(this,m,e,k(h,vt)))):y.push(m));for(let b=0,_=k(h,ei).length;b<_;b++){let v=k(h,ei)[b],O=k(h,vt)===da?{}:{...k(h,vt)};if(v==="*"){let he=k(h,Tt)["*"];he&&(s.push(...me(this,us,Xn).call(this,he,e,k(h,vt))),z(he,vt,O),y.push(he));continue}if(l==="")continue;let[P,U,j]=v,N=k(h,Tt)[P],te=o.slice(c).join("/");if(j instanceof RegExp){let he=j.exec(te);if(he){if(O[U]=he[0],s.push(...me(this,us,Xn).call(this,N,e,k(h,vt),O)),Object.keys(k(N,Tt)).length){z(N,vt,O);let we=he[0].match(/\//)?.length??0;(a[we]||(a[we]=[])).push(N)}continue}}(j===!0||j.test(l))&&(O[U]=l,p?(s.push(...me(this,us,Xn).call(this,N,e,O,k(h,vt))),k(N,Tt)["*"]&&s.push(...me(this,us,Xn).call(this,k(N,Tt)["*"],e,O,k(h,vt)))):(z(N,vt,O),y.push(N)))}}i=y.concat(a.shift()??[])}return s.length>1&&s.sort((c,u)=>c.score-u.score),[s.map(({handler:c,params:u})=>[c,u])]}};js=new WeakMap,Tt=new WeakMap,ei=new WeakMap,Gi=new WeakMap,vt=new WeakMap,us=new WeakSet,Xn=function(e,r,s,n){let i=[];for(let o=0,a=k(e,js).length;o<a;o++){let c=k(e,js)[o],u=c[r]||c[vM.METHOD_NAME_ALL],l={};if(u!==void 0&&(u.params=Object.create(null),i.push(u),s!==da||n&&n!==da))for(let p=0,y=u.possibleKeys.length;p<y;p++){let f=u.possibleKeys[p],d=l[u.score];u.params[f]=n?.[f]&&!d?n[f]:s[f]??n?.[f],l[u.score]=!0}}return i};var Th=Ph});var uS=g((eJ,cS)=>{"use strict";var Rh=Object.defineProperty,xM=Object.getOwnPropertyDescriptor,_M=Object.getOwnPropertyNames,wM=Object.prototype.hasOwnProperty,SM=(t,e)=>{for(var r in e)Rh(t,r,{get:e[r],enumerable:!0})},kM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _M(e))!wM.call(t,n)&&n!==r&&Rh(t,n,{get:()=>e[n],enumerable:!(s=xM(e,n))||s.enumerable});return t},EM=t=>kM(Rh({},"__esModule",{value:!0}),t),aS={};SM(aS,{TrieRouter:()=>Ch});cS.exports=EM(aS);var AM=zi(),TM=oS(),ti,Ch=class{constructor(){D(this,"name","TrieRouter");J(this,ti);z(this,ti,new TM.Node)}add(e,r,s){let n=(0,AM.checkOptionalParameter)(r);if(n){for(let i=0,o=n.length;i<o;i++)k(this,ti).insert(e,n[i],s);return}k(this,ti).insert(e,r,s)}match(e,r){return k(this,ti).search(e,r)}};ti=new WeakMap});var dS=g((rJ,pS)=>{"use strict";var Ih=Object.defineProperty,OM=Object.getOwnPropertyDescriptor,PM=Object.getOwnPropertyNames,CM=Object.prototype.hasOwnProperty,RM=(t,e)=>{for(var r in e)Ih(t,r,{get:e[r],enumerable:!0})},IM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of PM(e))!CM.call(t,n)&&n!==r&&Ih(t,n,{get:()=>e[n],enumerable:!(s=OM(e,n))||s.enumerable});return t},jM=t=>IM(Ih({},"__esModule",{value:!0}),t),lS={};RM(lS,{TrieRouter:()=>DM.TrieRouter});pS.exports=jM(lS);var DM=uS()});var mS=g((sJ,hS)=>{"use strict";var Dh=Object.defineProperty,BM=Object.getOwnPropertyDescriptor,NM=Object.getOwnPropertyNames,qM=Object.prototype.hasOwnProperty,MM=(t,e)=>{for(var r in e)Dh(t,r,{get:e[r],enumerable:!0})},LM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of NM(e))!qM.call(t,n)&&n!==r&&Dh(t,n,{get:()=>e[n],enumerable:!(s=BM(e,n))||s.enumerable});return t},UM=t=>LM(Dh({},"__esModule",{value:!0}),t),fS={};MM(fS,{Hono:()=>jh});hS.exports=UM(fS);var FM=Bw(),zM=Qw(),HM=sS(),ZM=dS(),jh=class extends FM.HonoBase{constructor(e={}){super(e),this.router=e.router??new HM.SmartRouter({routers:[new zM.RegExpRouter,new ZM.TrieRouter]})}}});var bS=g((nJ,gS)=>{"use strict";var Bh=Object.defineProperty,VM=Object.getOwnPropertyDescriptor,$M=Object.getOwnPropertyNames,KM=Object.prototype.hasOwnProperty,GM=(t,e)=>{for(var r in e)Bh(t,r,{get:e[r],enumerable:!0})},WM=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $M(e))!KM.call(t,n)&&n!==r&&Bh(t,n,{get:()=>e[n],enumerable:!(s=VM(e,n))||s.enumerable});return t},QM=t=>WM(Bh({},"__esModule",{value:!0}),t),yS={};GM(yS,{Hono:()=>JM.Hono});gS.exports=QM(yS);var JM=mS()});var _S=g((iJ,xS)=>{"use strict";var Nh=Object.defineProperty,YM=Object.getOwnPropertyDescriptor,XM=Object.getOwnPropertyNames,eL=Object.prototype.hasOwnProperty,tL=(t,e)=>{for(var r in e)Nh(t,r,{get:e[r],enumerable:!0})},rL=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of XM(e))!eL.call(t,n)&&n!==r&&Nh(t,n,{get:()=>e[n],enumerable:!(s=YM(e,n))||s.enumerable});return t},sL=t=>rL(Nh({},"__esModule",{value:!0}),t),vS={};tL(vS,{cors:()=>nL});xS.exports=sL(vS);var nL=t=>{let r={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...t},s=(n=>typeof n=="string"?n==="*"?()=>n:i=>n===i?i:null:typeof n=="function"?n:i=>n.includes(i)?i:null)(r.origin);return async function(i,o){function a(u,l){i.res.headers.set(u,l)}let c=s(i.req.header("origin")||"",i);if(c&&a("Access-Control-Allow-Origin",c),r.origin!=="*"){let u=i.req.header("Vary");u?a("Vary",u):a("Vary","Origin")}if(r.credentials&&a("Access-Control-Allow-Credentials","true"),r.exposeHeaders?.length&&a("Access-Control-Expose-Headers",r.exposeHeaders.join(",")),i.req.method==="OPTIONS"){r.maxAge!=null&&a("Access-Control-Max-Age",r.maxAge.toString()),r.allowMethods?.length&&a("Access-Control-Allow-Methods",r.allowMethods.join(","));let u=r.allowHeaders;if(!u?.length){let l=i.req.header("Access-Control-Request-Headers");l&&(u=l.split(/\s*,\s*/))}return u?.length&&(a("Access-Control-Allow-Headers",u.join(",")),i.res.headers.append("Vary","Access-Control-Request-Headers")),i.res.headers.delete("Content-Length"),i.res.headers.delete("Content-Type"),new Response(null,{headers:i.res.headers,status:204,statusText:"No Content"})}await o()}}});var kS=g((oJ,SS)=>{"use strict";var Mh=Object.defineProperty,iL=Object.getOwnPropertyDescriptor,oL=Object.getOwnPropertyNames,aL=Object.prototype.hasOwnProperty,cL=(t,e)=>{for(var r in e)Mh(t,r,{get:e[r],enumerable:!0})},uL=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of oL(e))!aL.call(t,n)&&n!==r&&Mh(t,n,{get:()=>e[n],enumerable:!(s=iL(e,n))||s.enumerable});return t},lL=t=>uL(Mh({},"__esModule",{value:!0}),t),wS={};cL(wS,{HTTPException:()=>qh});SS.exports=lL(wS);var qh=class extends Error{constructor(r=500,s){super(s?.message,{cause:s?.cause});D(this,"res");D(this,"status");this.res=s?.res,this.status=r}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}}});var ES=g(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.crypto=void 0;var Ds=require("node:crypto");Iu.crypto=Ds&&typeof Ds=="object"&&"webcrypto"in Ds?Ds.webcrypto:Ds&&typeof Ds=="object"&&"randomBytes"in Ds?Ds:void 0});var ps=g(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.wrapXOFConstructorWithOpts=Y.wrapConstructorWithOpts=Y.wrapConstructor=Y.Hash=Y.nextTick=Y.swap32IfBE=Y.byteSwapIfBE=Y.swap8IfBE=Y.isLE=void 0;Y.isBytes=TS;Y.anumber=Lh;Y.abytes=Qi;Y.ahash=pL;Y.aexists=dL;Y.aoutput=fL;Y.u8=hL;Y.u32=mL;Y.clean=yL;Y.createView=gL;Y.rotr=bL;Y.rotl=vL;Y.byteSwap=Fh;Y.byteSwap32=OS;Y.bytesToHex=_L;Y.hexToBytes=wL;Y.asyncLoop=kL;Y.utf8ToBytes=zh;Y.bytesToUtf8=EL;Y.toBytes=ju;Y.kdfInputToBytes=AL;Y.concatBytes=TL;Y.checkOpts=OL;Y.createHasher=CS;Y.createOptHasher=RS;Y.createXOFer=IS;Y.randomBytes=PL;var Wi=ES();function TS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Qi(t,...e){if(!TS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pL(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Lh(t.outputLen),Lh(t.blockLen)}function dL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fL(t,e){Qi(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function hL(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function mL(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function yL(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function gL(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bL(t,e){return t<<32-e|t>>>e}function vL(t,e){return t<<e|t>>>32-e>>>0}Y.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Fh(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}Y.swap8IfBE=Y.isLE?t=>t:t=>Fh(t);Y.byteSwapIfBE=Y.swap8IfBE;function OS(t){for(let e=0;e<t.length;e++)t[e]=Fh(t[e]);return t}Y.swap32IfBE=Y.isLE?t=>t:OS;var PS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",xL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _L(t){if(Qi(t),PS)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=xL[t[r]];return e}var ls={_0:48,_9:57,A:65,F:70,a:97,f:102};function AS(t){if(t>=ls._0&&t<=ls._9)return t-ls._0;if(t>=ls.A&&t<=ls.F)return t-(ls.A-10);if(t>=ls.a&&t<=ls.f)return t-(ls.a-10)}function wL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(PS)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let s=new Uint8Array(r);for(let n=0,i=0;n<r;n++,i+=2){let o=AS(t.charCodeAt(i)),a=AS(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}s[n]=o*16+a}return s}var SL=async()=>{};Y.nextTick=SL;async function kL(t,e,r){let s=Date.now();for(let n=0;n<t;n++){r(n);let i=Date.now()-s;i>=0&&i<e||(await(0,Y.nextTick)(),s+=i)}}function zh(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function EL(t){return new TextDecoder().decode(t)}function ju(t){return typeof t=="string"&&(t=zh(t)),Qi(t),t}function AL(t){return typeof t=="string"&&(t=zh(t)),Qi(t),t}function TL(...t){let e=0;for(let s=0;s<t.length;s++){let n=t[s];Qi(n),e+=n.length}let r=new Uint8Array(e);for(let s=0,n=0;s<t.length;s++){let i=t[s];r.set(i,n),n+=i.length}return r}function OL(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}var Uh=class{};Y.Hash=Uh;function CS(t){let e=s=>t().update(ju(s)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function RS(t){let e=(s,n)=>t(n).update(ju(s)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=s=>t(s),e}function IS(t){let e=(s,n)=>t(n).update(ju(s)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=s=>t(s),e}Y.wrapConstructor=CS;Y.wrapConstructorWithOpts=RS;Y.wrapXOFConstructorWithOpts=IS;function PL(t=32){if(Wi.crypto&&typeof Wi.crypto.getRandomValues=="function")return Wi.crypto.getRandomValues(new Uint8Array(t));if(Wi.crypto&&typeof Wi.crypto.randomBytes=="function")return Uint8Array.from(Wi.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}});var DS=g(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.SHA512_IV=Bt.SHA384_IV=Bt.SHA224_IV=Bt.SHA256_IV=Bt.HashMD=void 0;Bt.setBigUint64=jS;Bt.Chi=CL;Bt.Maj=RL;var Lr=ps();function jS(t,e,r,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,s);let n=BigInt(32),i=BigInt(4294967295),o=Number(r>>n&i),a=Number(r&i),c=s?4:0,u=s?0:4;t.setUint32(e+c,o,s),t.setUint32(e+u,a,s)}function CL(t,e,r){return t&e^~t&r}function RL(t,e,r){return t&e^t&r^e&r}var Hh=class extends Lr.Hash{constructor(e,r,s,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=s,this.isLE=n,this.buffer=new Uint8Array(e),this.view=(0,Lr.createView)(this.buffer)}update(e){(0,Lr.aexists)(this),e=(0,Lr.toBytes)(e),(0,Lr.abytes)(e);let{view:r,buffer:s,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let c=(0,Lr.createView)(e);for(;n<=i-o;o+=n)this.process(c,o);continue}s.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Lr.aexists)(this),(0,Lr.aoutput)(e,this),this.finished=!0;let{buffer:r,view:s,blockLen:n,isLE:i}=this,{pos:o}=this;r[o++]=128,(0,Lr.clean)(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(s,0),o=0);for(let p=o;p<n;p++)r[p]=0;jS(s,n-8,BigInt(this.length*8),i),this.process(s,0);let a=(0,Lr.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)a.setUint32(4*p,l[p],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let s=e.slice(0,r);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:s,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%r&&e.buffer.set(s),e}clone(){return this._cloneInto()}};Bt.HashMD=Hh;Bt.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Bt.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Bt.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Bt.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var $h=g(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.toBig=ae.shrSL=ae.shrSH=ae.rotrSL=ae.rotrSH=ae.rotrBL=ae.rotrBH=ae.rotr32L=ae.rotr32H=ae.rotlSL=ae.rotlSH=ae.rotlBL=ae.rotlBH=ae.add5L=ae.add5H=ae.add4L=ae.add4H=ae.add3L=ae.add3H=void 0;ae.add=WS;ae.fromBig=Vh;ae.split=BS;var Du=BigInt(2**32-1),Zh=BigInt(32);function Vh(t,e=!1){return e?{h:Number(t&Du),l:Number(t>>Zh&Du)}:{h:Number(t>>Zh&Du)|0,l:Number(t&Du)|0}}function BS(t,e=!1){let r=t.length,s=new Uint32Array(r),n=new Uint32Array(r);for(let i=0;i<r;i++){let{h:o,l:a}=Vh(t[i],e);[s[i],n[i]]=[o,a]}return[s,n]}var NS=(t,e)=>BigInt(t>>>0)<<Zh|BigInt(e>>>0);ae.toBig=NS;var qS=(t,e,r)=>t>>>r;ae.shrSH=qS;var MS=(t,e,r)=>t<<32-r|e>>>r;ae.shrSL=MS;var LS=(t,e,r)=>t>>>r|e<<32-r;ae.rotrSH=LS;var US=(t,e,r)=>t<<32-r|e>>>r;ae.rotrSL=US;var FS=(t,e,r)=>t<<64-r|e>>>r-32;ae.rotrBH=FS;var zS=(t,e,r)=>t>>>r-32|e<<64-r;ae.rotrBL=zS;var HS=(t,e)=>e;ae.rotr32H=HS;var ZS=(t,e)=>t;ae.rotr32L=ZS;var VS=(t,e,r)=>t<<r|e>>>32-r;ae.rotlSH=VS;var $S=(t,e,r)=>e<<r|t>>>32-r;ae.rotlSL=$S;var KS=(t,e,r)=>e<<r-32|t>>>64-r;ae.rotlBH=KS;var GS=(t,e,r)=>t<<r-32|e>>>64-r;ae.rotlBL=GS;function WS(t,e,r,s){let n=(e>>>0)+(s>>>0);return{h:t+r+(n/2**32|0)|0,l:n|0}}var QS=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);ae.add3L=QS;var JS=(t,e,r,s)=>e+r+s+(t/2**32|0)|0;ae.add3H=JS;var YS=(t,e,r,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0);ae.add4L=YS;var XS=(t,e,r,s,n)=>e+r+s+n+(t/2**32|0)|0;ae.add4H=XS;var e1=(t,e,r,s,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0)+(n>>>0);ae.add5L=e1;var t1=(t,e,r,s,n,i)=>e+r+s+n+i+(t/2**32|0)|0;ae.add5H=t1;var IL={fromBig:Vh,split:BS,toBig:NS,shrSH:qS,shrSL:MS,rotrSH:LS,rotrSL:US,rotrBH:FS,rotrBL:zS,rotr32H:HS,rotr32L:ZS,rotlSH:VS,rotlSL:$S,rotlBH:KS,rotlBL:GS,add:WS,add3L:QS,add3H:JS,add4L:YS,add4H:XS,add5H:t1,add5L:e1};ae.default=IL});var Kh=g(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.sha512_224=Ue.sha512_256=Ue.sha384=Ue.sha512=Ue.sha224=Ue.sha256=Ue.SHA512_256=Ue.SHA512_224=Ue.SHA384=Ue.SHA512=Ue.SHA224=Ue.SHA256=void 0;var Q=DS(),ye=$h(),it=ps(),jL=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bs=new Uint32Array(64),fa=class extends Q.HashMD{constructor(e=32){super(64,e,8,!1),this.A=Q.SHA256_IV[0]|0,this.B=Q.SHA256_IV[1]|0,this.C=Q.SHA256_IV[2]|0,this.D=Q.SHA256_IV[3]|0,this.E=Q.SHA256_IV[4]|0,this.F=Q.SHA256_IV[5]|0,this.G=Q.SHA256_IV[6]|0,this.H=Q.SHA256_IV[7]|0}get(){let{A:e,B:r,C:s,D:n,E:i,F:o,G:a,H:c}=this;return[e,r,s,n,i,o,a,c]}set(e,r,s,n,i,o,a,c){this.A=e|0,this.B=r|0,this.C=s|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)Bs[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let y=Bs[p-15],f=Bs[p-2],d=(0,it.rotr)(y,7)^(0,it.rotr)(y,18)^y>>>3,h=(0,it.rotr)(f,17)^(0,it.rotr)(f,19)^f>>>10;Bs[p]=h+Bs[p-7]+d+Bs[p-16]|0}let{A:s,B:n,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let p=0;p<64;p++){let y=(0,it.rotr)(a,6)^(0,it.rotr)(a,11)^(0,it.rotr)(a,25),f=l+y+(0,Q.Chi)(a,c,u)+jL[p]+Bs[p]|0,h=((0,it.rotr)(s,2)^(0,it.rotr)(s,13)^(0,it.rotr)(s,22))+(0,Q.Maj)(s,n,i)|0;l=u,u=c,c=a,a=o+f|0,o=i,i=n,n=s,s=f+h|0}s=s+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(s,n,i,o,a,c,u,l)}roundClean(){(0,it.clean)(Bs)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,it.clean)(this.buffer)}};Ue.SHA256=fa;var Bu=class extends fa{constructor(){super(28),this.A=Q.SHA224_IV[0]|0,this.B=Q.SHA224_IV[1]|0,this.C=Q.SHA224_IV[2]|0,this.D=Q.SHA224_IV[3]|0,this.E=Q.SHA224_IV[4]|0,this.F=Q.SHA224_IV[5]|0,this.G=Q.SHA224_IV[6]|0,this.H=Q.SHA224_IV[7]|0}};Ue.SHA224=Bu;var r1=ye.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),DL=r1[0],BL=r1[1],Ns=new Uint32Array(80),qs=new Uint32Array(80),ri=class extends Q.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=Q.SHA512_IV[0]|0,this.Al=Q.SHA512_IV[1]|0,this.Bh=Q.SHA512_IV[2]|0,this.Bl=Q.SHA512_IV[3]|0,this.Ch=Q.SHA512_IV[4]|0,this.Cl=Q.SHA512_IV[5]|0,this.Dh=Q.SHA512_IV[6]|0,this.Dl=Q.SHA512_IV[7]|0,this.Eh=Q.SHA512_IV[8]|0,this.El=Q.SHA512_IV[9]|0,this.Fh=Q.SHA512_IV[10]|0,this.Fl=Q.SHA512_IV[11]|0,this.Gh=Q.SHA512_IV[12]|0,this.Gl=Q.SHA512_IV[13]|0,this.Hh=Q.SHA512_IV[14]|0,this.Hl=Q.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:s,Bl:n,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:p,Fl:y,Gh:f,Gl:d,Hh:h,Hl:m}=this;return[e,r,s,n,i,o,a,c,u,l,p,y,f,d,h,m]}set(e,r,s,n,i,o,a,c,u,l,p,y,f,d,h,m){this.Ah=e|0,this.Al=r|0,this.Bh=s|0,this.Bl=n|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=p|0,this.Fl=y|0,this.Gh=f|0,this.Gl=d|0,this.Hh=h|0,this.Hl=m|0}process(e,r){for(let v=0;v<16;v++,r+=4)Ns[v]=e.getUint32(r),qs[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){let O=Ns[v-15]|0,P=qs[v-15]|0,U=ye.rotrSH(O,P,1)^ye.rotrSH(O,P,8)^ye.shrSH(O,P,7),j=ye.rotrSL(O,P,1)^ye.rotrSL(O,P,8)^ye.shrSL(O,P,7),N=Ns[v-2]|0,te=qs[v-2]|0,he=ye.rotrSH(N,te,19)^ye.rotrBH(N,te,61)^ye.shrSH(N,te,6),we=ye.rotrSL(N,te,19)^ye.rotrBL(N,te,61)^ye.shrSL(N,te,6),ue=ye.add4L(j,we,qs[v-7],qs[v-16]),St=ye.add4H(ue,U,he,Ns[v-7],Ns[v-16]);Ns[v]=St|0,qs[v]=ue|0}let{Ah:s,Al:n,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:p,El:y,Fh:f,Fl:d,Gh:h,Gl:m,Hh:b,Hl:_}=this;for(let v=0;v<80;v++){let O=ye.rotrSH(p,y,14)^ye.rotrSH(p,y,18)^ye.rotrBH(p,y,41),P=ye.rotrSL(p,y,14)^ye.rotrSL(p,y,18)^ye.rotrBL(p,y,41),U=p&f^~p&h,j=y&d^~y&m,N=ye.add5L(_,P,j,BL[v],qs[v]),te=ye.add5H(N,b,O,U,DL[v],Ns[v]),he=N|0,we=ye.rotrSH(s,n,28)^ye.rotrBH(s,n,34)^ye.rotrBH(s,n,39),ue=ye.rotrSL(s,n,28)^ye.rotrBL(s,n,34)^ye.rotrBL(s,n,39),St=s&i^s&a^i&a,G=n&o^n&c^o&c;b=h|0,_=m|0,h=f|0,m=d|0,f=p|0,d=y|0,{h:p,l:y}=ye.add(u|0,l|0,te|0,he|0),u=a|0,l=c|0,a=i|0,c=o|0,i=s|0,o=n|0;let et=ye.add3L(he,ue,G);s=ye.add3H(et,te,we,St),n=et|0}({h:s,l:n}=ye.add(this.Ah|0,this.Al|0,s|0,n|0)),{h:i,l:o}=ye.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ye.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ye.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:p,l:y}=ye.add(this.Eh|0,this.El|0,p|0,y|0),{h:f,l:d}=ye.add(this.Fh|0,this.Fl|0,f|0,d|0),{h,l:m}=ye.add(this.Gh|0,this.Gl|0,h|0,m|0),{h:b,l:_}=ye.add(this.Hh|0,this.Hl|0,b|0,_|0),this.set(s,n,i,o,a,c,u,l,p,y,f,d,h,m,b,_)}roundClean(){(0,it.clean)(Ns,qs)}destroy(){(0,it.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Ue.SHA512=ri;var Nu=class extends ri{constructor(){super(48),this.Ah=Q.SHA384_IV[0]|0,this.Al=Q.SHA384_IV[1]|0,this.Bh=Q.SHA384_IV[2]|0,this.Bl=Q.SHA384_IV[3]|0,this.Ch=Q.SHA384_IV[4]|0,this.Cl=Q.SHA384_IV[5]|0,this.Dh=Q.SHA384_IV[6]|0,this.Dl=Q.SHA384_IV[7]|0,this.Eh=Q.SHA384_IV[8]|0,this.El=Q.SHA384_IV[9]|0,this.Fh=Q.SHA384_IV[10]|0,this.Fl=Q.SHA384_IV[11]|0,this.Gh=Q.SHA384_IV[12]|0,this.Gl=Q.SHA384_IV[13]|0,this.Hh=Q.SHA384_IV[14]|0,this.Hl=Q.SHA384_IV[15]|0}};Ue.SHA384=Nu;var Ot=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Pt=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),qu=class extends ri{constructor(){super(28),this.Ah=Ot[0]|0,this.Al=Ot[1]|0,this.Bh=Ot[2]|0,this.Bl=Ot[3]|0,this.Ch=Ot[4]|0,this.Cl=Ot[5]|0,this.Dh=Ot[6]|0,this.Dl=Ot[7]|0,this.Eh=Ot[8]|0,this.El=Ot[9]|0,this.Fh=Ot[10]|0,this.Fl=Ot[11]|0,this.Gh=Ot[12]|0,this.Gl=Ot[13]|0,this.Hh=Ot[14]|0,this.Hl=Ot[15]|0}};Ue.SHA512_224=qu;var Mu=class extends ri{constructor(){super(32),this.Ah=Pt[0]|0,this.Al=Pt[1]|0,this.Bh=Pt[2]|0,this.Bl=Pt[3]|0,this.Ch=Pt[4]|0,this.Cl=Pt[5]|0,this.Dh=Pt[6]|0,this.Dl=Pt[7]|0,this.Eh=Pt[8]|0,this.El=Pt[9]|0,this.Fh=Pt[10]|0,this.Fl=Pt[11]|0,this.Gh=Pt[12]|0,this.Gl=Pt[13]|0,this.Hh=Pt[14]|0,this.Hl=Pt[15]|0}};Ue.SHA512_256=Mu;Ue.sha256=(0,it.createHasher)(()=>new fa);Ue.sha224=(0,it.createHasher)(()=>new Bu);Ue.sha512=(0,it.createHasher)(()=>new ri);Ue.sha384=(0,it.createHasher)(()=>new Nu);Ue.sha512_256=(0,it.createHasher)(()=>new Mu);Ue.sha512_224=(0,it.createHasher)(()=>new qu)});var si=g(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.notImplemented=Ie.bitMask=void 0;Ie.isBytes=Uu;Ie.abytes=Fu;Ie.abool=NL;Ie.numberToHexUnpadded=i1;Ie.hexToNumber=Qh;Ie.bytesToHex=Jh;Ie.hexToBytes=zu;Ie.bytesToNumberBE=ML;Ie.bytesToNumberLE=LL;Ie.numberToBytesBE=a1;Ie.numberToBytesLE=UL;Ie.numberToVarBytesBE=FL;Ie.ensureBytes=zL;Ie.concatBytes=c1;Ie.equalBytes=HL;Ie.utf8ToBytes=ZL;Ie.inRange=u1;Ie.aInRange=VL;Ie.bitLen=$L;Ie.bitGet=KL;Ie.bitSet=GL;Ie.createHmacDrbg=QL;Ie.validateObject=YL;Ie.memoized=e4;var Lu=BigInt(0),ha=BigInt(1);function Uu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fu(t){if(!Uu(t))throw new Error("Uint8Array expected")}function NL(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function i1(t){let e=t.toString(16);return e.length&1?"0"+e:e}function Qh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Lu:BigInt("0x"+t)}var o1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",qL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jh(t){if(Fu(t),o1)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=qL[t[r]];return e}var ds={_0:48,_9:57,A:65,F:70,a:97,f:102};function s1(t){if(t>=ds._0&&t<=ds._9)return t-ds._0;if(t>=ds.A&&t<=ds.F)return t-(ds.A-10);if(t>=ds.a&&t<=ds.f)return t-(ds.a-10)}function zu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(o1)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let s=new Uint8Array(r);for(let n=0,i=0;n<r;n++,i+=2){let o=s1(t.charCodeAt(i)),a=s1(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}s[n]=o*16+a}return s}function ML(t){return Qh(Jh(t))}function LL(t){return Fu(t),Qh(Jh(Uint8Array.from(t).reverse()))}function a1(t,e){return zu(t.toString(16).padStart(e*2,"0"))}function UL(t,e){return a1(t,e).reverse()}function FL(t){return zu(i1(t))}function zL(t,e,r){let s;if(typeof e=="string")try{s=zu(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Uu(e))s=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let n=s.length;if(typeof r=="number"&&n!==r)throw new Error(t+" of length "+r+" expected, got "+n);return s}function c1(...t){let e=0;for(let s=0;s<t.length;s++){let n=t[s];Fu(n),e+=n.length}let r=new Uint8Array(e);for(let s=0,n=0;s<t.length;s++){let i=t[s];r.set(i,n),n+=i.length}return r}function HL(t,e){if(t.length!==e.length)return!1;let r=0;for(let s=0;s<t.length;s++)r|=t[s]^e[s];return r===0}function ZL(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}var Gh=t=>typeof t=="bigint"&&Lu<=t;function u1(t,e,r){return Gh(t)&&Gh(e)&&Gh(r)&&e<=t&&t<r}function VL(t,e,r,s){if(!u1(e,r,s))throw new Error("expected valid "+t+": "+r+" <= n < "+s+", got "+e)}function $L(t){let e;for(e=0;t>Lu;t>>=ha,e+=1);return e}function KL(t,e){return t>>BigInt(e)&ha}function GL(t,e,r){return t|(r?ha:Lu)<<BigInt(e)}var WL=t=>(ha<<BigInt(t))-ha;Ie.bitMask=WL;var Wh=t=>new Uint8Array(t),n1=t=>Uint8Array.from(t);function QL(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let s=Wh(t),n=Wh(t),i=0,o=()=>{s.fill(1),n.fill(0),i=0},a=(...p)=>r(n,s,...p),c=(p=Wh(0))=>{n=a(n1([0]),p),s=a(),p.length!==0&&(n=a(n1([1]),p),s=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,y=[];for(;p<e;){s=a();let f=s.slice();y.push(f),p+=s.length}return c1(...y)};return(p,y)=>{o(),c(p);let f;for(;!(f=y(u()));)c();return o(),f}}var JL={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Uu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function YL(t,e,r={}){let s=(n,i,o)=>{let a=JL[i];if(typeof a!="function")throw new Error("invalid validator function");let c=t[n];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(n)+" is invalid. Expected "+i+", got "+c)};for(let[n,i]of Object.entries(e))s(n,i,!1);for(let[n,i]of Object.entries(r))s(n,i,!0);return t}var XL=()=>{throw new Error("not implemented")};Ie.notImplemented=XL;function e4(t){let e=new WeakMap;return(r,...s)=>{let n=e.get(r);if(n!==void 0)return n;let i=t(r,...s);return e.set(r,i),i}}});var Ji=g(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.isNegativeLE=void 0;Ge.mod=er;Ge.pow=i4;Ge.pow2=o4;Ge.invert=Hu;Ge.tonelliShanks=d1;Ge.FpSqrt=f1;Ge.validateField=u4;Ge.FpPow=h1;Ge.FpInvertBatch=m1;Ge.FpDiv=l4;Ge.FpLegendre=y1;Ge.FpIsSquare=Xh;Ge.nLength=em;Ge.Field=g1;Ge.FpSqrtOdd=p4;Ge.FpSqrtEven=d4;Ge.hashToPrivateScalar=f4;Ge.getFieldBytesLength=tm;Ge.getMinHashLength=b1;Ge.mapHashToField=h4;var t4=ps(),tr=si(),pt=BigInt(0),Ze=BigInt(1),ni=BigInt(2),r4=BigInt(3),Yh=BigInt(4),l1=BigInt(5),p1=BigInt(8),s4=BigInt(9),n4=BigInt(16);function er(t,e){let r=t%e;return r>=pt?r:e+r}function i4(t,e,r){if(e<pt)throw new Error("invalid exponent, negatives unsupported");if(r<=pt)throw new Error("invalid modulus");if(r===Ze)return pt;let s=Ze;for(;e>pt;)e&Ze&&(s=s*t%r),t=t*t%r,e>>=Ze;return s}function o4(t,e,r){let s=t;for(;e-- >pt;)s*=s,s%=r;return s}function Hu(t,e){if(t===pt)throw new Error("invert: expected non-zero number");if(e<=pt)throw new Error("invert: expected positive modulus, got "+e);let r=er(t,e),s=e,n=pt,i=Ze,o=Ze,a=pt;for(;r!==pt;){let u=s/r,l=s%r,p=n-o*u,y=i-a*u;s=r,r=l,n=o,i=a,o=p,a=y}if(s!==Ze)throw new Error("invert: does not exist");return er(n,e)}function d1(t){let e=t-Ze,r=0;for(;e%ni===pt;)e/=ni,r++;let s=ni,n=g1(t);for(;s<t&&Xh(n,s);)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1){let o=(t+Ze)/Yh;return function(c,u){let l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}let i=(e+Ze)/ni;return function(a,c){if(!Xh(a,c))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),e),p=a.pow(c,i),y=a.pow(c,e);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let f=1;for(let h=a.sqr(y);f<u&&!a.eql(h,a.ONE);f++)h=a.sqr(h);let d=a.pow(l,Ze<<BigInt(u-f-1));l=a.sqr(d),p=a.mul(p,d),y=a.mul(y,l),u=f}return p}}function f1(t){return t%Yh===r4?function(r,s){let n=(t+Ze)/Yh,i=r.pow(s,n);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}:t%p1===l1?function(r,s){let n=r.mul(s,ni),i=(t-l1)/p1,o=r.pow(n,i),a=r.mul(s,o),c=r.mul(r.mul(a,ni),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}:(t%n4,d1(t))}var a4=(t,e)=>(er(t,e)&Ze)===Ze;Ge.isNegativeLE=a4;var c4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function u4(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=c4.reduce((s,n)=>(s[n]="function",s),e);return(0,tr.validateObject)(t,r)}function h1(t,e,r){if(r<pt)throw new Error("invalid exponent, negatives unsupported");if(r===pt)return t.ONE;if(r===Ze)return e;let s=t.ONE,n=e;for(;r>pt;)r&Ze&&(s=t.mul(s,n)),n=t.sqr(n),r>>=Ze;return s}function m1(t,e,r=!1){let s=new Array(e.length).fill(r?t.ZERO:void 0),n=e.reduce((o,a,c)=>t.is0(a)?o:(s[c]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,c)=>t.is0(a)?o:(s[c]=t.mul(o,s[c]),t.mul(o,a)),i),s}function l4(t,e,r){return t.mul(e,typeof r=="bigint"?Hu(r,t.ORDER):t.inv(r))}function y1(t,e){let r=(t.ORDER-Ze)/ni,s=t.pow(e,r),n=t.eql(s,t.ONE),i=t.eql(s,t.ZERO),o=t.eql(s,t.neg(t.ONE));if(!n&&!i&&!o)throw new Error("Cannot find square root: probably non-prime P");return n?1:i?0:-1}function Xh(t,e){let r=y1(t,e);return r===0||r===1}function em(t,e){e!==void 0&&(0,t4.anumber)(e);let r=e!==void 0?e:t.toString(2).length,s=Math.ceil(r/8);return{nBitLength:r,nByteLength:s}}function g1(t,e,r=!1,s={}){if(t<=pt)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:n,nByteLength:i}=em(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,a=Object.freeze({ORDER:t,isLE:r,BITS:n,BYTES:i,MASK:(0,tr.bitMask)(n),ZERO:pt,ONE:Ze,create:c=>er(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return pt<=c&&c<t},is0:c=>c===pt,isOdd:c=>(c&Ze)===Ze,neg:c=>er(-c,t),eql:(c,u)=>c===u,sqr:c=>er(c*c,t),add:(c,u)=>er(c+u,t),sub:(c,u)=>er(c-u,t),mul:(c,u)=>er(c*u,t),pow:(c,u)=>h1(a,c,u),div:(c,u)=>er(c*Hu(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Hu(c,t),sqrt:s.sqrt||(c=>(o||(o=f1(t)),o(a,c))),toBytes:c=>r?(0,tr.numberToBytesLE)(c,i):(0,tr.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?(0,tr.bytesToNumberLE)(c):(0,tr.bytesToNumberBE)(c)},invertBatch:c=>m1(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function p4(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}function d4(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function f4(t,e,r=!1){t=(0,tr.ensureBytes)("privateHash",t);let s=t.length,n=em(e).nByteLength+8;if(n<24||s<n||s>1024)throw new Error("hashToPrivateScalar: expected "+n+"-1024 bytes of input, got "+s);let i=r?(0,tr.bytesToNumberLE)(t):(0,tr.bytesToNumberBE)(t);return er(i,e-Ze)+Ze}function tm(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function b1(t){let e=tm(t);return e+Math.ceil(e/2)}function h4(t,e,r=!1){let s=t.length,n=tm(e),i=b1(e);if(s<16||s<i||s>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+s);let o=r?(0,tr.bytesToNumberLE)(t):(0,tr.bytesToNumberBE)(t),a=er(o,e-Ze)+Ze;return r?(0,tr.numberToBytesLE)(a,n):(0,tr.numberToBytesBE)(a,n)}});var cm=g(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.wNAF=m4;Yi.pippenger=y4;Yi.precomputeMSMUnsafe=g4;Yi.validateBasic=b4;var v1=Ji(),ma=si(),x1=BigInt(0),om=BigInt(1);function rm(t,e){let r=e.negate();return t?r:e}function am(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function sm(t,e){am(t,e);let r=Math.ceil(e/t)+1,s=2**(t-1),n=2**t,i=(0,ma.bitMask)(t),o=BigInt(t);return{windows:r,windowSize:s,mask:i,maxNumber:n,shiftBy:o}}function _1(t,e,r){let{windowSize:s,mask:n,maxNumber:i,shiftBy:o}=r,a=Number(t&n),c=t>>o;a>s&&(a-=i,c+=om);let u=e*s,l=u+Math.abs(a)-1,p=a===0,y=a<0,f=e%2!==0;return{nextN:c,offset:l,isZero:p,isNeg:y,isNegF:f,offsetF:u}}function w1(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,s)=>{if(!(r instanceof e))throw new Error("invalid point at index "+s)})}function S1(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,s)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+s)})}var nm=new WeakMap,k1=new WeakMap;function im(t){return k1.get(t)||1}function m4(t,e){return{constTimeNegate:rm,hasPrecomputes(r){return im(r)!==1},unsafeLadder(r,s,n=t.ZERO){let i=r;for(;s>x1;)s&om&&(n=n.add(i)),i=i.double(),s>>=om;return n},precomputeWindow(r,s){let{windows:n,windowSize:i}=sm(s,e),o=[],a=r,c=a;for(let u=0;u<n;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,s,n){let i=t.ZERO,o=t.BASE,a=sm(r,e);for(let c=0;c<a.windows;c++){let{nextN:u,offset:l,isZero:p,isNeg:y,isNegF:f,offsetF:d}=_1(n,c,a);n=u,p?o=o.add(rm(f,s[d])):i=i.add(rm(y,s[l]))}return{p:i,f:o}},wNAFUnsafe(r,s,n,i=t.ZERO){let o=sm(r,e);for(let a=0;a<o.windows&&n!==x1;a++){let{nextN:c,offset:u,isZero:l,isNeg:p}=_1(n,a,o);if(n=c,!l){let y=s[u];i=i.add(p?y.negate():y)}}return i},getPrecomputes(r,s,n){let i=nm.get(s);return i||(i=this.precomputeWindow(s,r),r!==1&&nm.set(s,n(i))),i},wNAFCached(r,s,n){let i=im(r);return this.wNAF(i,this.getPrecomputes(i,r,n),s)},wNAFCachedUnsafe(r,s,n,i){let o=im(r);return o===1?this.unsafeLadder(r,s,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,n),s,i)},setWindowSize(r,s){am(s,e),k1.set(r,s),nm.delete(r)}}}function y4(t,e,r,s){if(w1(r,t),S1(s,e),r.length!==s.length)throw new Error("arrays of points and scalars must have equal length");let n=t.ZERO,i=(0,ma.bitLen)(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(0,ma.bitMask)(o),c=new Array(Number(a)+1).fill(n),u=Math.floor((e.BITS-1)/o)*o,l=n;for(let p=u;p>=0;p-=o){c.fill(n);for(let f=0;f<s.length;f++){let d=s[f],h=Number(d>>BigInt(p)&a);c[h]=c[h].add(r[f])}let y=n;for(let f=c.length-1,d=n;f>0;f--)d=d.add(c[f]),y=y.add(d);if(l=l.add(y),p!==0)for(let f=0;f<o;f++)l=l.double()}return l}function g4(t,e,r,s){am(s,e.BITS),w1(r,t);let n=t.ZERO,i=2**s-1,o=Math.ceil(e.BITS/s),a=(0,ma.bitMask)(s),c=r.map(u=>{let l=[];for(let p=0,y=u;p<i;p++)l.push(y),y=y.add(u);return l});return u=>{if(S1(u,e),u.length>r.length)throw new Error("array of scalars must be smaller than array of points");let l=n;for(let p=0;p<o;p++){if(l!==n)for(let f=0;f<s;f++)l=l.double();let y=BigInt(o*s-(p+1)*s);for(let f=0;f<u.length;f++){let d=u[f],h=Number(d>>y&a);h&&(l=l.add(c[f][h-1]))}}return l}}function b4(t){return(0,v1.validateField)(t.Fp),(0,ma.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,v1.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}});var A1=g(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.twistedEdwards=w4;var lm=cm(),um=Ji(),Be=si(),Ur=BigInt(0),Nt=BigInt(1),E1=BigInt(2),v4=BigInt(8),x4={zip215:!0};function _4(t){let e=(0,lm.validateBasic)(t);return(0,Be.validateObject)(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function w4(t){let e=_4(t),{Fp:r,n:s,prehash:n,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=E1<<BigInt(a*8)-Nt,l=r.create,p=(0,um.Field)(e.n,e.nBitLength),y=e.uvRatio||((T,S)=>{try{return{isValid:!0,value:r.sqrt(T*r.inv(S))}}catch{return{isValid:!1,value:Ur}}}),f=e.adjustScalarBytes||(T=>T),d=e.domain||((T,S,R)=>{if((0,Be.abool)("phflag",R),S.length||R)throw new Error("Contexts/pre-hash are not supported");return T});function h(T,S,R=!1){let Z=R?Nt:Ur;(0,Be.aInRange)("coordinate "+T,S,Z,u)}function m(T){if(!(T instanceof v))throw new Error("ExtendedPoint expected")}let b=(0,Be.memoized)((T,S)=>{let{ex:R,ey:Z,ez:F}=T,X=T.is0();S==null&&(S=X?v4:r.inv(F));let Se=l(R*S),oe=l(Z*S),W=l(F*S);if(X)return{x:Ur,y:Nt};if(W!==Nt)throw new Error("invZ was invalid");return{x:Se,y:oe}}),_=(0,Be.memoized)(T=>{let{a:S,d:R}=e;if(T.is0())throw new Error("bad point: ZERO");let{ex:Z,ey:F,ez:X,et:Se}=T,oe=l(Z*Z),W=l(F*F),De=l(X*X),$e=l(De*De),ie=l(oe*S),Cr=l(De*l(ie+W)),Rr=l($e+l(R*l(oe*W)));if(Cr!==Rr)throw new Error("bad point: equation left != right (1)");let ar=l(Z*F),_s=l(X*Se);if(ar!==_s)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(S,R,Z,F){h("x",S),h("y",R),h("z",Z,!0),h("t",F),this.ex=S,this.ey=R,this.ez=Z,this.et=F,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof v)throw new Error("extended point not allowed");let{x:R,y:Z}=S||{};return h("x",R),h("y",Z),new v(R,Z,Nt,l(R*Z))}static normalizeZ(S){let R=(0,um.FpInvertBatch)(r,S.map(Z=>Z.ez));return S.map((Z,F)=>Z.toAffine(R[F])).map(v.fromAffine)}static msm(S,R){return(0,lm.pippenger)(v,p,S,R)}_setWindowSize(S){U.setWindowSize(this,S)}assertValidity(){_(this)}equals(S){m(S);let{ex:R,ey:Z,ez:F}=this,{ex:X,ey:Se,ez:oe}=S,W=l(R*oe),De=l(X*F),$e=l(Z*oe),ie=l(Se*F);return W===De&&$e===ie}is0(){return this.equals(v.ZERO)}negate(){return new v(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){let{a:S}=e,{ex:R,ey:Z,ez:F}=this,X=l(R*R),Se=l(Z*Z),oe=l(E1*l(F*F)),W=l(S*X),De=R+Z,$e=l(l(De*De)-X-Se),ie=W+Se,Cr=ie-oe,Rr=W-Se,ar=l($e*Cr),_s=l(ie*Rr),fn=l($e*Rr),wc=l(Cr*ie);return new v(ar,_s,wc,fn)}add(S){m(S);let{a:R,d:Z}=e,{ex:F,ey:X,ez:Se,et:oe}=this,{ex:W,ey:De,ez:$e,et:ie}=S,Cr=l(F*W),Rr=l(X*De),ar=l(oe*Z*ie),_s=l(Se*$e),fn=l((F+X)*(W+De)-Cr-Rr),wc=_s-ar,Dx=_s+ar,Bx=l(Rr-R*Cr),X2=l(fn*wc),eI=l(Dx*Bx),tI=l(fn*Bx),rI=l(wc*Dx);return new v(X2,eI,rI,tI)}subtract(S){return this.add(S.negate())}wNAF(S){return U.wNAFCached(this,S,v.normalizeZ)}multiply(S){let R=S;(0,Be.aInRange)("scalar",R,Nt,s);let{p:Z,f:F}=this.wNAF(R);return v.normalizeZ([Z,F])[0]}multiplyUnsafe(S,R=v.ZERO){let Z=S;return(0,Be.aInRange)("scalar",Z,Ur,s),Z===Ur?P:this.is0()||Z===Nt?this:U.wNAFCachedUnsafe(this,Z,v.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return U.unsafeLadder(this,s).is0()}toAffine(S){return b(this,S)}clearCofactor(){let{h:S}=e;return S===Nt?this:this.multiplyUnsafe(S)}static fromHex(S,R=!1){let{d:Z,a:F}=e,X=r.BYTES;S=(0,Be.ensureBytes)("pointHex",S,X),(0,Be.abool)("zip215",R);let Se=S.slice(),oe=S[X-1];Se[X-1]=oe&-129;let W=(0,Be.bytesToNumberLE)(Se),De=R?u:r.ORDER;(0,Be.aInRange)("pointHex.y",W,Ur,De);let $e=l(W*W),ie=l($e-Nt),Cr=l(Z*$e-F),{isValid:Rr,value:ar}=y(ie,Cr);if(!Rr)throw new Error("Point.fromHex: invalid y coordinate");let _s=(ar&Nt)===Nt,fn=(oe&128)!==0;if(!R&&ar===Ur&&fn)throw new Error("Point.fromHex: x=0 and x_0=1");return fn!==_s&&(ar=l(-ar)),v.fromAffine({x:ar,y:W})}static fromPrivateKey(S){let{scalar:R}=te(S);return O.multiply(R)}toRawBytes(){let{x:S,y:R}=this.toAffine(),Z=(0,Be.numberToBytesLE)(R,r.BYTES);return Z[Z.length-1]|=S&Nt?128:0,Z}toHex(){return(0,Be.bytesToHex)(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Nt,l(e.Gx*e.Gy)),v.ZERO=new v(Ur,Nt,Nt,Ur);let{BASE:O,ZERO:P}=v,U=(0,lm.wNAF)(v,a*8);function j(T){return(0,um.mod)(T,s)}function N(T){return j((0,Be.bytesToNumberLE)(T))}function te(T){let S=r.BYTES;T=(0,Be.ensureBytes)("private key",T,S);let R=(0,Be.ensureBytes)("hashed private key",i(T),2*S),Z=f(R.slice(0,S)),F=R.slice(S,2*S),X=N(Z);return{head:Z,prefix:F,scalar:X}}function he(T){let{head:S,prefix:R,scalar:Z}=te(T),F=O.multiply(Z),X=F.toRawBytes();return{head:S,prefix:R,scalar:Z,point:F,pointBytes:X}}function we(T){return he(T).pointBytes}function ue(T=Uint8Array.of(),...S){let R=(0,Be.concatBytes)(...S);return N(i(d(R,(0,Be.ensureBytes)("context",T),!!n)))}function St(T,S,R={}){T=(0,Be.ensureBytes)("message",T),n&&(T=n(T));let{prefix:Z,scalar:F,pointBytes:X}=he(S),Se=ue(R.context,Z,T),oe=O.multiply(Se).toRawBytes(),W=ue(R.context,oe,X,T),De=j(Se+W*F);(0,Be.aInRange)("signature.s",De,Ur,s);let $e=(0,Be.concatBytes)(oe,(0,Be.numberToBytesLE)(De,r.BYTES));return(0,Be.ensureBytes)("result",$e,r.BYTES*2)}let G=x4;function et(T,S,R,Z=G){let{context:F,zip215:X}=Z,Se=r.BYTES;T=(0,Be.ensureBytes)("signature",T,2*Se),S=(0,Be.ensureBytes)("message",S),R=(0,Be.ensureBytes)("publicKey",R,Se),X!==void 0&&(0,Be.abool)("zip215",X),n&&(S=n(S));let oe=(0,Be.bytesToNumberLE)(T.slice(Se,2*Se)),W,De,$e;try{W=v.fromHex(R,X),De=v.fromHex(T.slice(0,Se),X),$e=O.multiplyUnsafe(oe)}catch{return!1}if(!X&&W.isSmallOrder())return!1;let ie=ue(F,De.toRawBytes(),W.toRawBytes(),S);return De.add(W.multiplyUnsafe(ie)).subtract($e).clearCofactor().equals(v.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:we,sign:St,verify:et,ExtendedPoint:v,utils:{getExtendedPublicKey:he,randomPrivateKey:()=>o(r.BYTES),precompute(T=8,S=v.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}}}}});var C1=g(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.expand_message_xmd=O1;ii.expand_message_xof=P1;ii.hash_to_field=dm;ii.isogenyMap=E4;ii.createHasher=A4;var T1=Ji(),Ct=si(),S4=Ct.bytesToNumberBE;function Ms(t,e){if(ya(t),ya(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let s=e-1;s>=0;s--)r[s]=t&255,t>>>=8;return new Uint8Array(r)}function k4(t,e){let r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t[s]^e[s];return r}function ya(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function O1(t,e,r,s){(0,Ct.abytes)(t),(0,Ct.abytes)(e),ya(r),e.length>255&&(e=s((0,Ct.concatBytes)((0,Ct.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:i}=s,o=Math.ceil(r/n);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=(0,Ct.concatBytes)(e,Ms(e.length,1)),c=Ms(0,i),u=Ms(r,2),l=new Array(o),p=s((0,Ct.concatBytes)(c,t,u,Ms(0,1),a));l[0]=s((0,Ct.concatBytes)(p,Ms(1,1),a));for(let f=1;f<=o;f++){let d=[k4(p,l[f-1]),Ms(f+1,1),a];l[f]=s((0,Ct.concatBytes)(...d))}return(0,Ct.concatBytes)(...l).slice(0,r)}function P1(t,e,r,s,n){if((0,Ct.abytes)(t),(0,Ct.abytes)(e),ya(r),e.length>255){let i=Math.ceil(2*s/8);e=n.create({dkLen:i}).update((0,Ct.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(t).update(Ms(r,2)).update(e).update(Ms(e.length,1)).digest()}function dm(t,e,r){(0,Ct.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:s,k:n,m:i,hash:o,expand:a,DST:c}=r;(0,Ct.abytes)(t),ya(e);let u=typeof c=="string"?(0,Ct.utf8ToBytes)(c):c,l=s.toString(2).length,p=Math.ceil((l+n)/8),y=e*i*p,f;if(a==="xmd")f=O1(t,u,y,o);else if(a==="xof")f=P1(t,u,y,n,o);else if(a==="_internal_pass")f=t;else throw new Error('expand must be "xmd" or "xof"');let d=new Array(e);for(let h=0;h<e;h++){let m=new Array(i);for(let b=0;b<i;b++){let _=p*(b+h*i),v=f.subarray(_,_+p);m[b]=(0,T1.mod)(S4(v),s)}d[h]=m}return d}function E4(t,e){let r=e.map(s=>Array.from(s).reverse());return(s,n)=>{let[i,o,a,c]=r.map(p=>p.reduce((y,f)=>t.add(t.mul(y,s),f))),[u,l]=(0,T1.FpInvertBatch)(t,[o,c],!0);return s=t.mul(i,u),n=t.mul(n,t.mul(a,l)),{x:s,y:n}}}function A4(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function s(i){return t.fromAffine(e(i))}function n(i){let o=i.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:r,hashToCurve(i,o){let a=dm(i,2,{...r,DST:r.DST,...o}),c=s(a[0]),u=s(a[1]);return n(c.add(u))},encodeToCurve(i,o){let a=dm(i,1,{...r,DST:r.encodeDST,...o});return n(s(a[0]))},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(let o of i)if(typeof o!="bigint")throw new Error("expected array of bigints");return n(s(i))}}}});var I1=g(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.montgomery=O4;var R1=Ji(),Ls=si(),Xi=BigInt(0),fm=BigInt(1);function T4(t){return(0,Ls.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function O4(t){let e=T4(t),{P:r}=e,s=(0,R1.Field)(r),n=v=>(0,R1.mod)(v,r),i=e.montgomeryBits,o=Math.ceil(i/8),a=e.nByteLength,c=e.adjustScalarBytes||(v=>v),u=e.powPminus2||(v=>s.pow(v,r-BigInt(2)));function l(v,O,P){let U=n(v*(O-P));return O=n(O-U),P=n(P+U),[O,P]}let p=(e.a-BigInt(2))/BigInt(4);function y(v,O){(0,Ls.aInRange)("u",v,Xi,r),(0,Ls.aInRange)("scalar",O,Xi,r);let P=O,U=v,j=fm,N=Xi,te=v,he=fm,we=Xi,ue;for(let G=BigInt(i-1);G>=Xi;G--){let et=P>>G&fm;we^=et,ue=l(we,j,te),j=ue[0],te=ue[1],ue=l(we,N,he),N=ue[0],he=ue[1],we=et;let or=j+N,T=n(or*or),S=j-N,R=n(S*S),Z=T-R,F=te+he,X=te-he,Se=n(X*or),oe=n(F*S),W=Se+oe,De=Se-oe;te=n(W*W),he=n(U*n(De*De)),j=n(T*R),N=n(Z*(T+n(p*Z)))}ue=l(we,j,te),j=ue[0],te=ue[1],ue=l(we,N,he),N=ue[0],he=ue[1];let St=u(N);return n(j*St)}function f(v){return(0,Ls.numberToBytesLE)(n(v),o)}function d(v){let O=(0,Ls.ensureBytes)("u coordinate",v,o);return a===32&&(O[31]&=127),(0,Ls.bytesToNumberLE)(O)}function h(v){let O=(0,Ls.ensureBytes)("scalar",v),P=O.length;if(P!==o&&P!==a){let U=""+o+" or "+a;throw new Error("invalid scalar, expected "+U+" bytes, got "+P)}return(0,Ls.bytesToNumberLE)(c(O))}function m(v,O){let P=d(O),U=h(v),j=y(P,U);if(j===Xi)throw new Error("invalid private or public key received");return f(j)}let b=f(e.Gu);function _(v){return m(v,b)}return{scalarMult:m,scalarMultBase:_,getSharedSecret:(v,O)=>m(v,O),getPublicKey:v=>_(v),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:b}}});var $u=g(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.hash_to_ristretto255=ee.hashToRistretto255=ee.RistrettoPoint=ee.encodeToCurve=ee.hashToCurve=ee.ed25519_hasher=ee.edwardsToMontgomery=ee.x25519=ee.ed25519ph=ee.ed25519ctx=ee.ed25519=ee.ED25519_TORSION_SUBGROUP=void 0;ee.edwardsToMontgomeryPub=z1;ee.edwardsToMontgomeryPriv=I4;var Vu=Kh(),ga=ps(),P4=cm(),vm=A1(),N1=C1(),Ae=Ji(),C4=I1(),oi=si(),ba=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),gm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),R4=BigInt(0),Fr=BigInt(1),Zu=BigInt(2),q1=BigInt(3),M1=BigInt(5),xm=BigInt(8);function L1(t){let e=BigInt(10),r=BigInt(20),s=BigInt(40),n=BigInt(80),i=ba,a=t*t%i*t%i,c=(0,Ae.pow2)(a,Zu,i)*a%i,u=(0,Ae.pow2)(c,Fr,i)*t%i,l=(0,Ae.pow2)(u,M1,i)*u%i,p=(0,Ae.pow2)(l,e,i)*l%i,y=(0,Ae.pow2)(p,r,i)*p%i,f=(0,Ae.pow2)(y,s,i)*y%i,d=(0,Ae.pow2)(f,n,i)*f%i,h=(0,Ae.pow2)(d,n,i)*f%i,m=(0,Ae.pow2)(h,e,i)*l%i;return{pow_p_5_8:(0,Ae.pow2)(m,Zu,i)*t%i,b2:a}}function U1(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _m(t,e){let r=ba,s=(0,Ae.mod)(e*e*e,r),n=(0,Ae.mod)(s*s*e,r),i=L1(t*n).pow_p_5_8,o=(0,Ae.mod)(t*s*i,r),a=(0,Ae.mod)(e*o*o,r),c=o,u=(0,Ae.mod)(o*gm,r),l=a===t,p=a===(0,Ae.mod)(-t,r),y=a===(0,Ae.mod)(-t*gm,r);return l&&(o=c),(p||y)&&(o=u),(0,Ae.isNegativeLE)(o,r)&&(o=(0,Ae.mod)(-o,r)),{isValid:l||p,value:o}}ee.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var L=(0,Ae.Field)(ba,void 0,!0),va={a:L.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:L,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:xm,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Vu.sha512,randomBytes:ga.randomBytes,adjustScalarBytes:U1,uvRatio:_m};ee.ed25519=(0,vm.twistedEdwards)(va);function F1(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,ga.concatBytes)((0,ga.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}ee.ed25519ctx=(0,vm.twistedEdwards)({...va,domain:F1});ee.ed25519ph=(0,vm.twistedEdwards)(Object.assign({},va,{domain:F1,prehash:Vu.sha512}));ee.x25519=(0,C4.montgomery)({P:ba,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=ba,{pow_p_5_8:r,b2:s}=L1(t);return(0,Ae.mod)((0,Ae.pow2)(r,q1,e)*s,e)},adjustScalarBytes:U1,randomBytes:ga.randomBytes});function z1(t){let{y:e}=ee.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return L.toBytes(L.create((r+e)*L.inv(r-e)))}ee.edwardsToMontgomery=z1;function I4(t){let e=va.hash(t.subarray(0,32));return va.adjustScalarBytes(e).subarray(0,32)}var j4=(L.ORDER+q1)/xm,D4=L.pow(Zu,j4),j1=L.sqrt(L.neg(L.ONE));function B4(t){let e=(L.ORDER-M1)/xm,r=BigInt(486662),s=L.sqr(t);s=L.mul(s,Zu);let n=L.add(s,L.ONE),i=L.neg(r),o=L.sqr(n),a=L.mul(o,n),c=L.mul(s,r);c=L.mul(c,i),c=L.add(c,o),c=L.mul(c,i);let u=L.sqr(a);o=L.sqr(u),u=L.mul(u,a),u=L.mul(u,c),o=L.mul(o,u);let l=L.pow(o,e);l=L.mul(l,u);let p=L.mul(l,j1);o=L.sqr(l),o=L.mul(o,a);let y=L.eql(o,c),f=L.cmov(p,l,y),d=L.mul(i,s),h=L.mul(l,t);h=L.mul(h,D4);let m=L.mul(h,j1),b=L.mul(c,s);o=L.sqr(h),o=L.mul(o,a);let _=L.eql(o,b),v=L.cmov(m,h,_);o=L.sqr(f),o=L.mul(o,a);let O=L.eql(o,c),P=L.cmov(d,i,O),U=L.cmov(v,f,O),j=L.isOdd(U);return U=L.cmov(U,L.neg(U),O!==j),{xMn:P,xMd:n,yMn:U,yMd:Fr}}var N4=(0,Ae.FpSqrtEven)(L,L.neg(BigInt(486664)));function q4(t){let{xMn:e,xMd:r,yMn:s,yMd:n}=B4(t),i=L.mul(e,n);i=L.mul(i,N4);let o=L.mul(r,s),a=L.sub(e,r),c=L.add(e,r),u=L.mul(o,c),l=L.eql(u,L.ZERO);i=L.cmov(i,L.ZERO,l),o=L.cmov(o,L.ONE,l),a=L.cmov(a,L.ONE,l),c=L.cmov(c,L.ONE,l);let[p,y]=(0,Ae.FpInvertBatch)(L,[o,c],!0);return{x:L.mul(i,p),y:L.mul(a,y)}}ee.ed25519_hasher=(0,N1.createHasher)(ee.ed25519.ExtendedPoint,t=>q4(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:L.ORDER,m:1,k:128,expand:"xmd",hash:Vu.sha512});ee.hashToCurve=ee.ed25519_hasher.hashToCurve;ee.encodeToCurve=ee.ed25519_hasher.encodeToCurve;function mm(t){if(!(t instanceof wr))throw new Error("RistrettoPoint expected")}var bm=gm,M4=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),L4=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),U4=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),F4=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D1=t=>_m(Fr,t),z4=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ym=t=>ee.ed25519.CURVE.Fp.create((0,oi.bytesToNumberLE)(t)&z4);function B1(t){let{d:e}=ee.ed25519.CURVE,r=ee.ed25519.CURVE.Fp.ORDER,s=ee.ed25519.CURVE.Fp.create,n=s(bm*t*t),i=s((n+Fr)*U4),o=BigInt(-1),a=s((o-e*n)*s(n+e)),{isValid:c,value:u}=_m(i,a),l=s(u*t);(0,Ae.isNegativeLE)(l,r)||(l=s(-l)),c||(u=l),c||(o=n);let p=s(o*(n-Fr)*F4-a),y=u*u,f=s((u+u)*a),d=s(p*M4),h=s(Fr-y),m=s(Fr+y);return new ee.ed25519.ExtendedPoint(s(f*m),s(h*d),s(d*m),s(f*h))}var wr=class t{constructor(e){this.ep=e}static fromAffine(e){return new t(ee.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,oi.ensureBytes)("ristrettoHash",e,64);let r=ym(e.slice(0,32)),s=B1(r),n=ym(e.slice(32,64)),i=B1(n);return new t(s.add(i))}static fromHex(e){e=(0,oi.ensureBytes)("ristrettoHex",e,32);let{a:r,d:s}=ee.ed25519.CURVE,n=ee.ed25519.CURVE.Fp.ORDER,i=ee.ed25519.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=ym(e);if(!(0,oi.equalBytes)((0,oi.numberToBytesLE)(a,32),e)||(0,Ae.isNegativeLE)(a,n))throw new Error(o);let c=i(a*a),u=i(Fr+r*c),l=i(Fr-r*c),p=i(u*u),y=i(l*l),f=i(r*s*p-y),{isValid:d,value:h}=D1(i(f*y)),m=i(h*l),b=i(h*m*f),_=i((a+a)*m);(0,Ae.isNegativeLE)(_,n)&&(_=i(-_));let v=i(u*b),O=i(_*v);if(!d||(0,Ae.isNegativeLE)(O,n)||v===R4)throw new Error(o);return new t(new ee.ed25519.ExtendedPoint(_,v,Fr,O))}static msm(e,r){let s=(0,Ae.Field)(ee.ed25519.CURVE.n,ee.ed25519.CURVE.nBitLength);return(0,P4.pippenger)(t,s,e,r)}toRawBytes(){let{ex:e,ey:r,ez:s,et:n}=this.ep,i=ee.ed25519.CURVE.Fp.ORDER,o=ee.ed25519.CURVE.Fp.create,a=o(o(s+r)*o(s-r)),c=o(e*r),u=o(c*c),{value:l}=D1(o(a*u)),p=o(l*a),y=o(l*c),f=o(p*y*n),d;if((0,Ae.isNegativeLE)(n*f,i)){let m=o(r*bm),b=o(e*bm);e=m,r=b,d=o(p*L4)}else d=y;(0,Ae.isNegativeLE)(e*f,i)&&(r=o(-r));let h=o((s-r)*d);return(0,Ae.isNegativeLE)(h,i)&&(h=o(-h)),(0,oi.numberToBytesLE)(h,32)}toHex(){return(0,oi.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){mm(e);let{ex:r,ey:s}=this.ep,{ex:n,ey:i}=e.ep,o=ee.ed25519.CURVE.Fp.create,a=o(r*i)===o(s*n),c=o(s*i)===o(r*n);return a||c}add(e){return mm(e),new t(this.ep.add(e.ep))}subtract(e){return mm(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}double(){return new t(this.ep.double())}negate(){return new t(this.ep.negate())}};ee.RistrettoPoint=(wr.BASE||(wr.BASE=new wr(ee.ed25519.ExtendedPoint.BASE)),wr.ZERO||(wr.ZERO=new wr(ee.ed25519.ExtendedPoint.ZERO)),wr);var H4=(t,e)=>{let r=e.DST,s=typeof r=="string"?(0,ga.utf8ToBytes)(r):r,n=(0,N1.expand_message_xmd)(t,s,64,Vu.sha512);return wr.hashToCurve(n)};ee.hashToRistretto255=H4;ee.hash_to_ristretto255=ee.hashToRistretto255});var Gu=g(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.sha224=zr.SHA224=zr.sha256=zr.SHA256=void 0;var Ku=Kh();zr.SHA256=Ku.SHA256;zr.sha256=Ku.sha256;zr.SHA224=Ku.SHA224;zr.sha224=Ku.sha224});var Z1=g((_J,H1)=>{"use strict";function Z4(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),i=n.charCodeAt(0);if(e[i]!==255)throw new TypeError(n+" is ambiguous");e[i]=s}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var d=0,h=0,m=0,b=f.length;m!==b&&f[m]===0;)m++,d++;for(var _=(b-m)*u+1>>>0,v=new Uint8Array(_);m!==b;){for(var O=f[m],P=0,U=_-1;(O!==0||P<h)&&U!==-1;U--,P++)O+=256*v[U]>>>0,v[U]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");h=P,m++}for(var j=_-h;j!==_&&v[j]===0;)j++;for(var N=a.repeat(d);j<_;++j)N+=t.charAt(v[j]);return N}function p(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var d=0,h=0,m=0;f[d]===a;)h++,d++;for(var b=(f.length-d)*c+1>>>0,_=new Uint8Array(b);f[d];){var v=f.charCodeAt(d);if(v>255)return;var O=e[v];if(O===255)return;for(var P=0,U=b-1;(O!==0||P<m)&&U!==-1;U--,P++)O+=o*_[U]>>>0,_[U]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");m=P,d++}for(var j=b-m;j!==b&&_[j]===0;)j++;for(var N=new Uint8Array(h+(b-j)),te=h;j!==b;)N[te++]=_[j++];return N}function y(f){var d=p(f);if(d)return d;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:p,decode:y}}H1.exports=Z4});var xa=g((wJ,V1)=>{var V4=Z1(),$4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";V1.exports=V4($4)});var G1=g(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.addressToPublicKeyBytes=km;Hr.signatureToBytes=$1;Hr.verifySignature=K1;Hr.sanitizeHeaders=W4;Hr.signResponse=Q4;Hr.verifyResponse=J4;Hr.verifyRequestSignature=Y4;Hr.isValidSolanaAddress=X4;var K4=(Pe(),Ce(Oe)),wm=$u(),Sm=Gu(),_a=ps(),G4=K4.__importDefault(xa());function km(t){try{return G4.default.decode(t)}catch{throw new Error("Invalid Solana address format")}}function $1(t){if(!/^[0-9a-fA-F]{128}$/.test(t))throw new Error("Invalid signature format");return(0,_a.hexToBytes)(t)}function K1(t,e,r){try{let s=km(r),n=$1(t),i=(0,Sm.sha256)(e);return wm.ed25519.verify(n,i,s)}catch(s){return console.log("Signature verification error:",s),!1}}function W4(t){let e={};for(let[s,n]of Object.entries(t)){let i=s.toUpperCase();(i==="CONTENT-TYPE"||i.startsWith("X-"))&&typeof n=="string"?e[i]=n:(i==="CONTENT-TYPE"||i.startsWith("X-"))&&Array.isArray(n)&&n.length>0&&(e[i]=n.join(", "))}return Object.keys(e).sort().reduce((s,n)=>(s[n]=e[n],s),{})}function Q4(t,e){let r=Date.now().toString(),s=(0,Sm.sha256)((0,_a.concatBytes)(new TextEncoder().encode(e),new TextEncoder().encode(r))),n=wm.ed25519.sign(s,t);return{signature:(0,_a.bytesToHex)(n),timestamp:r}}function J4(t,e,r,s){try{let n=(0,Sm.sha256)((0,_a.concatBytes)(new TextEncoder().encode(e),new TextEncoder().encode(s))),i=(0,_a.hexToBytes)(r);return wm.ed25519.verify(i,n,t)}catch(n){return console.error("Response verification error:",n),!1}}function Y4(t,e,r,s,n,i,o){let a=s["X-DAIN-TIMESTAMP"];if(!a)return!1;delete s["X-DAIN-TIMESTAMP"],delete s["X-DAIN-SIGNATURE"];let c=`${e.toUpperCase()}:${r}:${a}:${n||"{}"}`;return K1(t,c,i)}function X4(t){try{return km(t),!0}catch{return!1}}});var Q1=g(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.getSchemaTypeName=W1;Wu.getDetailedSchemaStructure=Sr;var Zt=qr();function W1(t){return t instanceof Zt.z.ZodDefault?"ZodDefault":t instanceof Zt.z.ZodOptional?"ZodOptional":t instanceof Zt.z.ZodNullable?"ZodNullable":t instanceof Zt.z.ZodArray?"ZodArray":t instanceof Zt.z.ZodEnum?"ZodEnum":t instanceof Zt.z.ZodUnion?"ZodUnion":t instanceof Zt.z.ZodObject?"ZodObject":t instanceof Zt.z.ZodString?"ZodString":t instanceof Zt.z.ZodNumber?"ZodNumber":t instanceof Zt.z.ZodBoolean?"ZodBoolean":t instanceof Zt.z.ZodLiteral?"ZodLiteral":t instanceof Zt.z.ZodTuple?"ZodTuple":t instanceof Zt.z.ZodIntersection?"ZodIntersection":t instanceof Zt.z.ZodDiscriminatedUnion?"ZodDiscriminatedUnion":"Unknown"}function Sr(t){let e=W1(t),r={type:e,description:t.description};switch(e){case"ZodObject":return{...r,shape:Object.fromEntries(Object.entries(t.shape).map(([s,n])=>[s,Sr(n)]))};case"ZodArray":return{...r,element:Sr(t.element)};case"ZodEnum":return{...r,values:t.options};case"ZodUnion":return{...r,options:t.options.map(s=>Sr(s))};case"ZodOptional":return{...r,innerType:Sr(t._def.innerType)};case"ZodNullable":return{...r,innerType:Sr(t._def.innerType)};case"ZodLiteral":return{...r,value:t.value};case"ZodTuple":return{...r,items:t.items.map(s=>Sr(s))};case"ZodIntersection":return{...r,left:Sr(t._def.left),right:Sr(t._def.right)};case"ZodDiscriminatedUnion":return{...r,discriminator:t.discriminator,options:t.options.map(s=>Sr(s))};case"ZodDefault":return{...r,innerType:Sr(t._def.innerType),defaultValue:t._def.defaultValue()};default:return r}}});var Qu=g(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.getDefaultOptions=hr.defaultOptions=hr.jsonDescription=hr.ignoreOverride=void 0;hr.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");var e3=(t,e)=>{if(e.description)try{return{...t,...JSON.parse(e.description)}}catch{}return t};hr.jsonDescription=e3;hr.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};var t3=t=>typeof t=="string"?{...hr.defaultOptions,name:t}:{...hr.defaultOptions,...t};hr.getDefaultOptions=t3});var Em=g(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.getRefs=void 0;var r3=Qu(),s3=t=>{let e=(0,r3.getDefaultOptions)(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,n])=>[n._def,{def:n._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}};Ju.getRefs=s3});var Us=g(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.setResponseValueAndErrors=eo.addErrorMessage=void 0;function J1(t,e,r,s){s?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}eo.addErrorMessage=J1;function n3(t,e,r,s,n){t[e]=r,J1(t,e,s,n)}eo.setResponseValueAndErrors=n3});var Am=g(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.parseAnyDef=void 0;function i3(){return{}}Yu.parseAnyDef=i3});var Tm=g(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.parseArrayDef=void 0;var o3=qr(),Xu=Us(),a3=ot();function c3(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==o3.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,a3.parseDef)(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&(0,Xu.setResponseValueAndErrors)(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&(0,Xu.setResponseValueAndErrors)(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&((0,Xu.setResponseValueAndErrors)(r,"minItems",t.exactLength.value,t.exactLength.message,e),(0,Xu.setResponseValueAndErrors)(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}el.parseArrayDef=c3});var Om=g(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.parseBigintDef=void 0;var ai=Us();function u3(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"min":e.target==="jsonSchema7"?s.inclusive?(0,ai.setResponseValueAndErrors)(r,"minimum",s.value,s.message,e):(0,ai.setResponseValueAndErrors)(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),(0,ai.setResponseValueAndErrors)(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?(0,ai.setResponseValueAndErrors)(r,"maximum",s.value,s.message,e):(0,ai.setResponseValueAndErrors)(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),(0,ai.setResponseValueAndErrors)(r,"maximum",s.value,s.message,e));break;case"multipleOf":(0,ai.setResponseValueAndErrors)(r,"multipleOf",s.value,s.message,e);break}return r}tl.parseBigintDef=u3});var Pm=g(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.parseBooleanDef=void 0;function l3(){return{type:"boolean"}}rl.parseBooleanDef=l3});var nl=g(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.parseBrandedDef=void 0;var p3=ot();function d3(t,e){return(0,p3.parseDef)(t.type._def,e)}sl.parseBrandedDef=d3});var Cm=g(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.parseCatchDef=void 0;var f3=ot(),h3=(t,e)=>(0,f3.parseDef)(t.innerType._def,e);il.parseCatchDef=h3});var Rm=g(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.parseDateDef=void 0;var Y1=Us();function X1(t,e,r){let s=r??e.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((n,i)=>X1(t,e,n))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return m3(t,e)}}ol.parseDateDef=X1;var m3=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let s of t.checks)switch(s.kind){case"min":(0,Y1.setResponseValueAndErrors)(r,"minimum",s.value,s.message,e);break;case"max":(0,Y1.setResponseValueAndErrors)(r,"maximum",s.value,s.message,e);break}return r}});var Im=g(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.parseDefaultDef=void 0;var y3=ot();function g3(t,e){return{...(0,y3.parseDef)(t.innerType._def,e),default:t.defaultValue()}}al.parseDefaultDef=g3});var jm=g(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.parseEffectsDef=void 0;var b3=ot();function v3(t,e){return e.effectStrategy==="input"?(0,b3.parseDef)(t.schema._def,e):{}}cl.parseEffectsDef=v3});var Dm=g(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.parseEnumDef=void 0;function x3(t){return{type:"string",enum:Array.from(t.values)}}ul.parseEnumDef=x3});var Bm=g(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.parseIntersectionDef=void 0;var ek=ot(),_3=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function w3(t,e){let r=[(0,ek.parseDef)(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),(0,ek.parseDef)(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),s=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,n=[];return r.forEach(i=>{if(_3(i))n.push(...i.allOf),i.unevaluatedProperties===void 0&&(s=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:a,...c}=i;o=c}else s=void 0;n.push(o)}}),n.length?{allOf:n,...s}:void 0}ll.parseIntersectionDef=w3});var Nm=g(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.parseLiteralDef=void 0;function S3(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}pl.parseLiteralDef=S3});var dl=g(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.parseStringDef=xt.zodPatterns=void 0;var ci=Us(),qm;xt.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(qm===void 0&&(qm=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),qm),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function k3(t,e){let r={type:"string"};if(t.checks)for(let s of t.checks)switch(s.kind){case"min":(0,ci.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e);break;case"max":(0,ci.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":kr(r,"email",s.message,e);break;case"format:idn-email":kr(r,"idn-email",s.message,e);break;case"pattern:zod":qt(r,xt.zodPatterns.email,s.message,e);break}break;case"url":kr(r,"uri",s.message,e);break;case"uuid":kr(r,"uuid",s.message,e);break;case"regex":qt(r,s.regex,s.message,e);break;case"cuid":qt(r,xt.zodPatterns.cuid,s.message,e);break;case"cuid2":qt(r,xt.zodPatterns.cuid2,s.message,e);break;case"startsWith":qt(r,RegExp(`^${Mm(s.value,e)}`),s.message,e);break;case"endsWith":qt(r,RegExp(`${Mm(s.value,e)}$`),s.message,e);break;case"datetime":kr(r,"date-time",s.message,e);break;case"date":kr(r,"date",s.message,e);break;case"time":kr(r,"time",s.message,e);break;case"duration":kr(r,"duration",s.message,e);break;case"length":(0,ci.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e),(0,ci.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"includes":{qt(r,RegExp(Mm(s.value,e)),s.message,e);break}case"ip":{s.version!=="v6"&&kr(r,"ipv4",s.message,e),s.version!=="v4"&&kr(r,"ipv6",s.message,e);break}case"base64url":qt(r,xt.zodPatterns.base64url,s.message,e);break;case"jwt":qt(r,xt.zodPatterns.jwt,s.message,e);break;case"cidr":{s.version!=="v6"&&qt(r,xt.zodPatterns.ipv4Cidr,s.message,e),s.version!=="v4"&&qt(r,xt.zodPatterns.ipv6Cidr,s.message,e);break}case"emoji":qt(r,xt.zodPatterns.emoji(),s.message,e);break;case"ulid":{qt(r,xt.zodPatterns.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{kr(r,"binary",s.message,e);break}case"contentEncoding:base64":{(0,ci.setResponseValueAndErrors)(r,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{qt(r,xt.zodPatterns.base64,s.message,e);break}}break}case"nanoid":qt(r,xt.zodPatterns.nanoid,s.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}xt.parseStringDef=k3;function Mm(t,e){return e.patternStrategy==="escape"?A3(t):t}var E3=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function A3(t){let e="";for(let r=0;r<t.length;r++)E3.has(t[r])||(e+="\\"),e+=t[r];return e}function kr(t,e,r,s){t.format||t.anyOf?.some(n=>n.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&s.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&s.errorMessages&&{errorMessage:{format:r}}})):(0,ci.setResponseValueAndErrors)(t,"format",e,r,s)}function qt(t,e,r,s){t.pattern||t.allOf?.some(n=>n.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&s.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:tk(e,s),...r&&s.errorMessages&&{errorMessage:{pattern:r}}})):(0,ci.setResponseValueAndErrors)(t,"pattern",tk(e,s),r,s)}function tk(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source,n="",i=!1,o=!1,a=!1;for(let c=0;c<s.length;c++){if(i){n+=s[c],i=!1;continue}if(r.i){if(o){if(s[c].match(/[a-z]/)){a?(n+=s[c],n+=`${s[c-2]}-${s[c]}`.toUpperCase(),a=!1):s[c+1]==="-"&&s[c+2]?.match(/[a-z]/)?(n+=s[c],a=!0):n+=`${s[c]}${s[c].toUpperCase()}`;continue}}else if(s[c].match(/[a-z]/)){n+=`[${s[c]}${s[c].toUpperCase()}]`;continue}}if(r.m){if(s[c]==="^"){n+=`(^|(?<=[\r
]))`;continue}else if(s[c]==="$"){n+=`($|(?=[\r
]))`;continue}}if(r.s&&s[c]==="."){n+=o?`${s[c]}\r
`:`[${s[c]}\r
]`;continue}n+=s[c],s[c]==="\\"?i=!0:o&&s[c]==="]"?o=!1:!o&&s[c]==="["&&(o=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return n}});var hl=g(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.parseRecordDef=void 0;var wa=qr(),rk=ot(),T3=dl(),O3=nl();function P3(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===wa.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((s,n)=>({...s,[n]:(0,rk.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",n]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:(0,rk.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===wa.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.checks?.length){let{type:s,...n}=(0,T3.parseStringDef)(t.keyType._def,e);return{...r,propertyNames:n}}else{if(t.keyType?._def.typeName===wa.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===wa.ZodFirstPartyTypeKind.ZodBranded&&t.keyType._def.type._def.typeName===wa.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.type._def.checks?.length){let{type:s,...n}=(0,O3.parseBrandedDef)(t.keyType._def,e);return{...r,propertyNames:n}}}return r}fl.parseRecordDef=P3});var Lm=g(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.parseMapDef=void 0;var sk=ot(),C3=hl();function R3(t,e){if(e.mapStrategy==="record")return(0,C3.parseRecordDef)(t,e);let r=(0,sk.parseDef)(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},s=(0,sk.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,s],minItems:2,maxItems:2}}}ml.parseMapDef=R3});var Um=g(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.parseNativeEnumDef=void 0;function I3(t){let e=t.values,s=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),n=Array.from(new Set(s.map(i=>typeof i)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:s}}yl.parseNativeEnumDef=I3});var Fm=g(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.parseNeverDef=void 0;function j3(){return{not:{}}}gl.parseNeverDef=j3});var zm=g(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.parseNullDef=void 0;function D3(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}bl.parseNullDef=D3});var vl=g(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.parseUnionDef=Fs.primitiveMappings=void 0;var B3=ot();Fs.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function N3(t,e){if(e.target==="openApi3")return nk(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(s=>s._def.typeName in Fs.primitiveMappings&&(!s._def.checks||!s._def.checks.length))){let s=r.reduce((n,i)=>{let o=Fs.primitiveMappings[i._def.typeName];return o&&!n.includes(o)?[...n,o]:n},[]);return{type:s.length>1?s:s[0]}}else if(r.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){let s=r.reduce((n,i)=>{let o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...n,o];case"bigint":return[...n,"integer"];case"object":if(i._def.value===null)return[...n,"null"];case"symbol":case"undefined":case"function":default:return n}},[]);if(s.length===r.length){let n=s.filter((i,o,a)=>a.indexOf(i)===o);return{type:n.length>1?n:n[0],enum:r.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(r.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((s,n)=>[...s,...n._def.values.filter(i=>!s.includes(i))],[])};return nk(t,e)}Fs.parseUnionDef=N3;var nk=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((s,n)=>(0,B3.parseDef)(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${n}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return r.length?{anyOf:r}:void 0}});var Hm=g(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.parseNullableDef=void 0;var ik=ot(),ok=vl();function q3(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:ok.primitiveMappings[t.innerType._def.typeName],nullable:!0}:{type:[ok.primitiveMappings[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let s=(0,ik.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}let r=(0,ik.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}xl.parseNullableDef=q3});var Zm=g(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.parseNumberDef=void 0;var zs=Us();function M3(t,e){let r={type:"number"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"int":r.type="integer",(0,zs.addErrorMessage)(r,"type",s.message,e);break;case"min":e.target==="jsonSchema7"?s.inclusive?(0,zs.setResponseValueAndErrors)(r,"minimum",s.value,s.message,e):(0,zs.setResponseValueAndErrors)(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),(0,zs.setResponseValueAndErrors)(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?(0,zs.setResponseValueAndErrors)(r,"maximum",s.value,s.message,e):(0,zs.setResponseValueAndErrors)(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),(0,zs.setResponseValueAndErrors)(r,"maximum",s.value,s.message,e));break;case"multipleOf":(0,zs.setResponseValueAndErrors)(r,"multipleOf",s.value,s.message,e);break}return r}_l.parseNumberDef=M3});var Vm=g(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.parseObjectDef=void 0;var L3=qr(),ak=ot();function U3(t,e){let r=e.target==="openAi",s={type:"object",properties:{}},n=[],i=t.shape();for(let a in i){let c=i[a];if(c===void 0||c._def===void 0)continue;let u=z3(c);u&&r&&(c instanceof L3.ZodOptional&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),u=!1);let l=(0,ak.parseDef)(c._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});l!==void 0&&(s.properties[a]=l,u||n.push(a))}n.length&&(s.required=n);let o=F3(t,e);return o!==void 0&&(s.additionalProperties=o),s}wl.parseObjectDef=U3;function F3(t,e){if(t.catchall._def.typeName!=="ZodNever")return(0,ak.parseDef)(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function z3(t){try{return t.isOptional()}catch{return!0}}});var $m=g(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.parseOptionalDef=void 0;var ck=ot(),H3=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return(0,ck.parseDef)(t.innerType._def,e);let r=(0,ck.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};Sl.parseOptionalDef=H3});var Km=g(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.parsePipelineDef=void 0;var kl=ot(),Z3=(t,e)=>{if(e.pipeStrategy==="input")return(0,kl.parseDef)(t.in._def,e);if(e.pipeStrategy==="output")return(0,kl.parseDef)(t.out._def,e);let r=(0,kl.parseDef)(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=(0,kl.parseDef)(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,s].filter(n=>n!==void 0)}};El.parsePipelineDef=Z3});var Gm=g(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.parsePromiseDef=void 0;var V3=ot();function $3(t,e){return(0,V3.parseDef)(t.type._def,e)}Al.parsePromiseDef=$3});var Wm=g(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.parseSetDef=void 0;var uk=Us(),K3=ot();function G3(t,e){let s={type:"array",uniqueItems:!0,items:(0,K3.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&(0,uk.setResponseValueAndErrors)(s,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&(0,uk.setResponseValueAndErrors)(s,"maxItems",t.maxSize.value,t.maxSize.message,e),s}Tl.parseSetDef=G3});var Jm=g(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.parseTupleDef=void 0;var Qm=ot();function W3(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,s)=>(0,Qm.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[]),additionalItems:(0,Qm.parseDef)(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,s)=>(0,Qm.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[])}}Ol.parseTupleDef=W3});var Ym=g(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.parseUndefinedDef=void 0;function Q3(){return{not:{}}}Pl.parseUndefinedDef=Q3});var Xm=g(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.parseUnknownDef=void 0;function J3(){return{}}Cl.parseUnknownDef=J3});var ey=g(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.parseReadonlyDef=void 0;var Y3=ot(),X3=(t,e)=>(0,Y3.parseDef)(t.innerType._def,e);Rl.parseReadonlyDef=X3});var ty=g(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.selectParser=void 0;var _e=qr(),eU=Am(),tU=Tm(),rU=Om(),sU=Pm(),nU=nl(),iU=Cm(),oU=Rm(),aU=Im(),cU=jm(),uU=Dm(),lU=Bm(),pU=Nm(),dU=Lm(),fU=Um(),hU=Fm(),mU=zm(),yU=Hm(),gU=Zm(),bU=Vm(),vU=$m(),xU=Km(),_U=Gm(),wU=hl(),SU=Wm(),kU=dl(),EU=Jm(),AU=Ym(),TU=vl(),OU=Xm(),PU=ey(),CU=(t,e,r)=>{switch(e){case _e.ZodFirstPartyTypeKind.ZodString:return(0,kU.parseStringDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodNumber:return(0,gU.parseNumberDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodObject:return(0,bU.parseObjectDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodBigInt:return(0,rU.parseBigintDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodBoolean:return(0,sU.parseBooleanDef)();case _e.ZodFirstPartyTypeKind.ZodDate:return(0,oU.parseDateDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodUndefined:return(0,AU.parseUndefinedDef)();case _e.ZodFirstPartyTypeKind.ZodNull:return(0,mU.parseNullDef)(r);case _e.ZodFirstPartyTypeKind.ZodArray:return(0,tU.parseArrayDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodUnion:case _e.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,TU.parseUnionDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodIntersection:return(0,lU.parseIntersectionDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodTuple:return(0,EU.parseTupleDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodRecord:return(0,wU.parseRecordDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodLiteral:return(0,pU.parseLiteralDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodEnum:return(0,uU.parseEnumDef)(t);case _e.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,fU.parseNativeEnumDef)(t);case _e.ZodFirstPartyTypeKind.ZodNullable:return(0,yU.parseNullableDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodOptional:return(0,vU.parseOptionalDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodMap:return(0,dU.parseMapDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodSet:return(0,SU.parseSetDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodLazy:return()=>t.getter()._def;case _e.ZodFirstPartyTypeKind.ZodPromise:return(0,_U.parsePromiseDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodNaN:case _e.ZodFirstPartyTypeKind.ZodNever:return(0,hU.parseNeverDef)();case _e.ZodFirstPartyTypeKind.ZodEffects:return(0,cU.parseEffectsDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodAny:return(0,eU.parseAnyDef)();case _e.ZodFirstPartyTypeKind.ZodUnknown:return(0,OU.parseUnknownDef)();case _e.ZodFirstPartyTypeKind.ZodDefault:return(0,aU.parseDefaultDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodBranded:return(0,nU.parseBrandedDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodReadonly:return(0,PU.parseReadonlyDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodCatch:return(0,iU.parseCatchDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodPipeline:return(0,xU.parsePipelineDef)(t,r);case _e.ZodFirstPartyTypeKind.ZodFunction:case _e.ZodFirstPartyTypeKind.ZodVoid:case _e.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(s=>{})(e)}};Il.selectParser=CU});var ot=g(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.parseDef=void 0;var RU=Qu(),IU=ty();function lk(t,e,r=!1){let s=e.seen.get(t);if(e.override){let a=e.override?.(t,e,s,r);if(a!==RU.ignoreOverride)return a}if(s&&!r){let a=jU(s,e);if(a!==void 0)return a}let n={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,n);let i=(0,IU.selectParser)(t,t.typeName,e),o=typeof i=="function"?lk(i(),e):i;if(o&&BU(t,e,o),e.postProcess){let a=e.postProcess(o,t,e);return n.jsonSchema=o,a}return n.jsonSchema=o,o}jl.parseDef=lk;var jU=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:DU(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},DU=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},BU=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r)});var dk=g(pk=>{"use strict";Object.defineProperty(pk,"__esModule",{value:!0})});var ry=g(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.zodToJsonSchema=void 0;var fk=ot(),NU=Em(),qU=(t,e)=>{let r=(0,NU.getRefs)(e),s=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((c,[u,l])=>({...c,[u]:(0,fk.parseDef)(l._def,{...r,currentPath:[...r.basePath,r.definitionPath,u]},!0)??{}}),{}):void 0,n=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=(0,fk.parseDef)(t._def,n===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??{},o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(i.title=o);let a=n===void 0?s?{...i,[r.definitionPath]:s}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...s,[n]:i}};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};Dl.zodToJsonSchema=qU});var hk=g(ce=>{"use strict";var MU=ce&&ce.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),ve=ce&&ce.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MU(e,t,r)};Object.defineProperty(ce,"__esModule",{value:!0});ve(Qu(),ce);ve(Em(),ce);ve(Us(),ce);ve(ot(),ce);ve(dk(),ce);ve(Am(),ce);ve(Tm(),ce);ve(Om(),ce);ve(Pm(),ce);ve(nl(),ce);ve(Cm(),ce);ve(Rm(),ce);ve(Im(),ce);ve(jm(),ce);ve(Dm(),ce);ve(Bm(),ce);ve(Nm(),ce);ve(Lm(),ce);ve(Um(),ce);ve(Fm(),ce);ve(zm(),ce);ve(Hm(),ce);ve(Zm(),ce);ve(Vm(),ce);ve($m(),ce);ve(Km(),ce);ve(Gm(),ce);ve(ey(),ce);ve(hl(),ce);ve(Wm(),ce);ve(dl(),ce);ve(Jm(),ce);ve(Ym(),ce);ve(vl(),ce);ve(Xm(),ce);ve(ty(),ce);ve(ry(),ce);var LU=ry();ce.default=LU.zodToJsonSchema});var gk=g(sy=>{"use strict";sy.parse=$U;sy.serialize=KU;var UU=Object.prototype.toString,FU=Object.prototype.hasOwnProperty,zU=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,HU=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,ZU=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,VU=/^[\u0020-\u003A\u003D-\u007E]*$/;function $U(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");var r={},s=t.length;if(s<2)return r;var n=e&&e.decode||GU,i=0,o=0,a=0;do{if(o=t.indexOf("=",i),o===-1)break;if(a=t.indexOf(";",i),a===-1)a=s;else if(o>a){i=t.lastIndexOf(";",o-1)+1;continue}var c=mk(t,i,o),u=yk(t,o,c),l=t.slice(c,u);if(!FU.call(r,l)){var p=mk(t,o+1,a),y=yk(t,a,p);t.charCodeAt(p)===34&&t.charCodeAt(y-1)===34&&(p++,y--);var f=t.slice(p,y);r[l]=QU(f,n)}i=a+1}while(i<s);return r}function mk(t,e,r){do{var s=t.charCodeAt(e);if(s!==32&&s!==9)return e}while(++e<r);return r}function yk(t,e,r){for(;e>r;){var s=t.charCodeAt(--e);if(s!==32&&s!==9)return e+1}return r}function KU(t,e,r){var s=r&&r.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!zU.test(t))throw new TypeError("argument name is invalid");var n=s(e);if(!HU.test(n))throw new TypeError("argument val is invalid");var i=t+"="+n;if(!r)return i;if(r.maxAge!=null){var o=Math.floor(r.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+o}if(r.domain){if(!ZU.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!VU.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){var a=r.expires;if(!WU(a)||isNaN(a.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+a.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority){var c=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(c){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function GU(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function WU(t){return UU.call(t)==="[object Date]"}function QU(t,e){try{return e(t)}catch{return t}}});var Sk=g(_t=>{"use strict";var Hs={},so=Array.from({length:64});for(let t=0,e=65,r=90;t+e<=r;t++){let s=String.fromCharCode(t+e);Hs[s]=t,so[t]=s}for(let t=0,e=97,r=122;t+e<=r;t++){let s=String.fromCharCode(t+e),n=t+26;Hs[s]=n,so[n]=s}for(let t=0;t<10;t++){Hs[t.toString(10)]=t+52;let e=t.toString(10),r=t+52;Hs[e]=r,so[r]=e}Hs["-"]=62;so[62]="-";Hs._=63;so[63]="_";var to=6,Sa=8,JU=63,ro=t=>new TextEncoder().encode(t),bk=t=>new TextDecoder().decode(t),ny=t=>{let e=t+"=".repeat((4-t.length%4)%4),r=e.length/4*3;e.endsWith("==")?r-=2:e.endsWith("=")&&r--;let s=new ArrayBuffer(r),n=new DataView(s);for(let i=0;i<e.length;i+=4){let o=0,a=0;for(let l=i,p=i+3;l<=p;l++)if(e[l]==="=")o>>=to;else{if(!(e[l]in Hs))throw new TypeError(`Invalid character ${e[l]} in base64 string.`);o|=Hs[e[l]]<<(p-l)*to,a+=to}let c=i/4*3;o>>=a%Sa;let u=Math.floor(a/Sa);for(let l=0;l<u;l++){let p=(u-l-1)*Sa;n.setUint8(c+l,(o&255<<p)>>p)}}return new Uint8Array(s)},Bl=t=>{let e=typeof t=="string"?ro(t):t,r="";for(let s=0;s<e.length;s+=3){let n=0,i=0;for(let a=s,c=Math.min(s+3,e.length);a<c;a++)n|=e[a]<<(c-a-1)*Sa,i+=Sa;let o=Math.ceil(i/to);n<<=o*to-i;for(let a=1;a<=o;a++){let c=(o-a)*to;r+=so[(n&JU<<c)>>c]}}return r},YU={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},ay=t=>({...t,encryption:{...t.encryption},integrity:{...t.integrity}}),iy={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},XU="2",cy="Fe26.2",e5=(t,e)=>{let r=new Uint8Array(e);return t.getRandomValues(r),r},oy=(t,e)=>{if(e<1)throw new Error("Invalid random bits count");let r=Math.ceil(e/8);return e5(t,r)},t5=async(t,e,r,s,n,i)=>{let o=ro(e),a=await t.subtle.importKey("raw",o,{name:"PBKDF2"},!1,["deriveBits"]),c=ro(r),u={name:"PBKDF2",hash:i,salt:c,iterations:s};return await t.subtle.deriveBits(u,a,n*8)},Nl=async(t,e,r)=>{var s;if(!e?.length)throw new Error("Empty password");if(r==null||typeof r!="object")throw new Error("Bad options");if(!(r.algorithm in iy))throw new Error(`Unknown algorithm: ${r.algorithm}`);let n=iy[r.algorithm],i={},o=(s=r.hmac)!=null?s:!1,a=o?{name:"HMAC",hash:n.name}:{name:n.name},c=o?["sign","verify"]:["encrypt","decrypt"];if(typeof e=="string"){if(e.length<r.minPasswordlength)throw new Error(`Password string too short (min ${r.minPasswordlength} characters required)`);let{salt:u=""}=r;if(!u){let{saltBits:y=0}=r;if(!y)throw new Error("Missing salt and saltBits options");let f=oy(t,y);u=[...new Uint8Array(f)].map(d=>d.toString(16).padStart(2,"0")).join("")}let l=await t5(t,e,u,r.iterations,n.keyBits/8,"SHA-1"),p=await t.subtle.importKey("raw",l,a,!1,c);i.key=p,i.salt=u}else{if(e.length<n.keyBits/8)throw new Error("Key buffer (password) too small");i.key=await t.subtle.importKey("raw",e,a,!1,c),i.salt=""}return r.iv?i.iv=r.iv:"ivBits"in n&&(i.iv=oy(t,n.ivBits)),i},vk=(t,e,r)=>[t==="aes-128-ctr"?{name:"AES-CTR",counter:e.iv,length:128}:{name:"AES-CBC",iv:e.iv},e.key,typeof r=="string"?ro(r):r],xk=async(t,e,r,s)=>{let n=await Nl(t,e,r),i=await t.subtle.encrypt(...vk(r.algorithm,n,s));return{encrypted:new Uint8Array(i),key:n}},_k=async(t,e,r,s)=>{let n=await Nl(t,e,r),i=await t.subtle.decrypt(...vk(r.algorithm,n,s));return bk(new Uint8Array(i))},uy=async(t,e,r,s)=>{let n=await Nl(t,e,{...r,hmac:!0}),i=ro(s),o=await t.subtle.sign({name:"HMAC"},n.key,i);return{digest:Bl(new Uint8Array(o)),salt:n.salt}},wk=t=>typeof t=="string"||t instanceof Uint8Array?{encryption:t,integrity:t}:"secret"in t?{id:t.id,encryption:t.secret,integrity:t.secret}:{id:t.id,encryption:t.encryption,integrity:t.integrity},r5=async(t,e,r,s)=>{if(!r)throw new Error("Empty password");let n=ay(s),i=Date.now()+(n.localtimeOffsetMsec||0),o=JSON.stringify(e),a=wk(r),{id:c="",encryption:u,integrity:l}=a;if(c&&!/^\w+$/.test(c))throw new Error("Invalid password id");let{encrypted:p,key:y}=await xk(t,u,n.encryption,o),f=Bl(new Uint8Array(p)),d=Bl(y.iv),h=n.ttl?i+n.ttl:"",m=`${cy}*${c}*${y.salt}*${d}*${f}*${h}`,b=await uy(t,l,n.integrity,m);return`${m}*${b.salt}*${b.digest}`},s5=(t,e)=>{let r=t.length===e.length?0:1;r&&(e=t);for(let s=0;s<t.length;s+=1)r|=t.charCodeAt(s)^e.charCodeAt(s);return r===0},n5=async(t,e,r,s)=>{if(!r)throw new Error("Empty password");let n=ay(s),i=Date.now()+(n.localtimeOffsetMsec||0),o=e.split("*");if(o.length!==8)throw new Error("Incorrect number of sealed components");let a=o[0],c=o[1],u=o[2],l=o[3],p=o[4],y=o[5],f=o[6],d=o[7],h=`${a}*${c}*${u}*${l}*${p}*${y}`;if(cy!==a)throw new Error("Wrong mac prefix");if(y){if(!/^\d+$/.test(y))throw new Error("Invalid expiration");if(Number.parseInt(y,10)<=i-n.timestampSkewSec*1e3)throw new Error("Expired seal")}let m="";if(c=c||"default",typeof r=="string"||r instanceof Uint8Array)m=r;else if(c in r)m=r[c];else throw new Error(`Cannot find password: ${c}`);m=wk(m);let b=n.integrity;b.salt=f;let _=await uy(t,m.integrity,b,h);if(!s5(_.digest,d))throw new Error("Bad hmac value");let v=ny(p),O=n.encryption;O.salt=u,O.iv=ny(l);let P=await _k(t,m.encryption,O,v);return P?JSON.parse(P):null};_t.algorithms=iy;_t.base64urlDecode=ny;_t.base64urlEncode=Bl;_t.bufferToString=bk;_t.clone=ay;_t.decrypt=_k;_t.defaults=YU;_t.encrypt=xk;_t.generateKey=Nl;_t.hmacWithPassword=uy;_t.macFormatVersion=XU;_t.macPrefix=cy;_t.randomBits=oy;_t.seal=r5;_t.stringToBuffer=ro;_t.unseal=n5});var Tk=g(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});var i5=require("node:crypto");function o5(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ly=o5(i5),kk=ly.webcrypto?.subtle||{},Ek=()=>ly.randomUUID(),Ak=t=>ly.webcrypto.getRandomValues(t),a5={randomUUID:Ek,getRandomValues:Ak,subtle:kk};no.default=a5;no.getRandomValues=Ak;no.randomUUID=Ek;no.subtle=kk});var Dk=g(Ul=>{"use strict";var dy=gk(),ql=Sk(),c5=Tk();function u5(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Ck=u5(c5),l5=60,fy=14*24*3600,p5=2,Rk="~",Ok={ttl:fy,cookieOptions:{httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}};function Ll(t){return typeof t=="string"?{1:t}:t}function d5(t){let[e,r]=t.split(Rk),s=r==null?null:parseInt(r,10);return{sealWithoutVersion:e,tokenVersion:s}}function f5(t){return t===0?2147483647:t-l5}function h5(t,e){return dy.parse(("headers"in t&&typeof t.headers.get=="function"?t.headers.get("cookie"):t.headers.cookie)??"")[e]??""}function m5(t,e){let s=e.get(t)?.value;return typeof s=="string"?s:""}function Pk(t,e){if("headers"in t&&typeof t.headers.append=="function"){t.headers.append("set-cookie",e);return}let r=t.getHeader("set-cookie")??[];Array.isArray(r)||(r=[r.toString()]),t.setHeader("set-cookie",[...r,e])}function y5(t){return async function(r,{password:s,ttl:n=fy}){let i=Ll(s),o=Math.max(...Object.keys(i).map(Number)),a={id:o.toString(),secret:i[o]};return`${await ql.seal(t,r,a,{...ql.defaults,ttl:n*1e3})}${Rk}${p5}`}}function g5(t){return async function(r,{password:s,ttl:n=fy}){let i=Ll(s),{sealWithoutVersion:o,tokenVersion:a}=d5(r);try{let c=await ql.unseal(t,o,i,{...ql.defaults,ttl:n*1e3})??{};return a===2?c:{...c.persistent}}catch(c){if(c instanceof Error&&/^(Expired seal|Bad hmac value|Cannot find password|Incorrect number of sealed components)/.test(c.message))return{};throw c}}}function Ml(t){let e={...Ok,...t,cookieOptions:{...Ok.cookieOptions,...t.cookieOptions||{}}};return t.cookieOptions&&"maxAge"in t.cookieOptions?t.cookieOptions.maxAge===void 0&&(e.ttl=0):e.cookieOptions.maxAge=f5(e.ttl),e}var py="iron-session: Bad usage: use getIronSession(req, res, options) or getIronSession(cookieStore, options).";function b5(t,e){return r;async function r(s,n,i){if(!s)throw new Error(py);if(!n)throw new Error(py);if(!i)return v5(s,n,t,e);let o=s,a=n;if(!i)throw new Error(py);if(!i.cookieName)throw new Error("iron-session: Bad usage. Missing cookie name.");if(!i.password)throw new Error("iron-session: Bad usage. Missing password.");let c=Ll(i.password);if(Object.values(c).some(y=>y.length<32))throw new Error("iron-session: Bad usage. Password must be at least 32 characters long.");let u=Ml(i),l=h5(o,u.cookieName),p=l?await e(l,{password:c,ttl:u.ttl}):{};return Object.defineProperties(p,{updateConfig:{value:function(f){u=Ml(f)}},save:{value:async function(){if("headersSent"in a&&a.headersSent)throw new Error("iron-session: Cannot set session cookie: session.save() was called after headers were sent. Make sure to call it before any res.send() or res.end()");let f=await t(p,{password:c,ttl:u.ttl}),d=dy.serialize(u.cookieName,f,u.cookieOptions);if(d.length>4096)throw new Error(`iron-session: Cookie length is too big (${d.length} bytes), browsers will refuse it. Try to remove some data.`);Pk(a,d)}},destroy:{value:function(){Object.keys(p).forEach(d=>{delete p[d]});let f=dy.serialize(u.cookieName,"",{...u.cookieOptions,maxAge:0});Pk(a,f)}}}),p}}async function v5(t,e,r,s){if(!e.cookieName)throw new Error("iron-session: Bad usage. Missing cookie name.");if(!e.password)throw new Error("iron-session: Bad usage. Missing password.");let n=Ll(e.password);if(Object.values(n).some(c=>c.length<32))throw new Error("iron-session: Bad usage. Password must be at least 32 characters long.");let i=Ml(e),o=m5(i.cookieName,t),a=o?await s(o,{password:n,ttl:i.ttl}):{};return Object.defineProperties(a,{updateConfig:{value:function(u){i=Ml(u)}},save:{value:async function(){let u=await r(a,{password:n,ttl:i.ttl}),l=i.cookieName.length+u.length+JSON.stringify(i.cookieOptions).length;if(l>4096)throw new Error(`iron-session: Cookie length is too big (${l} bytes), browsers will refuse it. Try to remove some data.`);t.set(i.cookieName,u,i.cookieOptions)}},destroy:{value:function(){Object.keys(a).forEach(l=>{delete a[l]});let u={...i.cookieOptions,maxAge:0};t.set(i.cookieName,"",u)}}}),a}var Ik=y5(Ck),jk=g5(Ck),x5=b5(Ik,jk);Ul.getIronSession=x5;Ul.sealData=Ik;Ul.unsealData=jk});var Bk=g(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.RedisOAuth2TokenStore=io.InMemoryOAuth2TokenStore=void 0;var hy=class{constructor(){D(this,"tokens");this.tokens=new Map}getKey(e,r){return`${e}:${r}`}async saveTokens(e,r,s){let n=this.getKey(e,r);this.tokens.set(n,s)}async getTokens(e,r){let s=this.getKey(e,r);return this.tokens.get(s)||null}async hasValidTokens(e,r){let s=await this.getTokens(e,r);return console.log("Checking tokens for",{agentId:e,provider:r,tokens:s}),s!==null}async deleteTokens(e,r){let s=this.getKey(e,r);this.tokens.delete(s)}};io.InMemoryOAuth2TokenStore=hy;var my=class{constructor(e,r="oauth2:"){D(this,"redis");D(this,"prefix");this.redis=e,this.prefix=r}getKey(e,r){return`${this.prefix}${e}:${r}`}async saveTokens(e,r,s){let n=this.getKey(e,r);await this.redis.set(n,JSON.stringify({...s,createdAt:Date.now()}))}async getTokens(e,r){let s=this.getKey(e,r),n=await this.redis.get(s);return n?JSON.parse(n):null}async hasValidTokens(e,r){return!!await this.getTokens(e,r)}async deleteTokens(e,r){let s=this.getKey(e,r);await this.redis.del(s)}};io.RedisOAuth2TokenStore=my});var Mk=g(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.OAuth2Handler=void 0;var Nk=Dk(),_5=Bk(),qk=require("crypto"),yy=class{constructor(e,r,s){D(this,"providers");D(this,"privateKey");D(this,"baseUrl");D(this,"tokenStore");this.providers=new Map,this.privateKey=e,this.baseUrl=r,this.tokenStore=s||new _5.InMemoryOAuth2TokenStore}registerProvider(e,r){this.providers.set(e,r)}generateCodeVerifier(){return(0,qk.randomBytes)(32).toString("base64").replace(/[^a-zA-Z0-9]/g,"").substring(0,128)}generateCodeChallenge(e){return(0,qk.createHash)("sha256").update(e).digest().toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async generateAuthUrl(e,r){let s=this.providers.get(e);if(!s)throw new Error(`Unknown provider: ${e}`);let n={agentId:r,provider:e,timestamp:Date.now()},i={response_type:"code",client_id:s.clientId,redirect_uri:`${this.baseUrl}/oauth2/callback/${e}`,scope:s.scopes.join(" ")};if(s.usePKCE){let a=this.generateCodeVerifier(),c=this.generateCodeChallenge(a);n.codeVerifier=a,Object.assign(i,{code_challenge:c,code_challenge_method:"S256"})}i.state=await this.encodeState(n),s.extraAuthParams&&Object.assign(i,s.extraAuthParams);let o=new URLSearchParams(i);return`${s.authorizationUrl}?${o.toString()}`}async handleCallback(e,r){let s=await this.decodeState(r),n=this.providers.get(s.provider);if(!n)throw new Error("Invalid provider");let i=await this.exchangeCodeForTokens(e,n,s.provider,s.codeVerifier);return await this.tokenStore.saveTokens(s.agentId,s.provider,i),n.onSuccess&&await n.onSuccess(s.agentId,i),{agentId:s.agentId,provider:s.provider,tokens:i}}async exchangeCodeForTokens(e,r,s,n){let i=new URLSearchParams({client_id:r.clientId,redirect_uri:`${this.baseUrl}/oauth2/callback/${s}`,code:e,grant_type:"authorization_code"});if(r.usePKCE){if(!n)throw new Error("PKCE is enabled, but the codeVerifier is missing from state.");i.append("code_verifier",n)}else i.append("client_secret",r.clientSecret);let o={"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"};if(r.usePKCE&&r.useBasicAuth){let u=Buffer.from(`${r.clientId}:${r.clientSecret}`).toString("base64");o.Authorization=`Basic ${u}`}let a=await fetch(r.tokenUrl,{method:"POST",headers:o,body:i.toString()});if(!a.ok){let u=await a.text();throw new Error(`Failed to exchange code for tokens: ${u}`)}let c=await a.json();return r.responseRootKey&&c[r.responseRootKey]&&Object.assign(c,c[r.responseRootKey]),{accessToken:c.access_token,refreshToken:c.refresh_token,scope:c.scope,createdAt:Date.now()}}async encodeState(e){return await(0,Nk.sealData)(e,{password:this.privateKey})}async decodeState(e){return await(0,Nk.unsealData)(e,{password:this.privateKey})}async hasValidTokens(e,r){if(!this.providers.get(e))throw new Error(`Unknown provider: ${e}`);return this.tokenStore.hasValidTokens(r,e)}async getProviders(e){return await Promise.all(Array.from(this.providers.entries()).map(async([s,n])=>({name:s,config:{clientId:n.clientId,authorizationUrl:n.authorizationUrl,tokenUrl:n.tokenUrl,scopes:n.scopes,reason:n.reason,requiredTools:n.requiredTools},connected:await this.tokenStore.hasValidTokens(e,s)})))}};Fl.OAuth2Handler=yy});var Fk=g((gY,Uk)=>{var Lk=require("stream").Stream,w5=require("util");Uk.exports=Er;function Er(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}w5.inherits(Er,Lk);Er.create=function(t,e){var r=new this;e=e||{};for(var s in e)r[s]=e[s];r.source=t;var n=t.emit;return t.emit=function(){return r._handleEmit(arguments),n.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(Er.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Er.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Er.prototype.resume=function(){this._released||this.release(),this.source.resume()};Er.prototype.pause=function(){this.source.pause()};Er.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Er.prototype.pipe=function(){var t=Lk.prototype.pipe.apply(this,arguments);return this.resume(),t};Er.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Er.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var Vk=g((bY,Zk)=>{var S5=require("util"),Hk=require("stream").Stream,zk=Fk();Zk.exports=tt;function tt(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}S5.inherits(tt,Hk);tt.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};tt.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};tt.prototype.append=function(t){var e=tt.isStreamLike(t);if(e){if(!(t instanceof zk)){var r=zk.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};tt.prototype.pipe=function(t,e){return Hk.prototype.pipe.call(this,t,e),this.resume(),t};tt.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};tt.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var s=tt.isStreamLike(r);s&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};tt.prototype._pipeNext=function(t){this._currentStream=t;var e=tt.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};tt.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};tt.prototype.write=function(t){this.emit("data",t)};tt.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};tt.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};tt.prototype.end=function(){this._reset(),this.emit("end")};tt.prototype.destroy=function(){this._reset(),this.emit("close")};tt.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};tt.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};tt.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};tt.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var $k=g((vY,k5)=>{k5.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Gk=g((xY,Kk)=>{Kk.exports=$k()});var Jk=g(Vt=>{"use strict";var zl=Gk(),E5=require("path").extname,Wk=/^\s*([^;\s]*)(?:;|\s|$)/,A5=/^text\//i;Vt.charset=Qk;Vt.charsets={lookup:Qk};Vt.contentType=T5;Vt.extension=O5;Vt.extensions=Object.create(null);Vt.lookup=P5;Vt.types=Object.create(null);C5(Vt.extensions,Vt.types);function Qk(t){if(!t||typeof t!="string")return!1;var e=Wk.exec(t),r=e&&zl[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&A5.test(e[1])?"UTF-8":!1}function T5(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Vt.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=Vt.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function O5(t){if(!t||typeof t!="string")return!1;var e=Wk.exec(t),r=e&&Vt.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function P5(t){if(!t||typeof t!="string")return!1;var e=E5("x."+t).toLowerCase().substr(1);return e&&Vt.types[e]||!1}function C5(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(zl).forEach(function(n){var i=zl[n],o=i.extensions;if(!(!o||!o.length)){t[n]=o;for(var a=0;a<o.length;a++){var c=o[a];if(e[c]){var u=r.indexOf(zl[e[c]].source),l=r.indexOf(i.source);if(e[c]!=="application/octet-stream"&&(u>l||u===l&&e[c].substr(0,12)==="application/"))continue}e[c]=n}}})}});var Xk=g((wY,Yk)=>{Yk.exports=R5;function R5(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var gy=g((SY,tE)=>{var eE=Xk();tE.exports=I5;function I5(t){var e=!1;return eE(function(){e=!0}),function(s,n){e?t(s,n):eE(function(){t(s,n)})}}});var by=g((kY,rE)=>{rE.exports=j5;function j5(t){Object.keys(t.jobs).forEach(D5.bind(t)),t.jobs={}}function D5(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var vy=g((EY,nE)=>{var sE=gy(),B5=by();nE.exports=N5;function N5(t,e,r,s){var n=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[n]=q5(e,n,t[n],function(i,o){n in r.jobs&&(delete r.jobs[n],i?B5(r):r.results[n]=o,s(i,r.results))})}function q5(t,e,r,s){var n;return t.length==2?n=t(r,sE(s)):n=t(r,e,sE(s)),n}});var xy=g((AY,iE)=>{iE.exports=M5;function M5(t,e){var r=!Array.isArray(t),s={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&s.keyedList.sort(r?e:function(n,i){return e(t[n],t[i])}),s}});var _y=g((TY,oE)=>{var L5=by(),U5=gy();oE.exports=F5;function F5(t){Object.keys(this.jobs).length&&(this.index=this.size,L5(this),U5(t)(null,this.results))}});var cE=g((OY,aE)=>{var z5=vy(),H5=xy(),Z5=_y();aE.exports=V5;function V5(t,e,r){for(var s=H5(t);s.index<(s.keyedList||t).length;)z5(t,e,s,function(n,i){if(n){r(n,i);return}if(Object.keys(s.jobs).length===0){r(null,s.results);return}}),s.index++;return Z5.bind(s,r)}});var wy=g((PY,Hl)=>{var uE=vy(),$5=xy(),K5=_y();Hl.exports=G5;Hl.exports.ascending=lE;Hl.exports.descending=W5;function G5(t,e,r,s){var n=$5(t,r);return uE(t,e,n,function i(o,a){if(o){s(o,a);return}if(n.index++,n.index<(n.keyedList||t).length){uE(t,e,n,i);return}s(null,n.results)}),K5.bind(n,s)}function lE(t,e){return t<e?-1:t>e?1:0}function W5(t,e){return-1*lE(t,e)}});var dE=g((CY,pE)=>{var Q5=wy();pE.exports=J5;function J5(t,e,r){return Q5(t,e,null,r)}});var hE=g((RY,fE)=>{fE.exports={parallel:cE(),serial:dE(),serialOrdered:wy()}});var Sy=g((IY,mE)=>{"use strict";mE.exports=Object});var gE=g((jY,yE)=>{"use strict";yE.exports=Error});var vE=g((DY,bE)=>{"use strict";bE.exports=EvalError});var _E=g((BY,xE)=>{"use strict";xE.exports=RangeError});var SE=g((NY,wE)=>{"use strict";wE.exports=ReferenceError});var EE=g((qY,kE)=>{"use strict";kE.exports=SyntaxError});var Zl=g((MY,AE)=>{"use strict";AE.exports=TypeError});var OE=g((LY,TE)=>{"use strict";TE.exports=URIError});var CE=g((UY,PE)=>{"use strict";PE.exports=Math.abs});var IE=g((FY,RE)=>{"use strict";RE.exports=Math.floor});var DE=g((zY,jE)=>{"use strict";jE.exports=Math.max});var NE=g((HY,BE)=>{"use strict";BE.exports=Math.min});var ME=g((ZY,qE)=>{"use strict";qE.exports=Math.pow});var UE=g((VY,LE)=>{"use strict";LE.exports=Math.round});var zE=g(($Y,FE)=>{"use strict";FE.exports=Number.isNaN||function(e){return e!==e}});var ZE=g((KY,HE)=>{"use strict";var Y5=zE();HE.exports=function(e){return Y5(e)||e===0?e:e<0?-1:1}});var $E=g((GY,VE)=>{"use strict";VE.exports=Object.getOwnPropertyDescriptor});var ky=g((WY,KE)=>{"use strict";var Vl=$E();if(Vl)try{Vl([],"length")}catch{Vl=null}KE.exports=Vl});var WE=g((QY,GE)=>{"use strict";var $l=Object.defineProperty||!1;if($l)try{$l({},"a",{value:1})}catch{$l=!1}GE.exports=$l});var Ey=g((JY,QE)=>{"use strict";QE.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),s=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==n||a.enumerable!==!0)return!1}return!0}});var XE=g((YY,YE)=>{"use strict";var JE=typeof Symbol<"u"&&Symbol,X5=Ey();YE.exports=function(){return typeof JE!="function"||typeof Symbol!="function"||typeof JE("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:X5()}});var Ay=g((XY,eA)=>{"use strict";eA.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Ty=g((eX,tA)=>{"use strict";var eF=Sy();tA.exports=eF.getPrototypeOf||null});var nA=g((tX,sA)=>{"use strict";var tF="Function.prototype.bind called on incompatible ",rF=Object.prototype.toString,sF=Math.max,nF="[object Function]",rA=function(e,r){for(var s=[],n=0;n<e.length;n+=1)s[n]=e[n];for(var i=0;i<r.length;i+=1)s[i+e.length]=r[i];return s},iF=function(e,r){for(var s=[],n=r||0,i=0;n<e.length;n+=1,i+=1)s[i]=e[n];return s},oF=function(t,e){for(var r="",s=0;s<t.length;s+=1)r+=t[s],s+1<t.length&&(r+=e);return r};sA.exports=function(e){var r=this;if(typeof r!="function"||rF.apply(r)!==nF)throw new TypeError(tF+r);for(var s=iF(arguments,1),n,i=function(){if(this instanceof n){var l=r.apply(this,rA(s,arguments));return Object(l)===l?l:this}return r.apply(e,rA(s,arguments))},o=sF(0,r.length-s.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(n=Function("binder","return function ("+oF(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,n.prototype=new u,u.prototype=null}return n}});var ka=g((rX,iA)=>{"use strict";var aF=nA();iA.exports=Function.prototype.bind||aF});var Kl=g((sX,oA)=>{"use strict";oA.exports=Function.prototype.call});var Oy=g((nX,aA)=>{"use strict";aA.exports=Function.prototype.apply});var uA=g((iX,cA)=>{"use strict";cA.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var pA=g((oX,lA)=>{"use strict";var cF=ka(),uF=Oy(),lF=Kl(),pF=uA();lA.exports=pF||cF.call(lF,uF)});var fA=g((aX,dA)=>{"use strict";var dF=ka(),fF=Zl(),hF=Kl(),mF=pA();dA.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new fF("a function is required");return mF(dF,hF,e)}});var vA=g((cX,bA)=>{"use strict";var yF=fA(),hA=ky(),yA;try{yA=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Py=!!yA&&hA&&hA(Object.prototype,"__proto__"),gA=Object,mA=gA.getPrototypeOf;bA.exports=Py&&typeof Py.get=="function"?yF([Py.get]):typeof mA=="function"?function(e){return mA(e==null?e:gA(e))}:!1});var kA=g((uX,SA)=>{"use strict";var xA=Ay(),_A=Ty(),wA=vA();SA.exports=xA?function(e){return xA(e)}:_A?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return _A(e)}:wA?function(e){return wA(e)}:null});var Cy=g((lX,EA)=>{"use strict";var gF=Function.prototype.call,bF=Object.prototype.hasOwnProperty,vF=ka();EA.exports=vF.call(gF,bF)});var IA=g((pX,RA)=>{"use strict";var xe,xF=Sy(),_F=gE(),wF=vE(),SF=_E(),kF=SE(),uo=EE(),co=Zl(),EF=OE(),AF=CE(),TF=IE(),OF=DE(),PF=NE(),CF=ME(),RF=UE(),IF=ZE(),PA=Function,Ry=function(t){try{return PA('"use strict"; return ('+t+").constructor;")()}catch{}},Ea=ky(),jF=WE(),Iy=function(){throw new co},DF=Ea?function(){try{return arguments.callee,Iy}catch{try{return Ea(arguments,"callee").get}catch{return Iy}}}():Iy,oo=XE()(),mt=kA(),BF=Ty(),NF=Ay(),CA=Oy(),Aa=Kl(),ao={},qF=typeof Uint8Array>"u"||!mt?xe:mt(Uint8Array),ui={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?xe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?xe:ArrayBuffer,"%ArrayIteratorPrototype%":oo&&mt?mt([][Symbol.iterator]()):xe,"%AsyncFromSyncIteratorPrototype%":xe,"%AsyncFunction%":ao,"%AsyncGenerator%":ao,"%AsyncGeneratorFunction%":ao,"%AsyncIteratorPrototype%":ao,"%Atomics%":typeof Atomics>"u"?xe:Atomics,"%BigInt%":typeof BigInt>"u"?xe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?xe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?xe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?xe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":_F,"%eval%":eval,"%EvalError%":wF,"%Float16Array%":typeof Float16Array>"u"?xe:Float16Array,"%Float32Array%":typeof Float32Array>"u"?xe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?xe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?xe:FinalizationRegistry,"%Function%":PA,"%GeneratorFunction%":ao,"%Int8Array%":typeof Int8Array>"u"?xe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?xe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?xe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oo&&mt?mt(mt([][Symbol.iterator]())):xe,"%JSON%":typeof JSON=="object"?JSON:xe,"%Map%":typeof Map>"u"?xe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!oo||!mt?xe:mt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":xF,"%Object.getOwnPropertyDescriptor%":Ea,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?xe:Promise,"%Proxy%":typeof Proxy>"u"?xe:Proxy,"%RangeError%":SF,"%ReferenceError%":kF,"%Reflect%":typeof Reflect>"u"?xe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?xe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!oo||!mt?xe:mt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?xe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oo&&mt?mt(""[Symbol.iterator]()):xe,"%Symbol%":oo?Symbol:xe,"%SyntaxError%":uo,"%ThrowTypeError%":DF,"%TypedArray%":qF,"%TypeError%":co,"%Uint8Array%":typeof Uint8Array>"u"?xe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?xe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?xe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?xe:Uint32Array,"%URIError%":EF,"%WeakMap%":typeof WeakMap>"u"?xe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?xe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?xe:WeakSet,"%Function.prototype.call%":Aa,"%Function.prototype.apply%":CA,"%Object.defineProperty%":jF,"%Object.getPrototypeOf%":BF,"%Math.abs%":AF,"%Math.floor%":TF,"%Math.max%":OF,"%Math.min%":PF,"%Math.pow%":CF,"%Math.round%":RF,"%Math.sign%":IF,"%Reflect.getPrototypeOf%":NF};if(mt)try{null.error}catch(t){AA=mt(mt(t)),ui["%Error.prototype%"]=AA}var AA,MF=function t(e){var r;if(e==="%AsyncFunction%")r=Ry("async function () {}");else if(e==="%GeneratorFunction%")r=Ry("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ry("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(r=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&mt&&(r=mt(n.prototype))}return ui[e]=r,r},TA={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ta=ka(),Gl=Cy(),LF=Ta.call(Aa,Array.prototype.concat),UF=Ta.call(CA,Array.prototype.splice),OA=Ta.call(Aa,String.prototype.replace),Wl=Ta.call(Aa,String.prototype.slice),FF=Ta.call(Aa,RegExp.prototype.exec),zF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,HF=/\\(\\)?/g,ZF=function(e){var r=Wl(e,0,1),s=Wl(e,-1);if(r==="%"&&s!=="%")throw new uo("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&r!=="%")throw new uo("invalid intrinsic syntax, expected opening `%`");var n=[];return OA(e,zF,function(i,o,a,c){n[n.length]=a?OA(c,HF,"$1"):o||i}),n},VF=function(e,r){var s=e,n;if(Gl(TA,s)&&(n=TA[s],s="%"+n[0]+"%"),Gl(ui,s)){var i=ui[s];if(i===ao&&(i=MF(s)),typeof i>"u"&&!r)throw new co("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:s,value:i}}throw new uo("intrinsic "+e+" does not exist!")};RA.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new co("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new co('"allowMissing" argument must be a boolean');if(FF(/^%?[^%]*%?$/,e)===null)throw new uo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=ZF(e),n=s.length>0?s[0]:"",i=VF("%"+n+"%",r),o=i.name,a=i.value,c=!1,u=i.alias;u&&(n=u[0],UF(s,LF([0,1],u)));for(var l=1,p=!0;l<s.length;l+=1){var y=s[l],f=Wl(y,0,1),d=Wl(y,-1);if((f==='"'||f==="'"||f==="`"||d==='"'||d==="'"||d==="`")&&f!==d)throw new uo("property names with quotes must have matching quotes");if((y==="constructor"||!p)&&(c=!0),n+="."+y,o="%"+n+"%",Gl(ui,o))a=ui[o];else if(a!=null){if(!(y in a)){if(!r)throw new co("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ea&&l+1>=s.length){var h=Ea(a,y);p=!!h,p&&"get"in h&&!("originalValue"in h.get)?a=h.get:a=a[y]}else p=Gl(a,y),a=a[y];p&&!c&&(ui[o]=a)}}return a}});var DA=g((dX,jA)=>{"use strict";var $F=Ey();jA.exports=function(){return $F()&&!!Symbol.toStringTag}});var qA=g((fX,NA)=>{"use strict";var KF=IA(),BA=KF("%Object.defineProperty%",!0),GF=DA()(),WF=Cy(),QF=Zl(),Ql=GF?Symbol.toStringTag:null;NA.exports=function(e,r){var s=arguments.length>2&&!!arguments[2]&&arguments[2].force,n=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof s<"u"&&typeof s!="boolean"||typeof n<"u"&&typeof n!="boolean")throw new QF("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Ql&&(s||!WF(e,Ql))&&(BA?BA(e,Ql,{configurable:!n,enumerable:!1,value:r,writable:!1}):e[Ql]=r)}});var LA=g((hX,MA)=>{MA.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var qy=g((mX,UA)=>{var Ny=Vk(),JF=require("util"),jy=require("path"),YF=require("http"),XF=require("https"),e9=require("url").parse,t9=require("fs"),r9=require("stream").Stream,Dy=Jk(),s9=hE(),n9=qA(),By=LA();UA.exports=Ee;JF.inherits(Ee,Ny);function Ee(t){if(!(this instanceof Ee))return new Ee(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Ny.call(this),t=t||{};for(var e in t)this[e]=t[e]}Ee.LINE_BREAK=`\r
`;Ee.DEFAULT_CONTENT_TYPE="application/octet-stream";Ee.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var s=Ny.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var n=this._multiPartHeader(t,e,r),i=this._multiPartFooter();s(n),s(e),s(i),this._trackLength(n,e,r)};Ee.prototype._trackLength=function(t,e,r){var s=0;r.knownLength!=null?s+=+r.knownLength:Buffer.isBuffer(e)?s=e.length:typeof e=="string"&&(s=Buffer.byteLength(e)),this._valueLength+=s,this._overheadLength+=Buffer.byteLength(t)+Ee.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Object.prototype.hasOwnProperty.call(e,"httpVersion"))&&!(e instanceof r9))&&(r.knownLength||this._valuesToMeasure.push(e))};Ee.prototype._lengthRetriever=function(t,e){Object.prototype.hasOwnProperty.call(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):t9.stat(t.path,function(r,s){var n;if(r){e(r);return}n=s.size-(t.start?t.start:0),e(null,n)}):Object.prototype.hasOwnProperty.call(t,"httpVersion")?e(null,+t.headers["content-length"]):Object.prototype.hasOwnProperty.call(t,"httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};Ee.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var s=this._getContentDisposition(e,r),n=this._getContentType(e,r),i="",o={"Content-Disposition":["form-data",'name="'+t+'"'].concat(s||[]),"Content-Type":[].concat(n||[])};typeof r.header=="object"&&By(o,r.header);var a;for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)){if(a=o[c],a==null)continue;Array.isArray(a)||(a=[a]),a.length&&(i+=c+": "+a.join("; ")+Ee.LINE_BREAK)}return"--"+this.getBoundary()+Ee.LINE_BREAK+i+Ee.LINE_BREAK};Ee.prototype._getContentDisposition=function(t,e){var r,s;return typeof e.filepath=="string"?r=jy.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=jy.basename(e.filename||t.name||t.path):t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=jy.basename(t.client._httpMessage.path||"")),r&&(s='filename="'+r+'"'),s};Ee.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=Dy.lookup(t.name)),!r&&t.path&&(r=Dy.lookup(t.path)),!r&&t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=Dy.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=Ee.DEFAULT_CONTENT_TYPE),r};Ee.prototype._multiPartFooter=function(){return function(t){var e=Ee.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};Ee.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+Ee.LINE_BREAK};Ee.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e.toLowerCase()]=t[e]);return r};Ee.prototype.setBoundary=function(t){this._boundary=t};Ee.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};Ee.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,s=this._streams.length;r<s;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(Ee.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};Ee.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};Ee.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};Ee.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};Ee.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}s9.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,s){if(r){t(r);return}s.forEach(function(n){e+=n}),t(null,e)})};Ee.prototype.submit=function(t,e){var r,s,n={method:"post"};return typeof t=="string"?(t=e9(t),s=By({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},n)):(s=By(t,n),s.port||(s.port=s.protocol=="https:"?443:80)),s.headers=this.getHeaders(t.headers),s.protocol=="https:"?r=XF.request(s):r=YF.request(s),this.getLength(function(i,o){if(i&&i!=="Unknown stream"){this._error(i);return}if(o&&r.setHeader("Content-Length",o),this.pipe(r),e){var a,c=function(u,l){return r.removeListener("error",c),r.removeListener("response",a),e.call(this,u,l)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};Ee.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};Ee.prototype.toString=function(){return"[object FormData]"};n9(Ee,"FormData")});var My=g(FA=>{"use strict";var i9=require("url").parse,o9={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},a9=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function c9(t){var e=typeof t=="string"?i9(t):t||{},r=e.protocol,s=e.host,n=e.port;if(typeof s!="string"||!s||typeof r!="string"||(r=r.split(":",1)[0],s=s.replace(/:\d*$/,""),n=parseInt(n)||o9[r]||0,!u9(s,n)))return"";var i=lo("npm_config_"+r+"_proxy")||lo(r+"_proxy")||lo("npm_config_proxy")||lo("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function u9(t,e){var r=(lo("npm_config_no_proxy")||lo("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(s){if(!s)return!0;var n=s.match(/^(.+):(\d+)$/),i=n?n[1]:s,o=n?parseInt(n[2]):0;return o&&o!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!a9.call(t,i)):t!==i}):!0}function lo(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}FA.getProxyForUrl=c9});var HA=g((gX,zA)=>{var Oa=1e3,Pa=Oa*60,Ca=Pa*60,Ra=Ca*24,l9=Ra*365.25;zA.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return p9(t);if(r==="number"&&isNaN(t)===!1)return e.long?f9(t):d9(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function p9(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*l9;case"days":case"day":case"d":return r*Ra;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ca;case"minutes":case"minute":case"mins":case"min":case"m":return r*Pa;case"seconds":case"second":case"secs":case"sec":case"s":return r*Oa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function d9(t){return t>=Ra?Math.round(t/Ra)+"d":t>=Ca?Math.round(t/Ca)+"h":t>=Pa?Math.round(t/Pa)+"m":t>=Oa?Math.round(t/Oa)+"s":t+"ms"}function f9(t){return Jl(t,Ra,"day")||Jl(t,Ca,"hour")||Jl(t,Pa,"minute")||Jl(t,Oa,"second")||t+" ms"}function Jl(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}});var Fy=g((je,ZA)=>{je=ZA.exports=Uy.debug=Uy.default=Uy;je.coerce=b9;je.disable=y9;je.enable=m9;je.enabled=g9;je.humanize=HA();je.names=[];je.skips=[];je.formatters={};var Ly;function h9(t){var e=0,r;for(r in t)e=(e<<5)-e+t.charCodeAt(r),e|=0;return je.colors[Math.abs(e)%je.colors.length]}function Uy(t){function e(){if(e.enabled){var r=e,s=+new Date,n=s-(Ly||s);r.diff=n,r.prev=Ly,r.curr=s,Ly=s;for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];i[0]=je.coerce(i[0]),typeof i[0]!="string"&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(u,l){if(u==="%%")return u;a++;var p=je.formatters[l];if(typeof p=="function"){var y=i[a];u=p.call(r,y),i.splice(a,1),a--}return u}),je.formatArgs.call(r,i);var c=e.log||je.log||console.log.bind(console);c.apply(r,i)}}return e.namespace=t,e.enabled=je.enabled(t),e.useColors=je.useColors(),e.color=h9(t),typeof je.init=="function"&&je.init(e),e}function m9(t){je.save(t),je.names=[],je.skips=[];for(var e=(typeof t=="string"?t:"").split(/[\s,]+/),r=e.length,s=0;s<r;s++)e[s]&&(t=e[s].replace(/\*/g,".*?"),t[0]==="-"?je.skips.push(new RegExp("^"+t.substr(1)+"$")):je.names.push(new RegExp("^"+t+"$")))}function y9(){je.enable("")}function g9(t){var e,r;for(e=0,r=je.skips.length;e<r;e++)if(je.skips[e].test(t))return!1;for(e=0,r=je.names.length;e<r;e++)if(je.names[e].test(t))return!0;return!1}function b9(t){return t instanceof Error?t.stack||t.message:t}});var KA=g((Mt,$A)=>{Mt=$A.exports=Fy();Mt.log=_9;Mt.formatArgs=x9;Mt.save=w9;Mt.load=VA;Mt.useColors=v9;Mt.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:S9();Mt.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function v9(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Mt.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function x9(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+Mt.humanize(this.diff),!!e){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var s=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(i){i!=="%%"&&(s++,i==="%c"&&(n=s))}),t.splice(n,0,r)}}function _9(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w9(t){try{t==null?Mt.storage.removeItem("debug"):Mt.storage.debug=t}catch{}}function VA(){var t;try{t=Mt.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}Mt.enable(VA());function S9(){try{return window.localStorage}catch{}}});var JA=g((yt,QA)=>{var GA=require("tty"),Ia=require("util");yt=QA.exports=Fy();yt.init=C9;yt.log=T9;yt.formatArgs=A9;yt.save=O9;yt.load=WA;yt.useColors=E9;yt.colors=[6,2,3,4,5,1];yt.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var r=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(n,i){return i.toUpperCase()}),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});var po=parseInt(process.env.DEBUG_FD,10)||2;po!==1&&po!==2&&Ia.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var k9=po===1?process.stdout:po===2?process.stderr:P9(po);function E9(){return"colors"in yt.inspectOpts?!!yt.inspectOpts.colors:GA.isatty(po)}yt.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,Ia.inspect(t,this.inspectOpts).split(`
`).map(function(e){return e.trim()}).join(" ")};yt.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,Ia.inspect(t,this.inspectOpts)};function A9(t){var e=this.namespace,r=this.useColors;if(r){var s=this.color,n="  \x1B[3"+s+";1m"+e+" \x1B[0m";t[0]=n+t[0].split(`
`).join(`
`+n),t.push("\x1B[3"+s+"m+"+yt.humanize(this.diff)+"\x1B[0m")}else t[0]=new Date().toUTCString()+" "+e+" "+t[0]}function T9(){return k9.write(Ia.format.apply(Ia,arguments)+`
`)}function O9(t){t==null?delete process.env.DEBUG:process.env.DEBUG=t}function WA(){return process.env.DEBUG}function P9(t){var e,r=process.binding("tty_wrap");switch(r.guessHandleType(t)){case"TTY":e=new GA.WriteStream(t),e._type="tty",e._handle&&e._handle.unref&&e._handle.unref();break;case"FILE":var s=require("fs");e=new s.SyncWriteStream(t,{autoClose:!1}),e._type="fs";break;case"PIPE":case"TCP":var n=require("net");e=new n.Socket({fd:t,readable:!1,writable:!0}),e.readable=!1,e.read=null,e._type="pipe",e._handle&&e._handle.unref&&e._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return e.fd=t,e._isStdio=!0,e}function C9(t){t.inspectOpts={};for(var e=Object.keys(yt.inspectOpts),r=0;r<e.length;r++)t.inspectOpts[e[r]]=yt.inspectOpts[e[r]]}yt.enable(WA())});var YA=g((bX,zy)=>{typeof process<"u"&&process.type==="renderer"?zy.exports=KA():zy.exports=JA()});var eT=g((vX,XA)=>{var ja;XA.exports=function(){if(!ja){try{ja=YA()("follow-redirects")}catch{}typeof ja!="function"&&(ja=function(){})}ja.apply(null,arguments)}});var tg=g((xX,eg)=>{var Ba=require("url"),Da=Ba.URL,R9=require("http"),I9=require("https"),Ky=require("stream").Writable,Gy=require("assert"),tT=eT();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",s=pi(Error.captureStackTrace);!e&&(r||!s)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var Wy=!1;try{Gy(new Da(""))}catch(t){Wy=t.code==="ERR_INVALID_URL"}var j9=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Qy=["abort","aborted","connect","error","socket","timeout"],Jy=Object.create(null);Qy.forEach(function(t){Jy[t]=function(e,r,s){this._redirectable.emit(t,e,r,s)}});var Zy=Na("ERR_INVALID_URL","Invalid URL",TypeError),Vy=Na("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),D9=Na("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Vy),B9=Na("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),N9=Na("ERR_STREAM_WRITE_AFTER_END","write after end"),q9=Ky.prototype.destroy||sT;function $t(t,e){Ky.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(s){try{r._processResponse(s)}catch(n){r.emit("error",n instanceof Vy?n:new Vy({cause:n}))}},this._performRequest()}$t.prototype=Object.create(Ky.prototype);$t.prototype.abort=function(){Xy(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};$t.prototype.destroy=function(t){return Xy(this._currentRequest,t),q9.call(this,t),this};$t.prototype.write=function(t,e,r){if(this._ending)throw new N9;if(!li(t)&&!U9(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(pi(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new B9),this.abort())};$t.prototype.end=function(t,e,r){if(pi(t)?(r=t,t=e=null):pi(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var s=this,n=this._currentRequest;this.write(t,e,function(){s._ended=!0,n.end(null,null,r)}),this._ending=!0}};$t.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};$t.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};$t.prototype.setTimeout=function(t,e){var r=this;function s(o){o.setTimeout(t),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function n(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t),s(o)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",n)}return e&&this.on("timeout",e),this.socket?n(this.socket):this._currentRequest.once("socket",n),this.on("socket",s),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){$t.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty($t.prototype,t,{get:function(){return this._currentRequest[t]}})});$t.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};$t.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=e.request(this._options,this._onNativeResponse);s._redirectable=this;for(var n of Qy)s.on(n,Jy[n]);if(this._currentUrl=/^\//.test(this._options.path)?Ba.format(this._options):this._options.path,this._isRedirect){var i=0,o=this,a=this._requestBodyBuffers;(function c(u){if(s===o._currentRequest)if(u)o.emit("error",u);else if(i<a.length){var l=a[i++];s.finished||s.write(l.data,l.encoding,c)}else o._ended&&s.end()})()}};$t.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(Xy(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new D9;var s,n=this._options.beforeRedirect;n&&(s=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Hy(/^content-/i,this._options.headers));var o=Hy(/^host$/i,this._options.headers),a=Yy(this._currentUrl),c=o||a.host,u=/^\w+:/.test(r)?this._currentUrl:Ba.format(Object.assign(a,{host:c})),l=M9(r,u);if(tT("redirecting to",l.href),this._isRedirect=!0,$y(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==c&&!L9(l.host,c))&&Hy(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),pi(n)){var p={headers:t.headers,statusCode:e},y={url:u,method:i,headers:s};n(this._options,p,y),this._sanitizeOptions(this._options)}this._performRequest()};function rT(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(s){var n=s+":",i=r[n]=t[s],o=e[s]=Object.create(i);function a(u,l,p){return F9(u)?u=$y(u):li(u)?u=$y(Yy(u)):(p=l,l=nT(u),u={protocol:n}),pi(l)&&(p=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,!li(l.host)&&!li(l.hostname)&&(l.hostname="::1"),Gy.equal(l.protocol,n,"protocol mismatch"),tT("options",l),new $t(l,p)}function c(u,l,p){var y=o.request(u,l,p);return y.end(),y}Object.defineProperties(o,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function sT(){}function Yy(t){var e;if(Wy)e=new Da(t);else if(e=nT(Ba.parse(t)),!li(e.protocol))throw new Zy({input:t});return e}function M9(t,e){return Wy?new Da(t,e):Yy(Ba.resolve(e,t))}function nT(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new Zy({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new Zy({input:t.href||t});return t}function $y(t,e){var r=e||{};for(var s of j9)r[s]=t[s];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Hy(t,e){var r;for(var s in e)t.test(s)&&(r=e[s],delete e[s]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Na(t,e,r){function s(n){pi(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,n||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return s.prototype=new(r||Error),Object.defineProperties(s.prototype,{constructor:{value:s,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),s}function Xy(t,e){for(var r of Qy)t.removeListener(r,Jy[r]);t.on("error",sT),t.destroy(e)}function L9(t,e){Gy(li(t)&&li(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function li(t){return typeof t=="string"||t instanceof String}function pi(t){return typeof t=="function"}function U9(t){return typeof t=="object"&&"length"in t}function F9(t){return Da&&t instanceof Da}eg.exports=rT({http:R9,https:I9});eg.exports.wrap=rT});var YT=g((_X,JT)=>{"use strict";var z9=qy(),H9=require("crypto"),Z9=require("url"),V9=My(),$9=require("http"),K9=require("https"),G9=require("util"),W9=tg(),Q9=require("zlib"),kT=require("stream"),J9=require("events");function Vr(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var ET=Vr(z9),Y9=Vr(H9),X9=Vr(Z9),e6=Vr(V9),t6=Vr($9),r6=Vr(K9),AT=Vr(G9),s6=Vr(W9),Vs=Vr(Q9),Zs=Vr(kT);function TT(t,e){return function(){return t.apply(e,arguments)}}var{toString:n6}=Object.prototype,{getPrototypeOf:bg}=Object,{iterator:op,toStringTag:OT}=Symbol,ap=(t=>e=>{let r=n6.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=t=>(t=t.toLowerCase(),e=>ap(e)===t),cp=t=>e=>typeof e===t,{isArray:go}=Array,Ma=cp("undefined");function i6(t){return t!==null&&!Ma(t)&&t.constructor!==null&&!Ma(t.constructor)&&Kt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var PT=Ar("ArrayBuffer");function o6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PT(t.buffer),e}var a6=cp("string"),Kt=cp("function"),CT=cp("number"),up=t=>t!==null&&typeof t=="object",c6=t=>t===!0||t===!1,Yl=t=>{if(ap(t)!=="object")return!1;let e=bg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(OT in t)&&!(op in t)},u6=Ar("Date"),l6=Ar("File"),p6=Ar("Blob"),d6=Ar("FileList"),f6=t=>up(t)&&Kt(t.pipe),h6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kt(t.append)&&((e=ap(t))==="formdata"||e==="object"&&Kt(t.toString)&&t.toString()==="[object FormData]"))},m6=Ar("URLSearchParams"),[y6,g6,b6,v6]=["ReadableStream","Request","Response","Headers"].map(Ar),x6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ua(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),go(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{let i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length,a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function RT(t,e){e=e.toLowerCase();let r=Object.keys(t),s=r.length,n;for(;s-- >0;)if(n=r[s],e===n.toLowerCase())return n;return null}var di=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IT=t=>!Ma(t)&&t!==di;function ag(){let{caseless:t}=IT(this)&&this||{},e={},r=(s,n)=>{let i=t&&RT(e,n)||n;Yl(e[i])&&Yl(s)?e[i]=ag(e[i],s):Yl(s)?e[i]=ag({},s):go(s)?e[i]=s.slice():e[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Ua(arguments[s],r);return e}var _6=(t,e,r,{allOwnKeys:s}={})=>(Ua(e,(n,i)=>{r&&Kt(n)?t[i]=TT(n,r):t[i]=n},{allOwnKeys:s}),t),w6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),S6=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},k6=(t,e,r,s)=>{let n,i,o,a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&bg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},E6=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let s=t.indexOf(e,r);return s!==-1&&s===r},A6=t=>{if(!t)return null;if(go(t))return t;let e=t.length;if(!CT(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},T6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bg(Uint8Array)),O6=(t,e)=>{let s=(t&&t[op]).call(t),n;for(;(n=s.next())&&!n.done;){let i=n.value;e.call(t,i[0],i[1])}},P6=(t,e)=>{let r,s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},C6=Ar("HTMLFormElement"),R6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),iT=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),I6=Ar("RegExp"),jT=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),s={};Ua(r,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(s[i]=o||n)}),Object.defineProperties(t,s)},j6=t=>{jT(t,(e,r)=>{if(Kt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let s=t[r];if(Kt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},D6=(t,e)=>{let r={},s=n=>{n.forEach(i=>{r[i]=!0})};return go(t)?s(t):s(String(t).split(e)),r},B6=()=>{},N6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function q6(t){return!!(t&&Kt(t.append)&&t[OT]==="FormData"&&t[op])}var M6=t=>{let e=new Array(10),r=(s,n)=>{if(up(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;let i=go(s)?[]:{};return Ua(s,(o,a)=>{let c=r(o,n+1);!Ma(c)&&(i[a]=c)}),e[n]=void 0,i}}return s};return r(t,0)},L6=Ar("AsyncFunction"),U6=t=>t&&(up(t)||Kt(t))&&Kt(t.then)&&Kt(t.catch),DT=((t,e)=>t?setImmediate:e?((r,s)=>(di.addEventListener("message",({source:n,data:i})=>{n===di&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),di.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kt(di.postMessage)),F6=typeof queueMicrotask<"u"?queueMicrotask.bind(di):typeof process<"u"&&process.nextTick||DT,z6=t=>t!=null&&Kt(t[op]),E={isArray:go,isArrayBuffer:PT,isBuffer:i6,isFormData:h6,isArrayBufferView:o6,isString:a6,isNumber:CT,isBoolean:c6,isObject:up,isPlainObject:Yl,isReadableStream:y6,isRequest:g6,isResponse:b6,isHeaders:v6,isUndefined:Ma,isDate:u6,isFile:l6,isBlob:p6,isRegExp:I6,isFunction:Kt,isStream:f6,isURLSearchParams:m6,isTypedArray:T6,isFileList:d6,forEach:Ua,merge:ag,extend:_6,trim:x6,stripBOM:w6,inherits:S6,toFlatObject:k6,kindOf:ap,kindOfTest:Ar,endsWith:E6,toArray:A6,forEachEntry:O6,matchAll:P6,isHTMLForm:C6,hasOwnProperty:iT,hasOwnProp:iT,reduceDescriptors:jT,freezeMethods:j6,toObjectSet:D6,toCamelCase:R6,noop:B6,toFiniteNumber:N6,findKey:RT,global:di,isContextDefined:IT,isSpecCompliantForm:q6,toJSONObject:M6,isAsyncFn:L6,isThenable:U6,setImmediate:DT,asap:F6,isIterable:z6};function V(t,e,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}E.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});var BT=V.prototype,NT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NT[t]={value:t}});Object.defineProperties(V,NT);Object.defineProperty(BT,"isAxiosError",{value:!0});V.from=(t,e,r,s,n,i)=>{let o=Object.create(BT);return E.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),V.call(o,t.message,e,r,s,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};function cg(t){return E.isPlainObject(t)||E.isArray(t)}function qT(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function oT(t,e,r){return t?t.concat(e).map(function(n,i){return n=qT(n),!r&&i?"["+n+"]":n}).join(r?".":""):e}function H6(t){return E.isArray(t)&&!t.some(cg)}var Z6=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function lp(t,e,r){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new(ET.default||FormData),r=E.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,m){return!E.isUndefined(m[h])});let s=r.metaTokens,n=r.visitor||l,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(n))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(E.isDate(d))return d.toISOString();if(!c&&E.isBlob(d))throw new V("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(d)||E.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function l(d,h,m){let b=d;if(d&&!m&&typeof d=="object"){if(E.endsWith(h,"{}"))h=s?h:h.slice(0,-2),d=JSON.stringify(d);else if(E.isArray(d)&&H6(d)||(E.isFileList(d)||E.endsWith(h,"[]"))&&(b=E.toArray(d)))return h=qT(h),b.forEach(function(v,O){!(E.isUndefined(v)||v===null)&&e.append(o===!0?oT([h],O,i):o===null?h:h+"[]",u(v))}),!1}return cg(d)?!0:(e.append(oT(m,h,i),u(d)),!1)}let p=[],y=Object.assign(Z6,{defaultVisitor:l,convertValue:u,isVisitable:cg});function f(d,h){if(!E.isUndefined(d)){if(p.indexOf(d)!==-1)throw Error("Circular reference detected in "+h.join("."));p.push(d),E.forEach(d,function(b,_){(!(E.isUndefined(b)||b===null)&&n.call(e,b,E.isString(_)?_.trim():_,h,y))===!0&&f(b,h?h.concat(_):[_])}),p.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return f(t),e}function aT(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function MT(t,e){this._pairs=[],t&&lp(t,this,e)}var LT=MT.prototype;LT.append=function(e,r){this._pairs.push([e,r])};LT.toString=function(e){let r=e?function(s){return e.call(this,s,aT)}:aT;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function V6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vg(t,e,r){if(!e)return t;let s=r&&r.encode||V6;E.isFunction(r)&&(r={serialize:r});let n=r&&r.serialize,i;if(n?i=n(e,r):i=E.isURLSearchParams(e)?e.toString():new MT(e,r).toString(s),i){let o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var ug=class{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(s){s!==null&&e(s)})}},cT=ug,xg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$6=X9.default.URLSearchParams,rg="abcdefghijklmnopqrstuvwxyz",uT="0123456789",UT={DIGIT:uT,ALPHA:rg,ALPHA_DIGIT:rg+rg.toUpperCase()+uT},K6=(t=16,e=UT.ALPHA_DIGIT)=>{let r="",{length:s}=e,n=new Uint32Array(t);Y9.default.randomFillSync(n);for(let i=0;i<t;i++)r+=e[n[i]%s];return r},G6={isNode:!0,classes:{URLSearchParams:$6,FormData:ET.default,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:UT,generateString:K6,protocols:["http","https","file","data"]},_g=typeof window<"u"&&typeof document<"u",lg=typeof navigator=="object"&&navigator||void 0,W6=_g&&(!lg||["ReactNative","NativeScript","NS"].indexOf(lg.product)<0),Q6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J6=_g&&window.location.href||"http://localhost",Y6=Object.freeze({__proto__:null,hasBrowserEnv:_g,hasStandardBrowserWebWorkerEnv:Q6,hasStandardBrowserEnv:W6,navigator:lg,origin:J6}),rt={...Y6,...G6};function X6(t,e){return lp(t,new rt.classes.URLSearchParams,Object.assign({visitor:function(r,s,n,i){return rt.isNode&&E.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function ez(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tz(t){let e={},r=Object.keys(t),s,n=r.length,i;for(s=0;s<n;s++)i=r[s],e[i]=t[i];return e}function FT(t){function e(r,s,n,i){let o=r[i++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),c=i>=r.length;return o=!o&&E.isArray(n)?n.length:o,c?(E.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!a):((!n[o]||!E.isObject(n[o]))&&(n[o]=[]),e(r,s,n[o],i)&&E.isArray(n[o])&&(n[o]=tz(n[o])),!a)}if(E.isFormData(t)&&E.isFunction(t.entries)){let r={};return E.forEachEntry(t,(s,n)=>{e(ez(s),n,r,0)}),r}return null}function rz(t,e,r){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}var wg={transitional:xg,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=E.isObject(e);if(i&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return n?JSON.stringify(FT(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return X6(e,this.formSerializer).toString();if((a=E.isFileList(e))||s.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return lp(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),rz(e)):e}],transformResponse:[function(e){let r=this.transitional||wg.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(s&&!this.responseType||n)){let o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{wg.headers[t]={}});var Sg=wg,sz=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nz=t=>{let e={},r,s,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!r||e[r]&&sz[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},lT=Symbol("internals");function qa(t){return t&&String(t).trim().toLowerCase()}function Xl(t){return t===!1||t==null?t:E.isArray(t)?t.map(Xl):String(t)}function iz(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}var oz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sg(t,e,r,s,n){if(E.isFunction(s))return s.call(this,e,r);if(n&&(e=r),!!E.isString(e)){if(E.isString(s))return e.indexOf(s)!==-1;if(E.isRegExp(s))return s.test(e)}}function az(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function cz(t,e){let r=E.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(n,i,o){return this[s].call(this,e,n,i,o)},configurable:!0})})}var ho=class{constructor(e){e&&this.set(e)}set(e,r,s){let n=this;function i(a,c,u){let l=qa(c);if(!l)throw new Error("header name must be a non-empty string");let p=E.findKey(n,l);(!p||n[p]===void 0||u===!0||u===void 0&&n[p]!==!1)&&(n[p||c]=Xl(a))}let o=(a,c)=>E.forEach(a,(u,l)=>i(u,l,c));if(E.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(E.isString(e)&&(e=e.trim())&&!oz(e))o(nz(e),r);else if(E.isObject(e)&&E.isIterable(e)){let a={},c,u;for(let l of e){if(!E.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?E.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,r)}else e!=null&&i(r,e,s);return this}get(e,r){if(e=qa(e),e){let s=E.findKey(this,e);if(s){let n=this[s];if(!r)return n;if(r===!0)return iz(n);if(E.isFunction(r))return r.call(this,n,s);if(E.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=qa(e),e){let s=E.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||sg(this,this[s],s,r)))}return!1}delete(e,r){let s=this,n=!1;function i(o){if(o=qa(o),o){let a=E.findKey(s,o);a&&(!r||sg(s,s[a],a,r))&&(delete s[a],n=!0)}}return E.isArray(e)?e.forEach(i):i(e),n}clear(e){let r=Object.keys(this),s=r.length,n=!1;for(;s--;){let i=r[s];(!e||sg(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let r=this,s={};return E.forEach(this,(n,i)=>{let o=E.findKey(s,i);if(o){r[o]=Xl(n),delete r[i];return}let a=e?az(i):String(i).trim();a!==i&&delete r[i],r[a]=Xl(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return E.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=e&&E.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let s=new this(e);return r.forEach(n=>s.set(n)),s}static accessor(e){let s=(this[lT]=this[lT]={accessors:{}}).accessors,n=this.prototype;function i(o){let a=qa(o);s[a]||(cz(n,o),s[a]=!0)}return E.isArray(e)?e.forEach(i):i(e),this}};ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(ho.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});E.freezeMethods(ho);var Gt=ho;function ng(t,e){let r=this||Sg,s=e||r,n=Gt.from(s.headers),i=s.data;return E.forEach(t,function(a){i=a.call(r,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function zT(t){return!!(t&&t.__CANCEL__)}function $s(t,e,r){V.call(this,t??"canceled",V.ERR_CANCELED,e,r),this.name="CanceledError"}E.inherits($s,V,{__CANCEL__:!0});function fo(t,e,r){let s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new V("Request failed with status code "+r.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kg(t,e,r){let s=!uz(e);return t&&(s||r==!1)?lz(t,e):e}var rp="1.9.0";function HT(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var pz=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function dz(t,e,r){let s=r&&r.Blob||rt.classes.Blob,n=HT(t);if(e===void 0&&s&&(e=!0),n==="data"){t=n.length?t.slice(n.length+1):t;let i=pz.exec(t);if(!i)throw new V("Invalid URL",V.ERR_INVALID_URL);let o=i[1],a=i[2],c=i[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!s)throw new V("Blob is not supported",V.ERR_NOT_SUPPORT);return new s([u],{type:o})}return u}throw new V("Unsupported protocol "+n,V.ERR_NOT_SUPPORT)}var ig=Symbol("internals"),pg=class extends Zs.default.Transform{constructor(e){e=E.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(s,n)=>!E.isUndefined(n[s])),super({readableHighWaterMark:e.chunkSize});let r=this[ig]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",s=>{s==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[ig];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,s){let n=this[ig],i=n.maxRate,o=this.readableHighWaterMark,a=n.timeWindow,c=1e3/a,u=i/c,l=n.minChunkSize!==!1?Math.max(n.minChunkSize,u*.01):0,p=(f,d)=>{let h=Buffer.byteLength(f);n.bytesSeen+=h,n.bytes+=h,n.isCaptured&&this.emit("progress",n.bytesSeen),this.push(f)?process.nextTick(d):n.onReadCallback=()=>{n.onReadCallback=null,process.nextTick(d)}},y=(f,d)=>{let h=Buffer.byteLength(f),m=null,b=o,_,v=0;if(i){let O=Date.now();(!n.ts||(v=O-n.ts)>=a)&&(n.ts=O,_=u-n.bytes,n.bytes=_<0?-_:0,v=0),_=u-n.bytes}if(i){if(_<=0)return setTimeout(()=>{d(null,f)},a-v);_<b&&(b=_)}b&&h>b&&h-b>l&&(m=f.subarray(b),f=f.subarray(0,b)),p(f,m?()=>{process.nextTick(d,null,m)}:d)};y(e,function f(d,h){if(d)return s(d);h?y(h,f):s(null)})}},pT=pg,{asyncIterator:dT}=Symbol,fz=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[dT]?yield*t[dT]():yield t},ZT=fz,hz=rt.ALPHABET.ALPHA_DIGIT+"-_",La=typeof TextEncoder=="function"?new TextEncoder:new AT.default.TextEncoder,fi=`\r
`,mz=La.encode(fi),yz=2,dg=class{constructor(e,r){let{escapeName:s}=this.constructor,n=E.isString(r),i=`Content-Disposition: form-data; name="${s(e)}"${!n&&r.name?`; filename="${s(r.name)}"`:""}${fi}`;n?r=La.encode(String(r).replace(/\r?\n|\r\n?/g,fi)):i+=`Content-Type: ${r.type||"application/octet-stream"}${fi}`,this.headers=La.encode(i+fi),this.contentLength=n?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+yz,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;E.isTypedArray(e)?yield e:yield*ZT(e),yield mz}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},gz=(t,e,r)=>{let{tag:s="form-data-boundary",size:n=25,boundary:i=s+"-"+rt.generateString(n,hz)}=r||{};if(!E.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let o=La.encode("--"+i+fi),a=La.encode("--"+i+"--"+fi),c=a.byteLength,u=Array.from(t.entries()).map(([p,y])=>{let f=new dg(p,y);return c+=f.size,f});c+=o.byteLength*u.length,c=E.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),kT.Readable.from(async function*(){for(let p of u)yield o,yield*p.encode();yield a}())},bz=gz,fg=class extends Zs.default.Transform{__transform(e,r,s){this.push(e),s()}_transform(e,r,s){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let n=Buffer.alloc(2);n[0]=120,n[1]=156,this.push(n,r)}this.__transform(e,r,s)}},vz=fg,xz=(t,e)=>E.isAsyncFn(t)?function(...r){let s=r.pop();t.apply(this,r).then(n=>{try{e?s(null,...e(n)):s(null,n)}catch(i){s(i)}},s)}:t,_z=xz;function wz(t,e){t=t||10;let r=new Array(t),s=new Array(t),n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=s[i];o||(o=u),r[n]=c,s[n]=u;let p=i,y=0;for(;p!==n;)y+=r[p++],p=p%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),u-o<e)return;let f=l&&u-l;return f?Math.round(y*1e3/f):void 0}}function Sz(t,e){let r=0,s=1e3/e,n,i,o=(u,l=Date.now())=>{r=l,n=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{let l=Date.now(),p=l-r;p>=s?o(u,l):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},s-p)))},()=>n&&o(n)]}var mo=(t,e,r=3)=>{let s=0,n=wz(50,250);return Sz(i=>{let o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-s,u=n(c),l=o<=a;s=o;let p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},r)},sp=(t,e)=>{let r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},np=t=>(...e)=>E.asap(()=>t(...e)),fT={flush:Vs.default.constants.Z_SYNC_FLUSH,finishFlush:Vs.default.constants.Z_SYNC_FLUSH},kz={flush:Vs.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Vs.default.constants.BROTLI_OPERATION_FLUSH},hT=E.isFunction(Vs.default.createBrotliDecompress),{http:Ez,https:Az}=s6.default,Tz=/https:?/,mT=rt.protocols.map(t=>t+":"),yT=(t,[e,r])=>(t.on("end",r).on("error",r),e);function Oz(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function VT(t,e,r){let s=e;if(!s&&s!==!1){let n=e6.default.getProxyForUrl(r);n&&(s=new URL(n))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let i=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let n=s.hostname||s.host;t.hostname=n,t.host=n,t.port=s.port,t.path=r,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(i){VT(i,e,i.href)}}var Pz=typeof process<"u"&&E.kindOf(process)==="process",Cz=t=>new Promise((e,r)=>{let s,n,i=(c,u)=>{n||(n=!0,s&&s(c,u))},o=c=>{i(c),e(c)},a=c=>{i(c,!0),r(c)};t(o,a,c=>s=c).catch(a)}),Rz=({address:t,family:e})=>{if(!E.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},gT=(t,e)=>Rz(E.isObject(t)?t:{address:t,family:e}),Iz=Pz&&function(e){return Cz(async function(s,n,i){let{data:o,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,p=e.method.toUpperCase(),y,f=!1,d;if(a){let T=_z(a,S=>E.isArray(S)?S:[S]);a=(S,R,Z)=>{T(S,R,(F,X,Se)=>{if(F)return Z(F);let oe=E.isArray(X)?X.map(W=>gT(W)):[gT(X,Se)];R.all?Z(F,oe):Z(F,oe[0].address,oe[0].family)})}}let h=new J9.EventEmitter,m=()=>{e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),h.removeAllListeners()};i((T,S)=>{y=!0,S&&(f=!0,m())});function b(T){h.emit("abort",!T||T.type?new $s(null,e,d):T)}h.once("abort",n),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));let _=kg(e.baseURL,e.url,e.allowAbsoluteUrls),v=new URL(_,rt.hasBrowserEnv?rt.origin:void 0),O=v.protocol||mT[0];if(O==="data:"){let T;if(p!=="GET")return fo(s,n,{status:405,statusText:"method not allowed",headers:{},config:e});try{T=dz(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(S){throw V.from(S,V.ERR_BAD_REQUEST,e)}return u==="text"?(T=T.toString(l),(!l||l==="utf8")&&(T=E.stripBOM(T))):u==="stream"&&(T=Zs.default.Readable.from(T)),fo(s,n,{data:T,status:200,statusText:"OK",headers:new Gt,config:e})}if(mT.indexOf(O)===-1)return n(new V("Unsupported protocol "+O,V.ERR_BAD_REQUEST,e));let P=Gt.from(e.headers).normalize();P.set("User-Agent","axios/"+rp,!1);let{onUploadProgress:U,onDownloadProgress:j}=e,N=e.maxRate,te,he;if(E.isSpecCompliantForm(o)){let T=P.getContentType(/boundary=([-_\w\d]{10,70})/i);o=bz(o,S=>{P.set(S)},{tag:`axios-${rp}-boundary`,boundary:T&&T[1]||void 0})}else if(E.isFormData(o)&&E.isFunction(o.getHeaders)){if(P.set(o.getHeaders()),!P.hasContentLength())try{let T=await AT.default.promisify(o.getLength).call(o);Number.isFinite(T)&&T>=0&&P.setContentLength(T)}catch{}}else if(E.isBlob(o)||E.isFile(o))o.size&&P.setContentType(o.type||"application/octet-stream"),P.setContentLength(o.size||0),o=Zs.default.Readable.from(ZT(o));else if(o&&!E.isStream(o)){if(!Buffer.isBuffer(o))if(E.isArrayBuffer(o))o=Buffer.from(new Uint8Array(o));else if(E.isString(o))o=Buffer.from(o,"utf-8");else return n(new V("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",V.ERR_BAD_REQUEST,e));if(P.setContentLength(o.length,!1),e.maxBodyLength>-1&&o.length>e.maxBodyLength)return n(new V("Request body larger than maxBodyLength limit",V.ERR_BAD_REQUEST,e))}let we=E.toFiniteNumber(P.getContentLength());E.isArray(N)?(te=N[0],he=N[1]):te=he=N,o&&(U||te)&&(E.isStream(o)||(o=Zs.default.Readable.from(o,{objectMode:!1})),o=Zs.default.pipeline([o,new pT({maxRate:E.toFiniteNumber(te)})],E.noop),U&&o.on("progress",yT(o,sp(we,mo(np(U),!1,3)))));let ue;if(e.auth){let T=e.auth.username||"",S=e.auth.password||"";ue=T+":"+S}if(!ue&&v.username){let T=v.username,S=v.password;ue=T+":"+S}ue&&P.delete("authorization");let St;try{St=vg(v.pathname+v.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(T){let S=new Error(T.message);return S.config=e,S.url=e.url,S.exists=!0,n(S)}P.set("Accept-Encoding","gzip, compress, deflate"+(hT?", br":""),!1);let G={path:St,method:p,headers:P.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:ue,protocol:O,family:c,beforeRedirect:Oz,beforeRedirects:{}};!E.isUndefined(a)&&(G.lookup=a),e.socketPath?G.socketPath=e.socketPath:(G.hostname=v.hostname.startsWith("[")?v.hostname.slice(1,-1):v.hostname,G.port=v.port,VT(G,e.proxy,O+"//"+v.hostname+(v.port?":"+v.port:"")+G.path));let et,or=Tz.test(G.protocol);if(G.agent=or?e.httpsAgent:e.httpAgent,e.transport?et=e.transport:e.maxRedirects===0?et=or?r6.default:t6.default:(e.maxRedirects&&(G.maxRedirects=e.maxRedirects),e.beforeRedirect&&(G.beforeRedirects.config=e.beforeRedirect),et=or?Az:Ez),e.maxBodyLength>-1?G.maxBodyLength=e.maxBodyLength:G.maxBodyLength=1/0,e.insecureHTTPParser&&(G.insecureHTTPParser=e.insecureHTTPParser),d=et.request(G,function(S){if(d.destroyed)return;let R=[S],Z=+S.headers["content-length"];if(j||he){let W=new pT({maxRate:E.toFiniteNumber(he)});j&&W.on("progress",yT(W,sp(Z,mo(np(j),!0,3)))),R.push(W)}let F=S,X=S.req||d;if(e.decompress!==!1&&S.headers["content-encoding"])switch((p==="HEAD"||S.statusCode===204)&&delete S.headers["content-encoding"],(S.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":R.push(Vs.default.createUnzip(fT)),delete S.headers["content-encoding"];break;case"deflate":R.push(new vz),R.push(Vs.default.createUnzip(fT)),delete S.headers["content-encoding"];break;case"br":hT&&(R.push(Vs.default.createBrotliDecompress(kz)),delete S.headers["content-encoding"])}F=R.length>1?Zs.default.pipeline(R,E.noop):R[0];let Se=Zs.default.finished(F,()=>{Se(),m()}),oe={status:S.statusCode,statusText:S.statusMessage,headers:new Gt(S.headers),config:e,request:X};if(u==="stream")oe.data=F,fo(s,n,oe);else{let W=[],De=0;F.on("data",function(ie){W.push(ie),De+=ie.length,e.maxContentLength>-1&&De>e.maxContentLength&&(f=!0,F.destroy(),n(new V("maxContentLength size of "+e.maxContentLength+" exceeded",V.ERR_BAD_RESPONSE,e,X)))}),F.on("aborted",function(){if(f)return;let ie=new V("stream has been aborted",V.ERR_BAD_RESPONSE,e,X);F.destroy(ie),n(ie)}),F.on("error",function(ie){d.destroyed||n(V.from(ie,null,e,X))}),F.on("end",function(){try{let ie=W.length===1?W[0]:Buffer.concat(W);u!=="arraybuffer"&&(ie=ie.toString(l),(!l||l==="utf8")&&(ie=E.stripBOM(ie))),oe.data=ie}catch(ie){return n(V.from(ie,null,e,oe.request,oe))}fo(s,n,oe)})}h.once("abort",W=>{F.destroyed||(F.emit("error",W),F.destroy())})}),h.once("abort",T=>{n(T),d.destroy(T)}),d.on("error",function(S){n(V.from(S,null,e,d))}),d.on("socket",function(S){S.setKeepAlive(!0,1e3*60)}),e.timeout){let T=parseInt(e.timeout,10);if(Number.isNaN(T)){n(new V("error trying to parse `config.timeout` to int",V.ERR_BAD_OPTION_VALUE,e,d));return}d.setTimeout(T,function(){if(y)return;let R=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Z=e.transitional||xg;e.timeoutErrorMessage&&(R=e.timeoutErrorMessage),n(new V(R,Z.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,d)),b()})}if(E.isStream(o)){let T=!1,S=!1;o.on("end",()=>{T=!0}),o.once("error",R=>{S=!0,d.destroy(R)}),o.on("close",()=>{!T&&!S&&b(new $s("Request stream has been aborted",e,d))}),o.pipe(d)}else d.end(o)})},jz=rt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,rt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,Dz=rt.hasStandardBrowserEnv?{write(t,e,r,s,n,i){let o=[t+"="+encodeURIComponent(e)];E.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),E.isString(s)&&o.push("path="+s),E.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}},bT=t=>t instanceof Gt?{...t}:t;function hi(t,e){e=e||{};let r={};function s(u,l,p,y){return E.isPlainObject(u)&&E.isPlainObject(l)?E.merge.call({caseless:y},u,l):E.isPlainObject(l)?E.merge({},l):E.isArray(l)?l.slice():l}function n(u,l,p,y){if(E.isUndefined(l)){if(!E.isUndefined(u))return s(void 0,u,p,y)}else return s(u,l,p,y)}function i(u,l){if(!E.isUndefined(l))return s(void 0,l)}function o(u,l){if(E.isUndefined(l)){if(!E.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function a(u,l,p){if(p in e)return s(u,l);if(p in t)return s(void 0,u)}let c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,p)=>n(bT(u),bT(l),p,!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(l){let p=c[l]||n,y=p(t[l],e[l],l);E.isUndefined(y)&&p!==a||(r[l]=y)}),r}var $T=t=>{let e=hi({},t),{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Gt.from(o),e.url=vg(kg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(E.isFormData(r)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){let[u,...l]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(rt.hasStandardBrowserEnv&&(s&&E.isFunction(s)&&(s=s(e)),s||s!==!1&&jz(e.url))){let u=n&&i&&Dz.read(i);u&&o.set(n,u)}return e},Bz=typeof XMLHttpRequest<"u",Nz=Bz&&function(t){return new Promise(function(r,s){let n=$T(t),i=n.data,o=Gt.from(n.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:u}=n,l,p,y,f,d;function h(){f&&f(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let m=new XMLHttpRequest;m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout;function b(){if(!m)return;let v=Gt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:v,config:t,request:m};fo(function(j){r(j),h()},function(j){s(j),h()},P),m=null}"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(b)},m.onabort=function(){m&&(s(new V("Request aborted",V.ECONNABORTED,t,m)),m=null)},m.onerror=function(){s(new V("Network Error",V.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let O=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",P=n.transitional||xg;n.timeoutErrorMessage&&(O=n.timeoutErrorMessage),s(new V(O,P.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&E.forEach(o.toJSON(),function(O,P){m.setRequestHeader(P,O)}),E.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),a&&a!=="json"&&(m.responseType=n.responseType),u&&([y,d]=mo(u,!0),m.addEventListener("progress",y)),c&&m.upload&&([p,f]=mo(c),m.upload.addEventListener("progress",p),m.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(l=v=>{m&&(s(!v||v.type?new $s(null,t,m):v),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));let _=HT(n.url);if(_&&rt.protocols.indexOf(_)===-1){s(new V("Unsupported protocol "+_+":",V.ERR_BAD_REQUEST,t));return}m.send(i||null)})},qz=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,n,i=function(u){if(!n){n=!0,a();let l=u instanceof Error?u:this.reason;s.abort(l instanceof V?l:new $s(l instanceof Error?l.message:l))}},o=e&&setTimeout(()=>{o=null,i(new V(`timeout ${e} of ms exceeded`,V.ETIMEDOUT))},e),a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));let{signal:c}=s;return c.unsubscribe=()=>E.asap(a),c}},Mz=qz,Lz=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let s=0,n;for(;s<r;)n=s+e,yield t.slice(s,n),s=n},Uz=async function*(t,e){for await(let r of Fz(t))yield*Lz(r,e)},Fz=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},vT=(t,e,r,s)=>{let n=Uz(t,e),i=0,o,a=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{let{done:u,value:l}=await n.next();if(u){a(),c.close();return}let p=l.byteLength;if(r){let y=i+=p;r(y)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),n.return()}},{highWaterMark:2})},pp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KT=pp&&typeof ReadableStream=="function",zz=pp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),GT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Hz=KT&&GT(()=>{let t=!1,e=new Request(rt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xT=64*1024,hg=KT&&GT(()=>E.isReadableStream(new Response("").body)),ip={stream:hg&&(t=>t.body)};pp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ip[e]&&(ip[e]=E.isFunction(t[e])?r=>r[e]():(r,s)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,s)})})})(new Response);var Zz=async t=>{if(t==null)return 0;if(E.isBlob(t))return t.size;if(E.isSpecCompliantForm(t))return(await new Request(rt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(E.isArrayBufferView(t)||E.isArrayBuffer(t))return t.byteLength;if(E.isURLSearchParams(t)&&(t=t+""),E.isString(t))return(await zz(t)).byteLength},Vz=async(t,e)=>{let r=E.toFiniteNumber(t.getContentLength());return r??Zz(e)},$z=pp&&(async t=>{let{url:e,method:r,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:p="same-origin",fetchOptions:y}=$T(t);u=u?(u+"").toLowerCase():"text";let f=Mz([n,i&&i.toAbortSignal()],o),d,h=f&&f.unsubscribe&&(()=>{f.unsubscribe()}),m;try{if(c&&Hz&&r!=="get"&&r!=="head"&&(m=await Vz(l,s))!==0){let P=new Request(e,{method:"POST",body:s,duplex:"half"}),U;if(E.isFormData(s)&&(U=P.headers.get("content-type"))&&l.setContentType(U),P.body){let[j,N]=sp(m,mo(np(c)));s=vT(P.body,xT,j,N)}}E.isString(p)||(p=p?"include":"omit");let b="credentials"in Request.prototype;d=new Request(e,{...y,signal:f,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:s,duplex:"half",credentials:b?p:void 0});let _=await fetch(d),v=hg&&(u==="stream"||u==="response");if(hg&&(a||v&&h)){let P={};["status","statusText","headers"].forEach(te=>{P[te]=_[te]});let U=E.toFiniteNumber(_.headers.get("content-length")),[j,N]=a&&sp(U,mo(np(a),!0))||[];_=new Response(vT(_.body,xT,j,()=>{N&&N(),h&&h()}),P)}u=u||"text";let O=await ip[E.findKey(ip,u)||"text"](_,t);return!v&&h&&h(),await new Promise((P,U)=>{fo(P,U,{data:O,headers:Gt.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:d})})}catch(b){throw h&&h(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,t,d),{cause:b.cause||b}):V.from(b,b&&b.code,t,d)}}),mg={http:Iz,xhr:Nz,fetch:$z};E.forEach(mg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var _T=t=>`- ${t}`,Kz=t=>E.isFunction(t)||t===null||t===!1,WT={getAdapter:t=>{t=E.isArray(t)?t:[t];let{length:e}=t,r,s,n={};for(let i=0;i<e;i++){r=t[i];let o;if(s=r,!Kz(r)&&(s=mg[(o=String(r)).toLowerCase()],s===void 0))throw new V(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){let i=Object.entries(n).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),o=e?i.length>1?`since :
`+i.map(_T).join(`
`):" "+_T(i[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:mg};function og(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $s(null,t)}function wT(t){return og(t),t.headers=Gt.from(t.headers),t.data=ng.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WT.getAdapter(t.adapter||Sg.adapter)(t).then(function(s){return og(t),s.data=ng.call(t,t.transformResponse,s),s.headers=Gt.from(s.headers),s},function(s){return zT(s)||(og(t),s&&s.response&&(s.response.data=ng.call(t,t.transformResponse,s.response),s.response.headers=Gt.from(s.response.headers))),Promise.reject(s)})}var dp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{dp[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var ST={};dp.transitional=function(e,r,s){function n(i,o){return"[Axios v"+rp+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new V(n(o," has been removed"+(r?" in "+r:"")),V.ERR_DEPRECATED);return r&&!ST[o]&&(ST[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};dp.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Gz(t,e,r){if(typeof t!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);let s=Object.keys(t),n=s.length;for(;n-- >0;){let i=s[n],o=e[i];if(o){let a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new V("option "+i+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new V("Unknown option "+i,V.ERR_BAD_OPTION)}}var ep={assertOptions:Gz,validators:dp},Zr=ep.validators,yo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new cT,response:new cT}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;let i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=hi(this.defaults,r);let{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&ep.assertOptions(s,{silentJSONParsing:Zr.transitional(Zr.boolean),forcedJSONParsing:Zr.transitional(Zr.boolean),clarifyTimeoutError:Zr.transitional(Zr.boolean)},!1),n!=null&&(E.isFunction(n)?r.paramsSerializer={serialize:n}:ep.assertOptions(n,{encode:Zr.function,serialize:Zr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ep.assertOptions(r,{baseUrl:Zr.spelling("baseURL"),withXsrfToken:Zr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[r.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),r.headers=Gt.concat(o,i);let a=[],c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let u=[];this.interceptors.response.forEach(function(h){u.push(h.fulfilled,h.rejected)});let l,p=0,y;if(!c){let d=[wT.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),y=d.length,l=Promise.resolve(r);p<y;)l=l.then(d[p++],d[p++]);return l}y=a.length;let f=r;for(p=0;p<y;){let d=a[p++],h=a[p++];try{f=d(f)}catch(m){h.call(this,m);break}}try{l=wT.call(this,f)}catch(d){return Promise.reject(d)}for(p=0,y=u.length;p<y;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=hi(this.defaults,e);let r=kg(e.baseURL,e.url,e.allowAbsoluteUrls);return vg(r,e.params,e.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(e){yo.prototype[e]=function(r,s){return this.request(hi(s||{},{method:e,url:r,data:(s||{}).data}))}});E.forEach(["post","put","patch"],function(e){function r(s){return function(i,o,a){return this.request(hi(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}yo.prototype[e]=r(),yo.prototype[e+"Form"]=r(!0)});var tp=yo,yg=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i,o=new Promise(a=>{s.subscribe(a),i=a}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new $s(i,o,a),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(n){e=n}),cancel:e}}},Wz=yg;function Qz(t){return function(r){return t.apply(null,r)}}function Jz(t){return E.isObject(t)&&t.isAxiosError===!0}var gg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gg).forEach(([t,e])=>{gg[e]=t});var Yz=gg;function QT(t){let e=new tp(t),r=TT(tp.prototype.request,e);return E.extend(r,tp.prototype,e,{allOwnKeys:!0}),E.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return QT(hi(t,n))},r}var at=QT(Sg);at.Axios=tp;at.CanceledError=$s;at.CancelToken=Wz;at.isCancel=zT;at.VERSION=rp;at.toFormData=lp;at.AxiosError=V;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=Qz;at.isAxiosError=Jz;at.mergeConfig=hi;at.AxiosHeaders=Gt;at.formToJSON=t=>FT(E.isHTMLForm(t)?new FormData(t):t);at.getAdapter=WT.getAdapter;at.HttpStatusCode=Yz;at.default=at;JT.exports=at});var XT=g((wX,Xz)=>{Xz.exports={acl:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},append:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},asking:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},auth:{arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},bgrewriteaof:{arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bgsave:{arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bitcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},bitfield:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},bitfield_ro:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},bitop:{arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},bitpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},blmove:{arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},blmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},blpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpoplpush:{arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},bzmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},bzpopmax:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},bzpopmin:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},client:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},cluster:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},command:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},config:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},copy:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},dbsize:{arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},debug:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},decr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},decrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},del:{arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},discard:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},dump:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},echo:{arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},exec:{arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},exists:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},expire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},failover:{arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},fcall:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},fcall_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},flushall:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},flushdb:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},geodist:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},geohash:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},geopos:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadius:{arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadius_ro:{arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadiusbymember:{arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadiusbymember_ro:{arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearch:{arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearchstore:{arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},get:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getbit:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getdel:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getex:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},getset:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hello:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},hexists:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hget:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hgetall:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hincrbyfloat:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hkeys:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmget:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hrandfield:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},hset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hsetnx:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hstrlen:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hvals:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},incr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrbyfloat:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},info:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},keys:{arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},lastsave:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},latency:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},lcs:{arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},lindex:{arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},linsert:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},llen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},lmove:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},lmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},lolwut:{arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},lpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},lpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lrem:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},lset:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},ltrim:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},memory:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},mget:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},migrate:{arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},module:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},monitor:{arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},move:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},mset:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},msetnx:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},multi:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},object:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},persist:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},pfadd:{arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pfcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},pfdebug:{arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},pfmerge:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},pfselftest:{arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},ping:{arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},psetex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},psubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},psync:{arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},pttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},publish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},pubsub:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},punsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},quit:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},randomkey:{arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},readonly:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},readwrite:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},rename:{arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},renamenx:{arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},replconf:{arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},replicaof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},reset:{arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},restore:{arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},rpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},rpoplpush:{arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},rpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},rpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},sadd:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},save:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},scan:{arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},scard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},script:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},sdiff:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sdiffstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},select:{arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},set:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setbit:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setnx:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},setrange:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},shutdown:{arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},sinter:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},sinterstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sismember:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},slaveof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},slowlog:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},smembers:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},smismember:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},smove:{arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},sort:{arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},sort_ro:{arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},spop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},spublish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},srandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},srem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},sscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},ssubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},strlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},subscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},substr:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},sunion:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sunionstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sunsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},swapdb:{arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},sync:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},time:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},touch:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},ttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},type:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},unlink:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},unsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},unwatch:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},wait:{arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},watch:{arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},xack:{arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xadd:{arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xautoclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xgroup:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xinfo:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xpending:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},xrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xread:{arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xreadgroup:{arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xsetid:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xtrim:{arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},zadd:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zcard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zdiff:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zdiffstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zinter:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zinterstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zlexcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},zmscore:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zpopmax:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zpopmin:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zrandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangestore:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},zrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zrem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zremrangebylex:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyrank:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyscore:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},zscore:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zunion:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zunionstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1}}});var bo=g(rr=>{"use strict";var e8=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0});rr.getKeyIndexes=rr.hasFlag=rr.exists=rr.list=void 0;var fp=e8(XT());rr.list=Object.keys(fp.default);var Eg={};rr.list.forEach(t=>{Eg[t]=fp.default[t].flags.reduce(function(e,r){return e[r]=!0,e},{})});function t8(t){return!!fp.default[t]}rr.exists=t8;function r8(t,e){if(!Eg[t])throw new Error("Unknown command "+t);return!!Eg[t][e]}rr.hasFlag=r8;function s8(t,e,r){let s=fp.default[t];if(!s)throw new Error("Unknown command "+t);if(!Array.isArray(e))throw new Error("Expect args to be an array");let n=[],i=!!(r&&r.parseExternalKey),o=(c,u)=>{let l=[],p=Number(c[u]);for(let y=0;y<p;y++)l.push(y+u+1);return l},a=(c,u,l)=>{for(let p=u;p<c.length-1;p+=1)if(String(c[p]).toLowerCase()===l.toLowerCase())return p+1;return null};switch(t){case"zunionstore":case"zinterstore":case"zdiffstore":n.push(0,...o(e,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":n.push(...o(e,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{n.push(...o(e,0));break}case"georadius":{n.push(0);let c=a(e,5,"STORE");c&&n.push(c);let u=a(e,5,"STOREDIST");u&&n.push(u);break}case"georadiusbymember":{n.push(0);let c=a(e,4,"STORE");c&&n.push(c);let u=a(e,4,"STOREDIST");u&&n.push(u);break}case"sort":case"sort_ro":n.push(0);for(let c=1;c<e.length-1;c++){let u=e[c];if(typeof u!="string")continue;let l=u.toUpperCase();l==="GET"?(c+=1,u=e[c],u!=="#"&&(i?n.push([c,eO(u)]):n.push(c))):l==="BY"?(c+=1,i?n.push([c,eO(e[c])]):n.push(c)):l==="STORE"&&(c+=1,n.push(c))}break;case"migrate":if(e[2]==="")for(let c=5;c<e.length-1;c++){let u=e[c];if(typeof u=="string"&&u.toUpperCase()==="KEYS"){for(let l=c+1;l<e.length;l++)n.push(l);break}}else n.push(2);break;case"xreadgroup":case"xread":for(let c=t==="xread"?0:3;c<e.length-1;c++)if(String(e[c]).toUpperCase()==="STREAMS"){for(let u=c+1;u<=c+(e.length-1-c)/2;u++)n.push(u);break}break;default:if(s.step>0){let c=s.keyStart-1,u=s.keyStop>0?s.keyStop:e.length+s.keyStop+1;for(let l=c;l<u;l+=s.step)n.push(l)}break}return n}rr.getKeyIndexes=s8;function eO(t){typeof t!="string"&&(t=String(t));let e=t.indexOf("->");return e===-1?t.length:e}});var tO=g(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.tryCatch=Ks.errorObj=void 0;Ks.errorObj={e:{}};var Ag;function n8(t,e){try{let r=Ag;return Ag=null,r.apply(this,arguments)}catch(r){return Ks.errorObj.e=r,Ks.errorObj}}function i8(t){return Ag=t,n8}Ks.tryCatch=i8});var Gs=g(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var vo=tO();function rO(t){setTimeout(function(){throw t},0)}function o8(t,e,r){return typeof e=="function"&&t.then(s=>{let n;r!==void 0&&Object(r).spread&&Array.isArray(s)?n=vo.tryCatch(e).apply(void 0,[null].concat(s)):n=s===void 0?vo.tryCatch(e)(null):vo.tryCatch(e)(null,s),n===vo.errorObj&&rO(n.e)},s=>{if(!s){let i=new Error(s+"");Object.assign(i,{cause:s}),s=i}let n=vo.tryCatch(e)(s);n===vo.errorObj&&rO(n.e)}),t}Tg.default=o8});var iO=g((AX,nO)=>{"use strict";var sO=require("assert"),Fa=require("util");function xo(t){Object.defineProperty(this,"message",{value:t||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}Fa.inherits(xo,Error);Object.defineProperty(xo.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function Og(t,e,r){sO(e),sO.strictEqual(typeof r,"number"),Object.defineProperty(this,"message",{value:t||"",configurable:!0,writable:!0});let s=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=s,this.offset=r,this.buffer=e}Fa.inherits(Og,xo);Object.defineProperty(Og.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function Pg(t){Object.defineProperty(this,"message",{value:t||"",configurable:!0,writable:!0});let e=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=e}Fa.inherits(Pg,xo);Object.defineProperty(Pg.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function hp(t){Object.defineProperty(this,"message",{value:t||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}Fa.inherits(hp,xo);Object.defineProperty(hp.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function Cg(t){Object.defineProperty(this,"message",{value:t||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}Fa.inherits(Cg,hp);Object.defineProperty(Cg.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0});nO.exports={RedisError:xo,ParserError:Og,ReplyError:Pg,AbortError:hp,InterruptError:Cg}});var cO=g((TX,aO)=>{"use strict";var oO=require("assert"),_o=class extends Error{get name(){return this.constructor.name}},Rg=class extends _o{constructor(e,r,s){oO(r),oO.strictEqual(typeof s,"number");let n=Error.stackTraceLimit;Error.stackTraceLimit=2,super(e),Error.stackTraceLimit=n,this.offset=s,this.buffer=r}get name(){return this.constructor.name}},Ig=class extends _o{constructor(e){let r=Error.stackTraceLimit;Error.stackTraceLimit=2,super(e),Error.stackTraceLimit=r}get name(){return this.constructor.name}},mp=class extends _o{get name(){return this.constructor.name}},jg=class extends mp{get name(){return this.constructor.name}};aO.exports={RedisError:_o,ParserError:Rg,ReplyError:Ig,AbortError:mp,InterruptError:jg}});var mi=g((OX,uO)=>{"use strict";var a8=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?iO():cO();uO.exports=a8});var za=g((PX,Dg)=>{var lO=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],c8=function(e){for(var r,s=0,n=0,i=[],o=e.length;s<o;s++)r=e.charCodeAt(s),r<128?i[n++]=r:r<2048?(i[n++]=r>>6|192,i[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),i[n++]=r>>18|240,i[n++]=r>>12&63|128,i[n++]=r>>6&63|128,i[n++]=r&63|128):(i[n++]=r>>12|224,i[n++]=r>>6&63|128,i[n++]=r&63|128);return i},pO=Dg.exports=function(e){for(var r,s=0,n=-1,i=0,o=0,a=typeof e=="string"?c8(e):e,c=a.length;s<c;){if(r=a[s++],n===-1)r===123&&(n=s);else if(r!==125)o=lO[(r^o>>8)&255]^o<<8;else if(s-1!==n)return o&16383;i=lO[(r^i>>8)&255]^i<<8}return i&16383};Dg.exports.generateMulti=function(e){for(var r=1,s=e.length,n=pO(e[0]);r<s;)if(pO(e[r++])!==n)return-1;return n}});var vO=g((CX,bO)=>{var fO=9007199254740991,u8="[object Arguments]",l8="[object Function]",p8="[object GeneratorFunction]",d8=/^(?:0|[1-9]\d*)$/;function hO(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function f8(t,e){for(var r=-1,s=Array(t);++r<t;)s[r]=e(r);return s}var Ha=Object.prototype,Za=Ha.hasOwnProperty,mO=Ha.toString,h8=Ha.propertyIsEnumerable,dO=Math.max;function m8(t,e){var r=E8(t)||k8(t)?f8(t.length,String):[],s=r.length,n=!!s;for(var i in t)(e||Za.call(t,i))&&!(n&&(i=="length"||gO(i,s)))&&r.push(i);return r}function y8(t,e,r,s){return t===void 0||Bg(t,Ha[r])&&!Za.call(s,r)?e:t}function g8(t,e,r){var s=t[e];(!(Za.call(t,e)&&Bg(s,r))||r===void 0&&!(e in t))&&(t[e]=r)}function b8(t){if(!qg(t))return S8(t);var e=w8(t),r=[];for(var s in t)s=="constructor"&&(e||!Za.call(t,s))||r.push(s);return r}function yO(t,e){return e=dO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,n=dO(r.length-e,0),i=Array(n);++s<n;)i[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=i,hO(t,this,o)}}function v8(t,e,r,s){r||(r={});for(var n=-1,i=e.length;++n<i;){var o=e[n],a=s?s(r[o],t[o],o,r,t):void 0;g8(r,o,a===void 0?t[o]:a)}return r}function x8(t){return yO(function(e,r){var s=-1,n=r.length,i=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(n--,i):void 0,o&&_8(r[0],r[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++s<n;){var a=r[s];a&&t(e,a,s,i)}return e})}function gO(t,e){return e=e??fO,!!e&&(typeof t=="number"||d8.test(t))&&t>-1&&t%1==0&&t<e}function _8(t,e,r){if(!qg(r))return!1;var s=typeof e;return(s=="number"?Ng(r)&&gO(e,r.length):s=="string"&&e in r)?Bg(r[e],t):!1}function w8(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ha;return t===r}function S8(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}function Bg(t,e){return t===e||t!==t&&e!==e}function k8(t){return A8(t)&&Za.call(t,"callee")&&(!h8.call(t,"callee")||mO.call(t)==u8)}var E8=Array.isArray;function Ng(t){return t!=null&&O8(t.length)&&!T8(t)}function A8(t){return P8(t)&&Ng(t)}function T8(t){var e=qg(t)?mO.call(t):"";return e==l8||e==p8}function O8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fO}function qg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function P8(t){return!!t&&typeof t=="object"}var C8=x8(function(t,e,r,s){v8(e,I8(e),t,s)}),R8=yO(function(t){return t.push(void 0,y8),hO(C8,void 0,t)});function I8(t){return Ng(t)?m8(t,!0):b8(t)}bO.exports=R8});var wO=g((RX,_O)=>{var j8=9007199254740991,D8="[object Arguments]",B8="[object Function]",N8="[object GeneratorFunction]",Mg=Object.prototype,q8=Mg.hasOwnProperty,xO=Mg.toString,M8=Mg.propertyIsEnumerable;function L8(t){return F8(t)&&q8.call(t,"callee")&&(!M8.call(t,"callee")||xO.call(t)==D8)}function U8(t){return t!=null&&H8(t.length)&&!z8(t)}function F8(t){return V8(t)&&U8(t)}function z8(t){var e=Z8(t)?xO.call(t):"";return e==B8||e==N8}function H8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=j8}function Z8(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function V8(t){return!!t&&typeof t=="object"}_O.exports=L8});var yp=g(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.isArguments=Ws.defaults=Ws.noop=void 0;var $8=vO();Ws.defaults=$8;var K8=wO();Ws.isArguments=K8;function G8(){}Ws.noop=G8});var kO=g((jX,SO)=>{var wo=1e3,So=wo*60,ko=So*60,yi=ko*24,W8=yi*7,Q8=yi*365.25;SO.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return J8(t);if(r==="number"&&isFinite(t))return e.long?X8(t):Y8(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function J8(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*Q8;case"weeks":case"week":case"w":return r*W8;case"days":case"day":case"d":return r*yi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ko;case"minutes":case"minute":case"mins":case"min":case"m":return r*So;case"seconds":case"second":case"secs":case"sec":case"s":return r*wo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Y8(t){var e=Math.abs(t);return e>=yi?Math.round(t/yi)+"d":e>=ko?Math.round(t/ko)+"h":e>=So?Math.round(t/So)+"m":e>=wo?Math.round(t/wo)+"s":t+"ms"}function X8(t){var e=Math.abs(t);return e>=yi?gp(t,e,yi,"day"):e>=ko?gp(t,e,ko,"hour"):e>=So?gp(t,e,So,"minute"):e>=wo?gp(t,e,wo,"second"):t+" ms"}function gp(t,e,r,s){var n=e>=r*1.5;return Math.round(t/r)+" "+s+(n?"s":"")}});var Lg=g((DX,EO)=>{function eH(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=n,r.enabled=a,r.humanize=kO(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let p=0;for(let y=0;y<l.length;y++)p=(p<<5)-p+l.charCodeAt(y),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(l){let p,y=null,f,d;function h(...m){if(!h.enabled)return;let b=h,_=Number(new Date),v=_-(p||_);b.diff=v,b.prev=p,b.curr=_,p=_,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let O=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(U,j)=>{if(U==="%%")return"%";O++;let N=r.formatters[j];if(typeof N=="function"){let te=m[O];U=N.call(b,te),m.splice(O,1),O--}return U}),r.formatArgs.call(b,m),(b.log||r.log).apply(b,m)}return h.namespace=l,h.useColors=r.useColors(),h.color=r.selectColor(l),h.extend=s,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(f!==r.namespaces&&(f=r.namespaces,d=r.enabled(l)),d),set:m=>{y=m}}),typeof r.init=="function"&&r.init(h),h}function s(l,p){let y=r(this.namespace+(typeof p>"u"?":":p)+l);return y.log=this.log,y}function n(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p=(typeof l=="string"?l:"").trim().replace(" ",",").split(",").filter(Boolean);for(let y of p)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function i(l,p){let y=0,f=0,d=-1,h=0;for(;y<l.length;)if(f<p.length&&(p[f]===l[y]||p[f]==="*"))p[f]==="*"?(d=f,h=y,f++):(y++,f++);else if(d!==-1)f=d+1,h++,y=h;else return!1;for(;f<p.length&&p[f]==="*";)f++;return f===p.length}function o(){let l=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),l}function a(l){for(let p of r.skips)if(i(l,p))return!1;for(let p of r.names)if(i(l,p))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}EO.exports=eH});var AO=g((sr,bp)=>{sr.formatArgs=rH;sr.save=sH;sr.load=nH;sr.useColors=tH;sr.storage=iH();sr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();sr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tH(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rH(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+bp.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(s=r))}),t.splice(s,0,e)}sr.log=console.debug||console.log||(()=>{});function sH(t){try{t?sr.storage.setItem("debug",t):sr.storage.removeItem("debug")}catch{}}function nH(){let t;try{t=sr.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function iH(){try{return localStorage}catch{}}bp.exports=Lg()(sr);var{formatters:oH}=bp.exports;oH.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var OO=g((BX,TO)=>{"use strict";TO.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",s=e.indexOf(r+t),n=e.indexOf("--");return s!==-1&&(n===-1||s<n)}});var RO=g((NX,CO)=>{"use strict";var aH=require("os"),PO=require("tty"),mr=OO(),{env:gt}=process,Qs;mr("no-color")||mr("no-colors")||mr("color=false")||mr("color=never")?Qs=0:(mr("color")||mr("colors")||mr("color=true")||mr("color=always"))&&(Qs=1);"FORCE_COLOR"in gt&&(gt.FORCE_COLOR==="true"?Qs=1:gt.FORCE_COLOR==="false"?Qs=0:Qs=gt.FORCE_COLOR.length===0?1:Math.min(parseInt(gt.FORCE_COLOR,10),3));function Ug(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Fg(t,e){if(Qs===0)return 0;if(mr("color=16m")||mr("color=full")||mr("color=truecolor"))return 3;if(mr("color=256"))return 2;if(t&&!e&&Qs===void 0)return 0;let r=Qs||0;if(gt.TERM==="dumb")return r;if(process.platform==="win32"){let s=aH.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in gt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in gt)||gt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in gt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(gt.TEAMCITY_VERSION)?1:0;if(gt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in gt){let s=parseInt((gt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(gt.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(gt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(gt.TERM)||"COLORTERM"in gt?1:r}function cH(t){let e=Fg(t,t&&t.isTTY);return Ug(e)}CO.exports={supportsColor:cH,stdout:Ug(Fg(!0,PO.isatty(1))),stderr:Ug(Fg(!0,PO.isatty(2)))}});var jO=g((bt,xp)=>{var uH=require("tty"),vp=require("util");bt.init=yH;bt.log=fH;bt.formatArgs=pH;bt.save=hH;bt.load=mH;bt.useColors=lH;bt.destroy=vp.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");bt.colors=[6,2,3,4,5,1];try{let t=RO();t&&(t.stderr||t).level>=2&&(bt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}bt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,i)=>i.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function lH(){return"colors"in bt.inspectOpts?!!bt.inspectOpts.colors:uH.isatty(process.stderr.fd)}function pH(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,n="\x1B[3"+(s<8?s:"8;5;"+s),i=`  ${n};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(n+"m+"+xp.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=dH()+e+" "+t[0]}function dH(){return bt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function fH(...t){return process.stderr.write(vp.formatWithOptions(bt.inspectOpts,...t)+`
`)}function hH(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function mH(){return process.env.DEBUG}function yH(t){t.inspectOpts={};let e=Object.keys(bt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=bt.inspectOpts[e[r]]}xp.exports=Lg()(bt);var{formatters:IO}=xp.exports;IO.o=function(t){return this.inspectOpts.colors=this.useColors,vp.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};IO.O=function(t){return this.inspectOpts.colors=this.useColors,vp.inspect(t,this.inspectOpts)}});var DO=g((qX,zg)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?zg.exports=AO():zg.exports=jO()});var qO=g(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.genRedactedString=fs.getStringValue=fs.MAX_ARGUMENT_LENGTH=void 0;var gH=DO(),Hg=200;fs.MAX_ARGUMENT_LENGTH=Hg;var bH="ioredis";function BO(t){if(t!==null)switch(typeof t){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(t))return t.toString("hex");if(Array.isArray(t))return t.join(",");try{return JSON.stringify(t)}catch{return}case"string":return t}}fs.getStringValue=BO;function NO(t,e){let{length:r}=t;return r<=e?t:t.slice(0,e)+' ... <REDACTED full-length="'+r+'">'}fs.genRedactedString=NO;function vH(t){let e=(0,gH.default)(`${bH}:${t}`);function r(...s){if(e.enabled){for(let n=1;n<s.length;n++){let i=BO(s[n]);typeof i=="string"&&i.length>Hg&&(s[n]=NO(i,Hg))}return e.apply(null,s)}}return Object.defineProperties(r,{namespace:{get(){return e.namespace}},enabled:{get(){return e.enabled}},destroy:{get(){return e.destroy}},log:{get(){return e.log},set(s){e.log=s}}}),r}fs.default=vH});var LO=g(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});var MO=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,xH={RedisCloudFixed:{ca:MO},RedisCloudFlexible:{ca:MO}};Zg.default=xH});var wt=g(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.noop=be.defaults=be.Debug=be.zipMap=be.CONNECTION_CLOSED_ERROR_MSG=be.shuffle=be.sample=be.resolveTLSProfile=be.parseURL=be.optimizeErrorStack=be.toArg=be.convertMapToArray=be.convertObjectToArray=be.timeout=be.packObject=be.isInt=be.wrapMultiResult=be.convertBufferToString=void 0;var UO=require("url"),Vg=yp();Object.defineProperty(be,"defaults",{enumerable:!0,get:function(){return Vg.defaults}});Object.defineProperty(be,"noop",{enumerable:!0,get:function(){return Vg.noop}});var _H=qO();be.Debug=_H.default;var wH=LO();function FO(t,e){if(t instanceof Buffer)return t.toString(e);if(Array.isArray(t)){let r=t.length,s=Array(r);for(let n=0;n<r;++n)s[n]=t[n]instanceof Buffer&&e==="utf8"?t[n].toString():FO(t[n],e);return s}return t}be.convertBufferToString=FO;function SH(t){if(!t)return null;let e=[],r=t.length;for(let s=0;s<r;++s){let n=t[s];n instanceof Error?e.push([n]):e.push([null,n])}return e}be.wrapMultiResult=SH;function zO(t){let e=parseFloat(t);return!isNaN(t)&&(e|0)===e}be.isInt=zO;function kH(t){let e={},r=t.length;for(let s=1;s<r;s+=2)e[t[s-1]]=t[s];return e}be.packObject=kH;function EH(t,e){let r=null,s=function(){r&&(clearTimeout(r),r=null,t.apply(this,arguments))};return r=setTimeout(s,e,new Error("timeout")),s}be.timeout=EH;function AH(t){let e=[],r=Object.keys(t);for(let s=0,n=r.length;s<n;s++)e.push(r[s],t[r[s]]);return e}be.convertObjectToArray=AH;function TH(t){let e=[],r=0;return t.forEach(function(s,n){e[r]=n,e[r+1]=s,r+=2}),e}be.convertMapToArray=TH;function OH(t){return t===null||typeof t>"u"?"":String(t)}be.toArg=OH;function PH(t,e,r){let s=e.split(`
`),n="",i;for(i=1;i<s.length&&s[i].indexOf(r)!==-1;++i);for(let o=i;o<s.length;++o)n+=`
`+s[o];if(t.stack){let o=t.stack.indexOf(`
`);t.stack=t.stack.slice(0,o)+n}return t}be.optimizeErrorStack=PH;function CH(t){if(zO(t))return{port:t};let e=(0,UO.parse)(t,!0,!0);!e.slashes&&t[0]!=="/"&&(t="//"+t,e=(0,UO.parse)(t,!0,!0));let r=e.query||{},s={};if(e.auth){let n=e.auth.indexOf(":");s.username=n===-1?e.auth:e.auth.slice(0,n),s.password=n===-1?"":e.auth.slice(n+1)}if(e.pathname&&(e.protocol==="redis:"||e.protocol==="rediss:"?e.pathname.length>1&&(s.db=e.pathname.slice(1)):s.path=e.pathname),e.host&&(s.host=e.hostname),e.port&&(s.port=e.port),typeof r.family=="string"){let n=Number.parseInt(r.family,10);Number.isNaN(n)||(s.family=n)}return(0,Vg.defaults)(s,r),s}be.parseURL=CH;function RH(t){let e=t?.tls;typeof e=="string"&&(e={profile:e});let r=wH.default[e?.profile];return r&&(e=Object.assign({},r,e),delete e.profile,t=Object.assign({},t,{tls:e})),t}be.resolveTLSProfile=RH;function IH(t,e=0){let r=t.length;return e>=r?null:t[e+Math.floor(Math.random()*(r-e))]}be.sample=IH;function jH(t){let e=t.length;for(;e>0;){let r=Math.floor(Math.random()*e);e--,[t[e],t[r]]=[t[r],t[e]]}return t}be.shuffle=jH;be.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function DH(t,e){let r=new Map;return t.forEach((s,n)=>{r.set(s,e[n])}),r}be.zipMap=DH});var hs=g(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});var HO=bo(),BH=za(),NH=Gs(),gi=wt(),$r=class t{constructor(e,r=[],s={},n){if(this.name=e,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=s.replyEncoding,this.errorStack=s.errorStack,this.args=r.flat(),this.callback=n,this.initPromise(),s.keyPrefix){let i=s.keyPrefix instanceof Buffer,o=i?s.keyPrefix:null;this._iterateKeys(a=>a instanceof Buffer?(o===null&&(o=Buffer.from(s.keyPrefix)),Buffer.concat([o,a])):i?Buffer.concat([s.keyPrefix,Buffer.from(String(a))]):s.keyPrefix+a)}s.readOnly&&(this.isReadOnly=!0)}static checkFlag(e,r){return!!this.getFlagMap()[e][r]}static setArgumentTransformer(e,r){this._transformer.argument[e]=r}static setReplyTransformer(e,r){this._transformer.reply[e]=r}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(t.FLAGS).reduce((e,r)=>(e[r]={},t.FLAGS[r].forEach(s=>{e[r][s]=!0}),e),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){let e=this.getKeys()[0];this.slot=e==null?null:BH(e)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(e){let r,s="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){let n=new $g;n.push(s);for(let i=0;i<this.args.length;++i){let o=this.args[i];o instanceof Buffer?o.length===0?n.push(`$0\r
\r
`):(n.push("$"+o.length+`\r
`),n.push(o),n.push(`\r
`)):n.push("$"+Buffer.byteLength(o)+`\r
`+o+`\r
`)}r=n.toBuffer()}else{r=s;for(let n=0;n<this.args.length;++n){let i=this.args[n];r+="$"+Buffer.byteLength(i)+`\r
`+i+`\r
`}}return r}stringifyArguments(){for(let e=0;e<this.args.length;++e){let r=this.args[e];typeof r=="string"||(r instanceof Buffer?this.bufferMode=!0:this.args[e]=(0,gi.toArg)(r))}}transformReply(e){this.replyEncoding&&(e=(0,gi.convertBufferToString)(e,this.replyEncoding));let r=t._transformer.reply[this.name];return r&&(e=r(e)),e}setTimeout(e){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},e))}initPromise(){let e=new Promise((r,s)=>{if(!this.transformed){this.transformed=!0;let n=t._transformer.argument[this.name];n&&(this.args=n(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(r),this.errorStack?this.reject=n=>{s((0,gi.optimizeErrorStack)(n,this.errorStack.stack,__dirname))}:this.reject=s});this.promise=(0,NH.default)(e,this.callback)}_iterateKeys(e=r=>r){if(typeof this.keys>"u"&&(this.keys=[],(0,HO.exists)(this.name))){let r=(0,HO.getKeyIndexes)(this.name,this.args);for(let s of r)this.args[s]=e(this.args[s]),this.keys.push(this.args[s])}return this.keys}_convertValue(e){return r=>{try{let s=this._commandTimeoutTimer;s&&(clearTimeout(s),delete this._commandTimeoutTimer),e(this.transformReply(r)),this.isResolved=!0}catch(s){this.reject(s)}return this.promise}}};Kg.default=$r;$r.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"]};$r._transformer={argument:{},reply:{}};var ZO=function(t){if(t.length===1){if(t[0]instanceof Map)return(0,gi.convertMapToArray)(t[0]);if(typeof t[0]=="object"&&t[0]!==null)return(0,gi.convertObjectToArray)(t[0])}return t},VO=function(t){if(t.length===2){if(t[1]instanceof Map)return[t[0]].concat((0,gi.convertMapToArray)(t[1]));if(typeof t[1]=="object"&&t[1]!==null)return[t[0]].concat((0,gi.convertObjectToArray)(t[1]))}return t};$r.setArgumentTransformer("mset",ZO);$r.setArgumentTransformer("msetnx",ZO);$r.setArgumentTransformer("hset",VO);$r.setArgumentTransformer("hmset",VO);$r.setReplyTransformer("hgetall",function(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2){let s=t[r],n=t[r+1];s in e?Object.defineProperty(e,s,{value:n,configurable:!0,enumerable:!0,writable:!0}):e[s]=n}return e}return t});var $g=class{constructor(){this.length=0,this.items=[]}push(e){this.length+=Buffer.byteLength(e),this.items.push(e)}toBuffer(){let e=Buffer.allocUnsafe(this.length),r=0;for(let s of this.items){let n=Buffer.byteLength(s);Buffer.isBuffer(s)?s.copy(e,r):e.write(s,r,n),r+=n}return e}}});var $O=g(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});var qH=mi(),_p=class extends qH.RedisError{constructor(e,r){super(e),this.lastNodeError=r,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};Gg.default=_p;_p.defaultMessage="Failed to refresh slots cache."});var wp=g(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});var MH=require("stream"),Wg=class extends MH.Readable{constructor(e){super(e),this.opt=e,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}let e=[this._redisCursor];this.opt.key&&e.unshift(this.opt.key),this.opt.match&&e.push("MATCH",this.opt.match),this.opt.type&&e.push("TYPE",this.opt.type),this.opt.count&&e.push("COUNT",String(this.opt.count)),this.opt.noValues&&e.push("NOVALUES"),this.opt.redis[this.opt.command](e,(r,s)=>{if(r){this.emit("error",r);return}this._redisCursor=s[0]instanceof Buffer?s[0].toString():s[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(s[1])})}close(){this._redisDrained=!0}};Qg.default=Wg});var YO=g(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.executeWithAutoPipelining=st.getFirstValueInFlattenedArray=st.shouldUseAutoPipelining=st.notAllowedAutoPipelineCommands=st.kCallbacks=st.kExec=void 0;var GO=yp(),LH=za(),KO=Gs();st.kExec=Symbol("exec");st.kCallbacks=Symbol("callbacks");st.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select"];function WO(t,e){if(t._runningAutoPipelines.has(e)||!t._autoPipelines.has(e))return;t._runningAutoPipelines.add(e);let r=t._autoPipelines.get(e);t._autoPipelines.delete(e);let s=r[st.kCallbacks];r[st.kCallbacks]=null,r.exec(function(n,i){if(t._runningAutoPipelines.delete(e),n)for(let o=0;o<s.length;o++)process.nextTick(s[o],n);else for(let o=0;o<s.length;o++)process.nextTick(s[o],...i[o]);t._autoPipelines.has(e)&&WO(t,e)})}function UH(t,e,r){return e&&t.options.enableAutoPipelining&&!t.isPipeline&&!st.notAllowedAutoPipelineCommands.includes(r)&&!t.options.autoPipeliningIgnoredCommands.includes(r)}st.shouldUseAutoPipelining=UH;function QO(t){for(let e=0;e<t.length;e++){let r=t[e];if(typeof r=="string")return r;if(Array.isArray(r)||(0,GO.isArguments)(r)){if(r.length===0)continue;return r[0]}let s=[r].flat();if(s.length>0)return s[0]}}st.getFirstValueInFlattenedArray=QO;function JO(t,e,r,s,n){if(t.isCluster&&!t.slots.length)return t.status==="wait"&&t.connect().catch(GO.noop),(0,KO.default)(new Promise(function(u,l){t.delayUntilReady(p=>{if(p){l(p);return}JO(t,e,r,s,null).then(u,l)})}),n);let i=t.options.keyPrefix||"",o=t.isCluster?t.slots[LH(`${i}${QO(s)}`)].join(","):"main";if(!t._autoPipelines.has(o)){let u=t.pipeline();u[st.kExec]=!1,u[st.kCallbacks]=[],t._autoPipelines.set(o,u)}let a=t._autoPipelines.get(o);a[st.kExec]||(a[st.kExec]=!0,setImmediate(WO,t,o));let c=new Promise(function(u,l){a[st.kCallbacks].push(function(p,y){if(p){l(p);return}u(y)}),e==="call"&&s.unshift(r),a[e](...s)});return(0,KO.default)(c,n)}st.executeWithAutoPipelining=JO});var XO=g(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var FH=require("crypto"),zH=hs(),HH=Gs(),Jg=class{constructor(e,r=null,s="",n=!1){this.lua=e,this.numberOfKeys=r,this.keyPrefix=s,this.readOnly=n,this.sha=(0,FH.createHash)("sha1").update(e).digest("hex");let i=this.sha,o=new WeakSet;this.Command=class extends zH.default{toWritable(c){let u=this.reject;return this.reject=l=>{l.message.indexOf("NOSCRIPT")!==-1&&o.delete(c),u.call(this,l)},o.has(c)?this.name==="eval"&&(this.name="evalsha",this.args[0]=i):(o.add(c),this.name="eval",this.args[0]=e),super.toWritable(c)}}}execute(e,r,s,n){typeof this.numberOfKeys=="number"&&r.unshift(this.numberOfKeys),this.keyPrefix&&(s.keyPrefix=this.keyPrefix),this.readOnly&&(s.readOnly=!0);let i=new this.Command("evalsha",[this.sha,...r],s);return i.promise=i.promise.catch(o=>{if(o.message.indexOf("NOSCRIPT")===-1)throw o;let a=new this.Command("evalsha",[this.sha,...r],s);return(e.isPipeline?e.redis:e).sendCommand(a)}),(0,HH.default)(i.promise,n),e.sendCommand(i)}};Yg.default=Jg});var kp=g(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});var ZH=bo(),Sp=YO(),VH=hs(),$H=XO(),ms=class{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return Xg.slice(0)}createBuiltinCommand(e){return{string:Js(null,e,"utf8"),buffer:Js(null,e,null)}}addBuiltinCommand(e){this.addedBuiltinSet.add(e),this[e]=Js(e,e,"utf8"),this[e+"Buffer"]=Js(e+"Buffer",e,null)}defineCommand(e,r){let s=new $H.default(r.lua,r.numberOfKeys,this.options.keyPrefix,r.readOnly);this.scriptsSet[e]=s,this[e]=eP(e,e,s,"utf8"),this[e+"Buffer"]=eP(e+"Buffer",e,s,null)}sendCommand(e,r,s){throw new Error('"sendCommand" is not implemented')}},Xg=ZH.list.filter(t=>t!=="monitor");Xg.push("sentinel");Xg.forEach(function(t){ms.prototype[t]=Js(t,t,"utf8"),ms.prototype[t+"Buffer"]=Js(t+"Buffer",t,null)});ms.prototype.call=Js("call","utf8");ms.prototype.callBuffer=Js("callBuffer",null);ms.prototype.send_command=ms.prototype.call;function Js(t,e,r){return typeof r>"u"&&(r=e,e=null),function(...s){let n=e||s.shift(),i=s[s.length-1];typeof i=="function"?s.pop():i=void 0;let o={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:r};return(0,Sp.shouldUseAutoPipelining)(this,t,n)?(0,Sp.executeWithAutoPipelining)(this,t,n,s,i):this.sendCommand(new VH.default(n,s,o,i))}}function eP(t,e,r,s){return function(...n){let i=typeof n[n.length-1]=="function"?n.pop():void 0,o={replyEncoding:s};return this.options.showFriendlyErrorStack&&(o.errorStack=new Error),(0,Sp.shouldUseAutoPipelining)(this,t,e)?(0,Sp.executeWithAutoPipelining)(this,t,e,n,i):r.execute(this,n,o,i)}}eb.default=ms});var sb=g(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});var tb=za(),tP=bo(),rP=Gs(),KH=require("util"),GH=hs(),WH=wt(),QH=kp();function JH(t,e){let r=tb(e[0]),s=t._groupsBySlot[r];for(let n=1;n<e.length;n++)if(t._groupsBySlot[tb(e[n])]!==s)return-1;return r}var Ys=class extends QH.default{constructor(e){super(),this.redis=e,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=e.options,Object.keys(e.scriptsSet).forEach(s=>{let n=e.scriptsSet[s];this._shaToScript[n.sha]=n,this[s]=e[s],this[s+"Buffer"]=e[s+"Buffer"]}),e.addedBuiltinSet.forEach(s=>{this[s]=e[s],this[s+"Buffer"]=e[s+"Buffer"]}),this.promise=new Promise((s,n)=>{this.resolve=s,this.reject=n});let r=this;Object.defineProperty(this,"length",{get:function(){return r._queue.length}})}fillResult(e,r){if(this._queue[r].name==="exec"&&Array.isArray(e[1])){let n=e[1].length;for(let i=0;i<n;i++){if(e[1][i]instanceof Error)continue;let o=this._queue[r-(n-i)];try{e[1][i]=o.transformReply(e[1][i])}catch(a){e[1][i]=a}}}if(this._result[r]=e,--this.replyPending)return;if(this.isCluster){let n=!0,i;for(let o=0;o<this._result.length;++o){let a=this._result[o][0],c=this._queue[o];if(a){if(c.name==="exec"&&a.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!i)i={name:a.name,message:a.message};else if(i.name!==a.name||i.message!==a.message){n=!1;break}}else if(!c.inTransaction&&!((0,tP.exists)(c.name)&&(0,tP.hasFlag)(c.name,"readonly"))){n=!1;break}}if(i&&n){let o=this,a=i.message.split(" "),c=this._queue,u=!1;this._queue=[];for(let f=0;f<c.length;++f){if(a[0]==="ASK"&&!u&&c[f].name!=="asking"&&(!c[f-1]||c[f-1].name!=="asking")){let d=new GH.default("asking");d.ignore=!0,this.sendCommand(d)}c[f].initPromise(),this.sendCommand(c[f]),u=c[f].inTransaction}let l=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});let p=function(){o.exec()},y=this.redis;if(y.handleError(i,this.leftRedirections,{moved:function(f,d){o.preferKey=d,y.slots[a[1]]=[d],y._groupsBySlot[a[1]]=y._groupsIds[y.slots[a[1]].join(";")],y.refreshSlotsCache(),o.exec()},ask:function(f,d){o.preferKey=d,o.exec()},tryagain:p,clusterDown:p,connectionClosed:p,maxRedirections:()=>{l=!1},defaults:()=>{l=!1}}),l)return}}let s=0;for(let n=0;n<this._queue.length-s;++n)this._queue[n+s].ignore&&(s+=1),this._result[n]=this._result[n+s];this.resolve(this._result.slice(0,this._result.length-s))}sendCommand(e){this._transactions>0&&(e.inTransaction=!0);let r=this._queue.length;return e.pipelineIndex=r,e.promise.then(s=>{this.fillResult([null,s],r)}).catch(s=>{this.fillResult([s],r)}),this._queue.push(e),this}addBatch(e){let r,s,n;for(let i=0;i<e.length;++i)r=e[i],s=r[0],n=r.slice(1),this[s].apply(this,n);return this}};rb.default=Ys;var YH=Ys.prototype.multi;Ys.prototype.multi=function(){return this._transactions+=1,YH.apply(this,arguments)};var sP=Ys.prototype.execBuffer;Ys.prototype.execBuffer=(0,KH.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),sP.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead");Ys.prototype.exec=function(t){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(WH.noop),t&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,rP.default)(this.promise,t)),this.redis.delayUntilReady(n=>{if(n){this.reject(n);return}this.exec(t)}),this.promise;if(this._transactions>0)return this._transactions-=1,sP.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,rP.default)(this.promise,t)),this._queue.length||this.resolve([]);let e;if(this.isCluster){let n=[];for(let i=0;i<this._queue.length;i++){let o=this._queue[i].getKeys();if(o.length&&n.push(o[0]),o.length&&tb.generateMulti(o)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(n.length){if(e=JH(this.redis,n),e<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else e=Math.random()*16384|0}let r=this;return s(),this.promise;function s(){let n=r.replyPending=r._queue.length,i;r.isCluster&&(i={slot:e,redis:r.redis.connectionPool.nodes.all[r.preferKey]});let o="",a,c={isPipeline:!0,destination:r.isCluster?i:{redis:r.redis},write(u){typeof u!="string"?(a||(a=[]),o&&(a.push(Buffer.from(o,"utf8")),o=""),a.push(u)):o+=u,--n||(a?(o&&a.push(Buffer.from(o,"utf8")),c.destination.redis.stream.write(Buffer.concat(a))):c.destination.redis.stream.write(o),n=r._queue.length,o="",a=void 0)}};for(let u=0;u<r._queue.length;++u)r.redis.sendCommand(r._queue[u],c,i);return r.promise}}});var ob=g(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.addTransactionSupport=void 0;var nb=wt(),ib=Gs(),nP=sb();function XH(t){t.pipeline=function(s){let n=new nP.default(this);return Array.isArray(s)&&n.addBatch(s),n};let{multi:e}=t;t.multi=function(s,n){if(typeof n>"u"&&!Array.isArray(s)&&(n=s,s=null),n&&n.pipeline===!1)return e.call(this);let i=new nP.default(this);i.multi(),Array.isArray(s)&&i.addBatch(s);let o=i.exec;i.exec=function(c){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(nb.noop),(0,ib.default)(new Promise((l,p)=>{this.redis.delayUntilReady(y=>{if(y){p(y);return}this.exec(i).then(l,p)})}),c);if(this._transactions>0&&o.call(i),this.nodeifiedPromise)return o.call(i);let u=o.call(i);return(0,ib.default)(u.then(function(l){let p=l[l.length-1];if(typeof p>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(p[0]){p[0].previousErrors=[];for(let y=0;y<l.length-1;++y)l[y][0]&&p[0].previousErrors.push(l[y][0]);throw p[0]}return(0,nb.wrapMultiResult)(p[1])}),c)};let{execBuffer:a}=i;return i.execBuffer=function(c){return this._transactions>0&&a.call(i),i.exec(c)},i};let{exec:r}=t;t.exec=function(s){return(0,ib.default)(r.call(this).then(function(n){return Array.isArray(n)&&(n=(0,nb.wrapMultiResult)(n)),n}),s)}}Ep.addTransactionSupport=XH});var cb=g(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});function eZ(t,e){Object.getOwnPropertyNames(e.prototype).forEach(r=>{Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(e.prototype,r))})}ab.default=eZ});var oP=g(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.DEFAULT_CLUSTER_OPTIONS=void 0;var iP=require("dns");Ap.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:t=>Math.min(100+t*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:iP.resolveSrv,dnsLookup:iP.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1}});var Va=g(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getConnectionName=Rt.weightSrvRecords=Rt.groupSrvRecords=Rt.getUniqueHostnamesFromOptions=Rt.normalizeNodeOptions=Rt.nodeKeyToRedisOptions=Rt.getNodeKey=void 0;var aP=wt(),tZ=require("net");function rZ(t){return t.port=t.port||6379,t.host=t.host||"127.0.0.1",t.host+":"+t.port}Rt.getNodeKey=rZ;function sZ(t){let e=t.lastIndexOf(":");if(e===-1)throw new Error(`Invalid node key ${t}`);return{host:t.slice(0,e),port:Number(t.slice(e+1))}}Rt.nodeKeyToRedisOptions=sZ;function nZ(t){return t.map(e=>{let r={};if(typeof e=="object")Object.assign(r,e);else if(typeof e=="string")Object.assign(r,(0,aP.parseURL)(e));else if(typeof e=="number")r.port=e;else throw new Error("Invalid argument "+e);return typeof r.port=="string"&&(r.port=parseInt(r.port,10)),delete r.db,r.port||(r.port=6379),r.host||(r.host="127.0.0.1"),(0,aP.resolveTLSProfile)(r)})}Rt.normalizeNodeOptions=nZ;function iZ(t){let e={};return t.forEach(r=>{e[r.host]=!0}),Object.keys(e).filter(r=>!(0,tZ.isIP)(r))}Rt.getUniqueHostnamesFromOptions=iZ;function oZ(t){let e={};for(let r of t)e.hasOwnProperty(r.priority)?(e[r.priority].totalWeight+=r.weight,e[r.priority].records.push(r)):e[r.priority]={totalWeight:r.weight,records:[r]};return e}Rt.groupSrvRecords=oZ;function aZ(t){if(t.records.length===1)return t.totalWeight=0,t.records.shift();let e=Math.floor(Math.random()*(t.totalWeight+t.records.length)),r=0;for(let[s,n]of t.records.entries())if(r+=1+n.weight,r>e)return t.totalWeight-=n.weight,t.records.splice(s,1),n}Rt.weightSrvRecords=aZ;function cZ(t,e){let r=`ioredis-cluster(${t})`;return e?`${r}:${e}`:r}Rt.getConnectionName=cZ});var db=g(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});var cP=Va(),ub=wt(),uZ=Xs(),ys=(0,ub.Debug)("cluster:subscriber"),lb=class{constructor(e,r,s=!1){this.connectionPool=e,this.emitter=r,this.isSharded=s,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){ys("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}ys("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(n,i)=>{!this.started||!this.subscriber||(0,cP.getNodeKey)(this.subscriber.options)===i&&(ys("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(ys("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(e){return this.isSharded&&(this.slotRange=e),this.slotRange}start(){this.started=!0,this.selectSubscriber(),ys("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){let e=this.lastActiveSubscriber;e&&(e.off("end",this.onSubscriberEnd),e.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());let r=(0,ub.sample)(this.connectionPool.getNodes());if(!r){ys("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}let{options:s}=r;ys("selected a subscriber %s:%s",s.host,s.port);let n="subscriber";this.isSharded&&(n="ssubscriber"),this.subscriber=new uZ.default({port:s.port,host:s.host,username:s.username,password:s.password,enableReadyCheck:!0,connectionName:(0,cP.getConnectionName)(n,s.connectionName),lazyConnect:!0,tls:s.tls,retryStrategy:null}),this.subscriber.on("error",ub.noop),this.subscriber.once("end",this.onSubscriberEnd);let i={subscribe:[],psubscribe:[],ssubscribe:[]};if(e){let o=e.condition||e.prevCondition;o&&o.subscriber&&(i.subscribe=o.subscriber.channels("subscribe"),i.psubscribe=o.subscriber.channels("psubscribe"),i.ssubscribe=o.subscriber.channels("ssubscribe"))}if(i.subscribe.length||i.psubscribe.length||i.ssubscribe.length){let o=0;for(let a of["subscribe","psubscribe","ssubscribe"]){let c=i[a];c.length&&(o+=1,ys("%s %d channels",a,c.length),this.subscriber[a](c).then(()=>{--o||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{ys("failed to %s %d channels",a,c.length)}))}}else this.lastActiveSubscriber=this.subscriber;for(let o of["message","messageBuffer"])this.subscriber.on(o,(a,c)=>{this.emitter.emit(o,a,c)});for(let o of["pmessage","pmessageBuffer"])this.subscriber.on(o,(a,c,u)=>{this.emitter.emit(o,a,c,u)});if(this.isSharded==!0)for(let o of["smessage","smessageBuffer"])this.subscriber.on(o,(a,c)=>{this.emitter.emit(o,a,c)})}};pb.default=lb});var yb=g(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});var lZ=require("events"),Tp=wt(),fb=Va(),pZ=Xs(),$a=(0,Tp.Debug)("cluster:connectionPool"),hb=class extends lZ.EventEmitter{constructor(e){super(),this.redisOptions=e,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(e="all"){let r=this.nodes[e];return Object.keys(r).map(s=>r[s])}getInstanceByKey(e){return this.nodes.all[e]}getSampleInstance(e){let r=Object.keys(this.nodes[e]),s=(0,Tp.sample)(r);return this.nodes[e][s]}addMasterNode(e){let r=(0,fb.getNodeKey)(e.options),s=this.createRedisFromOptions(e,e.options.readOnly);return e.options.readOnly?!1:(this.nodes.all[r]=s,this.nodes.master[r]=s,!0)}createRedisFromOptions(e,r){return new pZ.default((0,Tp.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:r},e,this.redisOptions,{lazyConnect:!0}))}findOrCreate(e,r=!1){let s=(0,fb.getNodeKey)(e);r=!!r,this.specifiedOptions[s]?Object.assign(e,this.specifiedOptions[s]):this.specifiedOptions[s]=e;let n;return this.nodes.all[s]?(n=this.nodes.all[s],n.options.readOnly!==r&&(n.options.readOnly=r,$a("Change role of %s to %s",s,r?"slave":"master"),n[r?"readonly":"readwrite"]().catch(Tp.noop),r?(delete this.nodes.master[s],this.nodes.slave[s]=n):(delete this.nodes.slave[s],this.nodes.master[s]=n))):($a("Connecting to %s as %s",s,r?"slave":"master"),n=this.createRedisFromOptions(e,r),this.nodes.all[s]=n,this.nodes[r?"slave":"master"][s]=n,n.once("end",()=>{this.removeNode(s),this.emit("-node",n,s),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",n,s),n.on("error",function(i){this.emit("nodeError",i,s)})),n}reset(e){$a("Reset with %O",e);let r={};e.forEach(s=>{let n=(0,fb.getNodeKey)(s);s.readOnly&&r[n]||(r[n]=s)}),Object.keys(this.nodes.all).forEach(s=>{r[s]||($a("Disconnect %s because the node does not hold any slot",s),this.nodes.all[s].disconnect(),this.removeNode(s))}),Object.keys(r).forEach(s=>{let n=r[s];this.findOrCreate(n,n.readOnly)})}removeNode(e){let{nodes:r}=this;r.all[e]&&($a("Remove %s from the pool",e),delete r.all[e]),delete r.master[e],delete r.slave[e]}};mb.default=hb});var Op=g((tee,uP)=>{"use strict";function Je(t,r){var r=r||{};this._capacity=r.capacity,this._head=0,this._tail=0,Array.isArray(t)?this._fromArray(t):(this._capacityMask=3,this._list=new Array(4))}Je.prototype.peekAt=function(e){var r=e;if(r===(r|0)){var s=this.size();if(!(r>=s||r<-s))return r<0&&(r+=s),r=this._head+r&this._capacityMask,this._list[r]}};Je.prototype.get=function(e){return this.peekAt(e)};Je.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Je.prototype.peekFront=function(){return this.peek()};Je.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Je.prototype,"length",{get:function(){return this.size()}});Je.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Je.prototype.unshift=function(e){if(arguments.length===0)return this.size();var r=this._list.length;return this._head=this._head-1+r&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Je.prototype.shift=function(){var e=this._head;if(e!==this._tail){var r=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),r}};Je.prototype.push=function(e){if(arguments.length===0)return this.size();var r=this._tail;return this._list[r]=e,this._tail=r+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Je.prototype.pop=function(){var e=this._tail;if(e!==this._head){var r=this._list.length;this._tail=e-1+r&this._capacityMask;var s=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=r>>>2&&this._shrinkArray(),s}};Je.prototype.removeOne=function(e){var r=e;if(r===(r|0)&&this._head!==this._tail){var s=this.size(),n=this._list.length;if(!(r>=s||r<-s)){r<0&&(r+=s),r=this._head+r&this._capacityMask;var i=this._list[r],o;if(e<s/2){for(o=e;o>0;o--)this._list[r]=this._list[r=r-1+n&this._capacityMask];this._list[r]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(o=s-1-e;o>0;o--)this._list[r]=this._list[r=r+1+n&this._capacityMask];this._list[r]=void 0,this._tail=this._tail-1+n&this._capacityMask}return i}}};Je.prototype.remove=function(e,r){var s=e,n,i=r;if(s===(s|0)&&this._head!==this._tail){var o=this.size(),a=this._list.length;if(!(s>=o||s<-o||r<1)){if(s<0&&(s+=o),r===1||!r)return n=new Array(1),n[0]=this.removeOne(s),n;if(s===0&&s+r>=o)return n=this.toArray(),this.clear(),n;s+r>o&&(r=o-s);var c;for(n=new Array(r),c=0;c<r;c++)n[c]=this._list[this._head+s+c&this._capacityMask];if(s=this._head+s&this._capacityMask,e+r===o){for(this._tail=this._tail-r+a&this._capacityMask,c=r;c>0;c--)this._list[s=s+1+a&this._capacityMask]=void 0;return n}if(e===0){for(this._head=this._head+r+a&this._capacityMask,c=r-1;c>0;c--)this._list[s=s+1+a&this._capacityMask]=void 0;return n}if(s<o/2){for(this._head=this._head+e+r+a&this._capacityMask,c=e;c>0;c--)this.unshift(this._list[s=s-1+a&this._capacityMask]);for(s=this._head-1+a&this._capacityMask;i>0;)this._list[s=s-1+a&this._capacityMask]=void 0,i--;e<0&&(this._tail=s)}else{for(this._tail=s,s=s+r+a&this._capacityMask,c=o-(r+e);c>0;c--)this.push(this._list[s++]);for(s=this._tail;i>0;)this._list[s=s+1+a&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),n}}};Je.prototype.splice=function(e,r){var s=e;if(s===(s|0)){var n=this.size();if(s<0&&(s+=n),!(s>n))if(arguments.length>2){var i,o,a,c=arguments.length,u=this._list.length,l=2;if(!n||s<n/2){for(o=new Array(s),i=0;i<s;i++)o[i]=this._list[this._head+i&this._capacityMask];for(r===0?(a=[],s>0&&(this._head=this._head+s+u&this._capacityMask)):(a=this.remove(s,r),this._head=this._head+s+u&this._capacityMask);c>l;)this.unshift(arguments[--c]);for(i=s;i>0;i--)this.unshift(o[i-1])}else{o=new Array(n-(s+r));var p=o.length;for(i=0;i<p;i++)o[i]=this._list[this._head+s+r+i&this._capacityMask];for(r===0?(a=[],s!=n&&(this._tail=this._head+s+u&this._capacityMask)):(a=this.remove(s,r),this._tail=this._tail-p+u&this._capacityMask);l<c;)this.push(arguments[l++]);for(i=0;i<p;i++)this.push(o[i])}return a}else return this.remove(s,r)}};Je.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0};Je.prototype.isEmpty=function(){return this._head===this._tail};Je.prototype.toArray=function(){return this._copyArray(!1)};Je.prototype._fromArray=function(e){var r=e.length,s=this._nextPowerOf2(r);this._list=new Array(s),this._capacityMask=s-1,this._tail=r;for(var n=0;n<r;n++)this._list[n]=e[n]};Je.prototype._copyArray=function(e,r){var s=this._list,n=s.length,i=this.length;if(r=r|i,r==i&&this._head<this._tail)return this._list.slice(this._head,this._tail);var o=new Array(r),a=0,c;if(e||this._head>this._tail){for(c=this._head;c<n;c++)o[a++]=s[c];for(c=0;c<this._tail;c++)o[a++]=s[c]}else for(c=this._head;c<this._tail;c++)o[a++]=s[c];return o};Je.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1};Je.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};Je.prototype._nextPowerOf2=function(e){var r=Math.log(e)/Math.log(2),s=1<<r+1;return Math.max(s,4)};uP.exports=Je});var lP=g(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});var dZ=wt(),fZ=Op(),hZ=(0,dZ.Debug)("delayqueue"),gb=class{constructor(){this.queues={},this.timeouts={}}push(e,r,s){let n=s.callback||process.nextTick;this.queues[e]||(this.queues[e]=new fZ),this.queues[e].push(r),this.timeouts[e]||(this.timeouts[e]=setTimeout(()=>{n(()=>{this.timeouts[e]=null,this.execute(e)})},s.timeout))}execute(e){let r=this.queues[e];if(!r)return;let{length:s}=r;if(s)for(hZ("send %d commands in %s queue",s,e),this.queues[e]=null;r.length>0;)r.shift()()}};bb.default=gb});var fP=g(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});var mZ=wt(),yZ=db(),gZ=yb(),pP=Va(),Pp=za(),dP=(0,mZ.Debug)("cluster:subscriberGroup"),vb=class{constructor(e){this.cluster=e,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,e.on("+node",r=>{this._addSubscriber(r)}),e.on("-node",r=>{this._removeSubscriber(r)}),e.on("refresh",()=>{this._refreshSlots(e)})}getResponsibleSubscriber(e){let r=this.clusterSlots[e][0];return this.shardedSubscribers.get(r)}addChannels(e){let r=Pp(e[0]);e.forEach(n=>{if(Pp(n)!=r)return-1});let s=this.channels.get(r);return s?this.channels.set(r,s.concat(e)):this.channels.set(r,e),[...this.channels.values()].flatMap(n=>n).length}removeChannels(e){let r=Pp(e[0]);e.forEach(n=>{if(Pp(n)!=r)return-1});let s=this.channels.get(r);if(s){let n=s.filter(i=>!e.includes(i));this.channels.set(r,n)}return[...this.channels.values()].flatMap(n=>n).length}stop(){for(let e of this.shardedSubscribers.values())e.stop()}start(){for(let e of this.shardedSubscribers.values())e.isStarted()||e.start()}_addSubscriber(e){let r=new gZ.default(e.options);if(r.addMasterNode(e)){let s=new yZ.default(r,this.cluster,!0),n=(0,pP.getNodeKey)(e.options);return this.shardedSubscribers.set(n,s),s.start(),this._resubscribe(),this.cluster.emit("+subscriber"),s}return null}_removeSubscriber(e){let r=(0,pP.getNodeKey)(e.options),s=this.shardedSubscribers.get(r);return s&&(s.stop(),this.shardedSubscribers.delete(r),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(e){if(this._slotsAreEqual(e.slots))dP("Nothing to refresh because the new cluster map is equal to the previous one.");else{dP("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let r=0;r<e.slots.length;r++){let s=e.slots[r][0];this.subscriberToSlotsIndex.has(s)||this.subscriberToSlotsIndex.set(s,[]),this.subscriberToSlotsIndex.get(s).push(Number(r))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(e.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((e,r)=>{let s=this.subscriberToSlotsIndex.get(r);s&&(e.associateSlotRange(s),s.forEach(n=>{let i=e.getInstance(),o=this.channels.get(n);o&&o.length>0&&i&&(i.ssubscribe(o),i.on("ready",()=>{i.ssubscribe(o)}))}))})}_slotsAreEqual(e){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(e)}};xb.default=vb});var Sb=g(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});var hP=bo(),vP=require("events"),Ka=mi(),mP=Gs(),yP=hs(),_b=$O(),bZ=Xs(),vZ=wp(),xZ=ob(),nr=wt(),_Z=cb(),wZ=kp(),SZ=oP(),kZ=db(),EZ=yb(),AZ=lP(),Eo=Va(),gP=Op(),TZ=fP(),Ye=(0,nr.Debug)("cluster"),bP=new WeakSet,Ga=class t extends wZ.default{constructor(e,r={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new AZ.default,this.offlineQueue=new gP,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,vP.EventEmitter.call(this),this.startupNodes=e,this.options=(0,nr.defaults)({},r,SZ.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new TZ.default(this)),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new EZ.default(this.options.redisOptions),this.connectionPool.on("-node",(s,n)=>{this.emit("-node",s)}),this.connectionPool.on("+node",s=>{this.emit("+node",s)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(s,n)=>{this.emit("node error",s,n)}),this.subscriber=new kZ.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([s,n])=>{this.defineCommand(s,n)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(s=>{Ye("connecting failed: %s",s)})}connect(){return new Promise((e,r)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){r(new Error("Redis is already connecting/connected"));return}let s=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(n=>{if(this.connectionEpoch!==s){Ye("discard connecting after resolving startup nodes because epoch not match: %d != %d",s,this.connectionEpoch),r(new Ka.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){Ye("discard connecting after resolving startup nodes because the status changed to %s",this.status),r(new Ka.RedisError("Connection is aborted"));return}this.connectionPool.reset(n);let i=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),e()},o,a=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",o),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((c,u)=>{c||u?(Ye("Ready check failed (%s). Reconnecting...",c||u),this.status==="connect"&&this.disconnect(!0)):i()}):i()};o=()=>{let c=new Error("None of startup nodes is available");this.removeListener("refresh",a),this.invokeReadyDelayedCallbacks(c),r(c)},this.once("refresh",a),this.once("close",o),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(c=>{c&&c.message===_b.default.defaultMessage&&(bZ.default.prototype.silentEmit.call(this,"error",c),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(n=>{this.setStatus("close"),this.handleCloseEvent(n),this.invokeReadyDelayedCallbacks(n),r(n)})})}disconnect(e=!1){let r=this.status;this.setStatus("disconnecting"),e||(this.manuallyClosing=!0),this.reconnectTimeout&&!e&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,Ye("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),r==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(e){let r=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),r==="wait"){let s=(0,mP.default)(Promise.resolve("OK"),e);return setImmediate(function(){this.setStatus("close"),this.handleCloseEvent()}.bind(this)),s}return(0,mP.default)(Promise.all(this.nodes().map(s=>s.quit().catch(n=>{if(n.message===nr.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw n}))).then(()=>"OK"),e)}duplicate(e=[],r={}){let s=e.length>0?e:this.startupNodes.slice(0),n=Object.assign({},this.options,r);return new t(s,n)}nodes(e="all"){if(e!=="all"&&e!=="master"&&e!=="slave")throw new Error('Invalid role "'+e+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(e)}delayUntilReady(e){this._readyDelayedCallbacks.push(e)}get autoPipelineQueueSize(){let e=0;for(let r of this._autoPipelines.values())e+=r.length;return e}refreshSlotsCache(e){if(e&&this._refreshSlotsCacheCallbacks.push(e),this.isRefreshing)return;this.isRefreshing=!0;let r=this,s=a=>{this.isRefreshing=!1;for(let c of this._refreshSlotsCacheCallbacks)c(a);this._refreshSlotsCacheCallbacks=[]},n=(0,nr.shuffle)(this.connectionPool.getNodes()),i=null;function o(a){if(a===n.length){let l=new _b.default(_b.default.defaultMessage,i);return s(l)}let c=n[a],u=`${c.options.host}:${c.options.port}`;Ye("getting slot cache from %s",u),r.getInfoFromNode(c,function(l){switch(r.status){case"close":case"end":return s(new Error("Cluster is disconnected."));case"disconnecting":return s(new Error("Cluster is disconnecting."))}l?(r.emit("node error",l,u),i=l,o(a+1)):(r.emit("refresh"),s())})}o(0)}sendCommand(e,r,s){if(this.status==="wait"&&this.connect().catch(nr.noop),this.status==="end")return e.reject(new Error(nr.CONNECTION_CLOSED_ERROR_MSG)),e.promise;let n=this.options.scaleReads;n!=="master"&&(e.isReadOnly||(0,hP.exists)(e.name)&&(0,hP.hasFlag)(e.name,"readonly")||(n="master"));let i=s?s.slot:e.getSlot(),o={},a=this;if(!s&&!bP.has(e)){bP.add(e);let u=e.reject;e.reject=function(l){let p=c.bind(null,!0);a.handleError(l,o,{moved:function(y,f){Ye("command %s is moved to %s",e.name,f),i=Number(y),a.slots[y]?a.slots[y][0]=f:a.slots[y]=[f],a._groupsBySlot[y]=a._groupsIds[a.slots[y].join(";")],a.connectionPool.findOrCreate(a.natMapper(f)),c(),Ye("refreshing slot caches... (triggered by MOVED error)"),a.refreshSlotsCache()},ask:function(y,f){Ye("command %s is required to ask %s:%s",e.name,f);let d=a.natMapper(f);a.connectionPool.findOrCreate(d),c(!1,`${d.host}:${d.port}`)},tryagain:p,clusterDown:p,connectionClosed:p,maxRedirections:function(y){u.call(e,y)},defaults:function(){u.call(e,l)}})}}c();function c(u,l){if(a.status==="end"){e.reject(new Ka.AbortError("Cluster is ended."));return}let p;if(a.status==="ready"||e.name==="cluster"){if(s&&s.redis)p=s.redis;else if(yP.default.checkFlag("ENTER_SUBSCRIBER_MODE",e.name)||yP.default.checkFlag("EXIT_SUBSCRIBER_MODE",e.name)){if(a.options.shardedSubscribers==!0&&(e.name=="ssubscribe"||e.name=="sunsubscribe")){let y=a.shardedSubscribers.getResponsibleSubscriber(i),f=-1;e.name=="ssubscribe"&&(f=a.shardedSubscribers.addChannels(e.getKeys())),e.name=="sunsubscribe"&&(f=a.shardedSubscribers.removeChannels(e.getKeys())),f!==-1?p=y.getInstance():e.reject(new Ka.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else p=a.subscriber.getInstance();if(!p){e.reject(new Ka.AbortError("No subscriber for the cluster"));return}}else{if(!u){if(typeof i=="number"&&a.slots[i]){let y=a.slots[i];if(typeof n=="function"){let f=y.map(function(d){return a.connectionPool.getInstanceByKey(d)});p=n(f,e),Array.isArray(p)&&(p=(0,nr.sample)(p)),p||(p=f[0])}else{let f;n==="all"?f=(0,nr.sample)(y):n==="slave"&&y.length>1?f=(0,nr.sample)(y,1):f=y[0],p=a.connectionPool.getInstanceByKey(f)}}l&&(p=a.connectionPool.getInstanceByKey(l),p.asking())}p||(p=(typeof n=="function"?null:a.connectionPool.getSampleInstance(n))||a.connectionPool.getSampleInstance("all"))}s&&!s.redis&&(s.redis=p)}p?p.sendCommand(e,r):a.options.enableOfflineQueue?a.offlineQueue.push({command:e,stream:r,node:s}):e.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return e.promise}sscanStream(e,r){return this.createScanStream("sscan",{key:e,options:r})}sscanBufferStream(e,r){return this.createScanStream("sscanBuffer",{key:e,options:r})}hscanStream(e,r){return this.createScanStream("hscan",{key:e,options:r})}hscanBufferStream(e,r){return this.createScanStream("hscanBuffer",{key:e,options:r})}zscanStream(e,r){return this.createScanStream("zscan",{key:e,options:r})}zscanBufferStream(e,r){return this.createScanStream("zscanBuffer",{key:e,options:r})}handleError(e,r,s){if(typeof r.value>"u"?r.value=this.options.maxRedirections:r.value-=1,r.value<=0){s.maxRedirections(new Error("Too many Cluster redirections. Last error: "+e));return}let n=e.message.split(" ");if(n[0]==="MOVED"){let i=this.options.retryDelayOnMoved;i&&typeof i=="number"?this.delayQueue.push("moved",s.moved.bind(null,n[1],n[2]),{timeout:i}):s.moved(n[1],n[2])}else n[0]==="ASK"?s.ask(n[1],n[2]):n[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",s.tryagain,{timeout:this.options.retryDelayOnTryAgain}):n[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",s.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):e.message===nr.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",s.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):s.defaults()}resetOfflineQueue(){this.offlineQueue=new gP}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;let e=()=>{this.slotsTimer=setTimeout(()=>{Ye('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{e()})},this.options.slotsRefreshInterval)};e()}setStatus(e){Ye("status: %s -> %s",this.status||"[empty]",e),this.status=e,process.nextTick(()=>{this.emit(e)})}handleCloseEvent(e){e&&Ye("closed because %s",e);let r;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(r=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,e)),typeof r=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,Ye("Cluster is disconnected. Retrying after %dms",r),this.connect().catch(function(s){Ye("Got error %s when reconnecting. Ignoring...",s)})},r)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(e){let r;for(;r=this.offlineQueue.shift();)r.command.reject(e)}executeOfflineCommands(){if(this.offlineQueue.length){Ye("send %d commands in offline queue",this.offlineQueue.length);let e=this.offlineQueue;this.resetOfflineQueue();let r;for(;r=e.shift();)this.sendCommand(r.command,r.stream,r.node)}}natMapper(e){let r=typeof e=="string"?e:`${e.host}:${e.port}`,s=null;return this.options.natMap&&typeof this.options.natMap=="function"?s=this.options.natMap(r):this.options.natMap&&typeof this.options.natMap=="object"&&(s=this.options.natMap[r]),s?(Ye("NAT mapping %s -> %O",r,s),Object.assign({},s)):typeof e=="string"?(0,Eo.nodeKeyToRedisOptions)(e):e}getInfoFromNode(e,r){if(!e)return r(new Error("Node is disconnected"));let s=e.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,Eo.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});s.on("error",nr.noop),s.cluster("SLOTS",(0,nr.timeout)((n,i)=>{if(s.disconnect(),n)return Ye("error encountered running CLUSTER.SLOTS: %s",n),r(n);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){Ye("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",i.length,this.status),r();return}let o=[];Ye("cluster slots result count: %d",i.length);for(let c=0;c<i.length;++c){let u=i[c],l=u[0],p=u[1],y=[];for(let f=2;f<u.length;f++){if(!u[f][0])continue;let d=this.natMapper({host:u[f][0],port:u[f][1]});d.readOnly=f!==2,o.push(d),y.push(d.host+":"+d.port)}Ye("cluster slots result [%d]: slots %d~%d served by %s",c,l,p,y);for(let f=l;f<=p;f++)this.slots[f]=y}this._groupsIds=Object.create(null);let a=0;for(let c=0;c<16384;c++){let u=(this.slots[c]||[]).join(";");if(!u.length){this._groupsBySlot[c]=void 0;continue}this._groupsIds[u]||(this._groupsIds[u]=++a),this._groupsBySlot[c]=this._groupsIds[u]}this.connectionPool.reset(o),r()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(e){for(let r of this._readyDelayedCallbacks)process.nextTick(r,e);this._readyDelayedCallbacks=[]}readyCheck(e){this.cluster("INFO",(r,s)=>{if(r)return e(r);if(typeof s!="string")return e();let n,i=s.split(`\r
`);for(let o=0;o<i.length;++o){let a=i[o].split(":");if(a[0]==="cluster_state"){n=a[1];break}}n==="fail"?(Ye("cluster state not ok (%s)",n),e(null,n)):e()})}resolveSrv(e){return new Promise((r,s)=>{this.options.resolveSrv(e,(n,i)=>{if(n)return s(n);let o=this,a=(0,Eo.groupSrvRecords)(i),c=Object.keys(a).sort((l,p)=>parseInt(l)-parseInt(p));function u(l){if(!c.length)return s(l);let p=c[0],y=a[p],f=(0,Eo.weightSrvRecords)(y);y.records.length||c.shift(),o.dnsLookup(f.name).then(d=>r({host:d,port:f.port}),u)}u()})})}dnsLookup(e){return new Promise((r,s)=>{this.options.dnsLookup(e,(n,i)=>{n?(Ye("failed to resolve hostname %s to IP: %s",e,n.message),s(n)):(Ye("resolved hostname %s to IP %s",e,i),r(i))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");let e=(0,Eo.normalizeNodeOptions)(this.startupNodes),r=(0,Eo.getUniqueHostnamesFromOptions)(e);if(r.length===0)return e;let s=await Promise.all(r.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),n=(0,nr.zipMap)(r,s);return e.map(i=>{let o=n.get(i.host);return o?this.options.useSRVRecords?Object.assign({},i,o):Object.assign({},i,{host:o}):i})}createScanStream(e,{key:r,options:s={}}){return new vZ.default({objectMode:!0,key:r,redis:this,command:e,...s})}};(0,_Z.default)(Ga,vP.EventEmitter);(0,xZ.addTransactionSupport)(Ga.prototype);wb.default=Ga});var Cp=g(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});var OZ=wt(),PZ=(0,OZ.Debug)("AbstractConnector"),kb=class{constructor(e){this.connecting=!1,this.disconnectTimeout=e}check(e){return!0}disconnect(){if(this.connecting=!1,this.stream){let e=this.stream,r=setTimeout(()=>{PZ("stream %s:%s still open, destroying it",e.remoteAddress,e.remotePort),e.destroy()},this.disconnectTimeout);e.on("close",()=>clearTimeout(r)),e.end()}}};Eb.default=kb});var xP=g(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});var CZ=require("net"),RZ=require("tls"),IZ=wt(),jZ=Cp(),Ab=class extends jZ.default{constructor(e){super(e.disconnectTimeout),this.options=e}connect(e){let{options:r}=this;this.connecting=!0;let s;return"path"in r&&r.path?s={path:r.path}:(s={},"port"in r&&r.port!=null&&(s.port=r.port),"host"in r&&r.host!=null&&(s.host=r.host),"family"in r&&r.family!=null&&(s.family=r.family)),r.tls&&Object.assign(s,r.tls),new Promise((n,i)=>{process.nextTick(()=>{if(!this.connecting){i(new Error(IZ.CONNECTION_CLOSED_ERROR_MSG));return}try{r.tls?this.stream=(0,RZ.connect)(s):this.stream=(0,CZ.createConnection)(s)}catch(o){i(o);return}this.stream.once("error",o=>{this.firstError=o}),n(this.stream)})})}};Tb.default=Ab});var _P=g(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});function DZ(t,e){return(t.host||"127.0.0.1")===(e.host||"127.0.0.1")&&(t.port||26379)===(e.port||26379)}var Ob=class{constructor(e){this.cursor=0,this.sentinels=e.slice(0)}next(){let e=this.cursor>=this.sentinels.length;return{done:e,value:e?void 0:this.sentinels[this.cursor++]}}reset(e){e&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(e){for(let r=0;r<this.sentinels.length;r++)if(DZ(e,this.sentinels[r]))return!1;return this.sentinels.push(e),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}};Pb.default=Ob});var SP=g(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.FailoverDetector=void 0;var BZ=wt(),Cb=(0,BZ.Debug)("FailoverDetector"),wP="+switch-master",Rb=class{constructor(e,r){this.isDisconnected=!1,this.connector=e,this.sentinels=r}cleanup(){this.isDisconnected=!0;for(let e of this.sentinels)e.client.disconnect()}async subscribe(){Cb("Starting FailoverDetector");let e=[];for(let r of this.sentinels){let s=r.client.subscribe(wP).catch(n=>{Cb("Failed to subscribe to failover messages on sentinel %s:%s (%s)",r.address.host||"127.0.0.1",r.address.port||26739,n.message)});e.push(s),r.client.on("message",n=>{!this.isDisconnected&&n===wP&&this.disconnect()})}await Promise.all(e)}disconnect(){this.isDisconnected=!0,Cb("Failover detected, disconnecting"),this.connector.disconnect()}};Rp.FailoverDetector=Rb});var Ip=g(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.SentinelIterator=void 0;var NZ=require("net"),Wa=wt(),qZ=require("tls"),kP=_P();Qa.SentinelIterator=kP.default;var MZ=Cp(),LZ=Xs(),UZ=SP(),Ao=(0,Wa.Debug)("SentinelConnector"),Ib=class extends MZ.default{constructor(e){if(super(e.disconnectTimeout),this.options=e,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new kP.default(this.options.sentinels)}check(e){let r=!e.role||this.options.role===e.role;return r||(Ao("role invalid, expected %s, but got %s",this.options.role,e.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),r}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(e){this.connecting=!0,this.retryAttempts=0;let r,s=async()=>{let n=this.sentinelIterator.next();if(n.done){this.sentinelIterator.reset(!1);let c=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null,u=typeof c!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${c}ms.`;r&&(u+=` Last error: ${r.message}`),Ao(u);let l=new Error(u);if(typeof c=="number")return e("error",l),await new Promise(p=>setTimeout(p,c)),s();throw l}let i=null,o=null;try{i=await this.resolve(n.value)}catch(c){o=c}if(!this.connecting)throw new Error(Wa.CONNECTION_CLOSED_ERROR_MSG);let a=n.value.host+":"+n.value.port;if(i)return Ao("resolved: %s:%s from sentinel %s",i.host,i.port,a),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(i,this.options.tls),this.stream=(0,qZ.connect)(i),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,NZ.createConnection)(i),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",c=>{this.firstError=c}),this.stream;{let c=o?"failed to connect to sentinel "+a+" because "+o.message:"connected to sentinel "+a+" successfully, but got an invalid reply: "+i;return Ao(c),e("sentinelError",new Error(c)),o&&(r=o),s()}};return s()}async updateSentinels(e){if(!this.options.updateSentinels)return;let r=await e.sentinel("sentinels",this.options.name);Array.isArray(r)&&(r.map(Wa.packObject).forEach(s=>{if((s.flags?s.flags.split(","):[]).indexOf("disconnected")===-1&&s.ip&&s.port){let i=this.sentinelNatResolve(EP(s));this.sentinelIterator.add(i)&&Ao("adding sentinel %s:%s",i.host,i.port)}}),Ao("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(e){let r=await e.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(e),this.sentinelNatResolve(Array.isArray(r)?{host:r[0],port:Number(r[1])}:null)}async resolveSlave(e){let r=await e.sentinel("slaves",this.options.name);if(!Array.isArray(r))return null;let s=r.map(Wa.packObject).filter(n=>n.flags&&!n.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(FZ(s,this.options.preferredSlaves))}sentinelNatResolve(e){if(!e||!this.options.natMap)return e;let r=`${e.host}:${e.port}`,s=e;return typeof this.options.natMap=="function"?s=this.options.natMap(r)||e:typeof this.options.natMap=="object"&&(s=this.options.natMap[r]||e),s}connectToSentinel(e,r){return new LZ.default({port:e.port||26379,host:e.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:e.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...r})}async resolve(e){let r=this.connectToSentinel(e);r.on("error",zZ);try{return this.options.role==="slave"?await this.resolveSlave(r):await this.resolveMaster(r)}finally{r.disconnect()}}async initFailoverDetector(){var e;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);let r=[];for(;r.length<this.options.sentinelMaxConnections;){let{done:s,value:n}=this.sentinelIterator.next();if(s)break;let i=this.connectToSentinel(n,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});i.on("reconnecting",()=>{var o;(o=this.emitter)===null||o===void 0||o.emit("sentinelReconnecting")}),r.push({address:n,client:i})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new UZ.FailoverDetector(this,r),await this.failoverDetector.subscribe(),(e=this.emitter)===null||e===void 0||e.emit("failoverSubscribed")}};Qa.default=Ib;function FZ(t,e){if(t.length===0)return null;let r;if(typeof e=="function")r=e(t);else if(e!==null&&typeof e=="object"){let s=Array.isArray(e)?e:[e];s.sort((n,i)=>(n.prio||(n.prio=1),i.prio||(i.prio=1),n.prio<i.prio?-1:n.prio>i.prio?1:0));for(let n=0;n<s.length;n++){for(let i=0;i<t.length;i++){let o=t[i];if(o.ip===s[n].ip&&o.port===s[n].port){r=o;break}}if(r)break}}return r||(r=(0,Wa.sample)(t)),EP(r)}function EP(t){return{host:t.ip,port:Number(t.port)}}function zZ(){}});var AP=g(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.SentinelConnector=To.StandaloneConnector=void 0;var HZ=xP();To.StandaloneConnector=HZ.default;var ZZ=Ip();To.SentinelConnector=ZZ.default});var TP=g(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});var VZ=mi(),jb=class extends VZ.AbortError{constructor(e){let r=`Reached the max retries per request limit (which is ${e}). Refer to "maxRetriesPerRequest" option for details.`;super(r),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};Db.default=jb});var OP=g(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.MaxRetriesPerRequestError=void 0;var $Z=TP();jp.MaxRetriesPerRequestError=$Z.default});var BP=g((fee,DP)=>{"use strict";var Ub=require("buffer").Buffer,KZ=require("string_decoder").StringDecoder,Bb=new KZ,PP=mi(),GZ=PP.ReplyError,WZ=PP.ParserError,Tr=Ub.allocUnsafe(32*1024),Lt=0,Dp=null,Ja=0,Nb=0;function QZ(t){let e=t.buffer.length-1;var r=t.offset,s=0,n=1;for(t.buffer[r]===45&&(n=-1,r++);r<e;){let i=t.buffer[r++];if(i===13)return t.offset=r+1,n*s;s=s*10+(i-48)}}function JZ(t){let e=t.buffer.length-1;var r=t.offset,s=0,n="";for(t.buffer[r]===45&&(n+="-",r++);r<e;){var i=t.buffer[r++];if(i===13)return t.offset=r+1,s!==0&&(n+=s),n;s>429496728?(n+=s*10+(i-48),s=0):i===48&&s===0?n+=0:s=s*10+(i-48)}}function CP(t){let e=t.offset,r=t.buffer,s=r.length-1;for(var n=e;n<s;)if(r[n++]===13)return t.offset=n+1,t.optionReturnBuffers===!0?t.buffer.slice(e,n-1):t.buffer.toString("utf8",e,n-1)}function RP(t){let e=t.buffer.length-1;for(var r=t.offset,s=0;r<e;){let n=t.buffer[r++];if(n===13)return t.offset=r+1,s;s=s*10+(n-48)}}function YZ(t){return t.optionStringNumbers===!0?JZ(t):QZ(t)}function XZ(t){let e=RP(t);if(e===void 0)return;if(e<0)return null;let r=t.offset+e;if(r+2>t.buffer.length){t.bigStrSize=r+2,t.totalChunkSize=t.buffer.length,t.bufferCache.push(t.buffer);return}let s=t.offset;return t.offset=r+2,t.optionReturnBuffers===!0?t.buffer.slice(s,r):t.buffer.toString("utf8",s,r)}function eV(t){var e=CP(t);if(e!==void 0)return t.optionReturnBuffers===!0&&(e=e.toString()),new GZ(e)}function tV(t,e){let r=new WZ("Protocol error, got "+JSON.stringify(String.fromCharCode(e))+" as reply type byte",JSON.stringify(t.buffer),t.offset);t.buffer=null,t.returnFatalError(r)}function rV(t){let e=RP(t);if(e===void 0)return;if(e<0)return null;let r=new Array(e);return IP(t,r,0)}function qb(t,e,r){t.arrayCache.push(e),t.arrayPos.push(r)}function Mb(t){let e=t.arrayCache.pop();var r=t.arrayPos.pop();if(t.arrayCache.length){let s=Mb(t);if(s===void 0){qb(t,e,r);return}e[r++]=s}return IP(t,e,r)}function IP(t,e,r){let s=t.buffer.length;for(;r<e.length;){let n=t.offset;if(t.offset>=s){qb(t,e,r);return}let i=jP(t,t.buffer[t.offset++]);if(i===void 0){t.arrayCache.length||t.bufferCache.length||(t.offset=n),qb(t,e,r);return}e[r]=i,r++}return e}function jP(t,e){switch(e){case 36:return XZ(t);case 43:return CP(t);case 42:return rV(t);case 58:return YZ(t);case 45:return eV(t);default:return tV(t,e)}}function sV(){if(Tr.length>50*1024)if(Ja===1||Nb>Ja*2){let t=Math.floor(Tr.length/10),e=t<Lt?Lt:t;Lt=0,Tr=Tr.slice(e,Tr.length)}else Nb++,Ja--;else clearInterval(Dp),Ja=0,Nb=0,Dp=null}function nV(t){if(Tr.length<t+Lt){let e=t>78643200?2:3;Lt>1024*1024*111&&(Lt=1024*1024*50),Tr=Ub.allocUnsafe(t*e+Lt),Lt=0,Ja++,Dp===null&&(Dp=setInterval(sV,50))}}function iV(t){let e=t.bufferCache,r=t.offset;var s=e.length,n=t.bigStrSize-t.totalChunkSize;if(t.offset=n,n<=2){if(s===2)return e[0].toString("utf8",r,e[0].length+n-2);s--,n=e[e.length-2].length+n}for(var i=Bb.write(e[0].slice(r)),o=1;o<s-1;o++)i+=Bb.write(e[o]);return i+=Bb.end(e[o].slice(0,n-2)),i}function oV(t){let e=t.bufferCache,r=t.offset,s=t.bigStrSize-r-2;var n=e.length,i=t.bigStrSize-t.totalChunkSize;if(t.offset=i,i<=2){if(n===2)return e[0].slice(r,e[0].length+i-2);n--,i=e[e.length-2].length+i}nV(s);let o=Lt;e[0].copy(Tr,o,r,e[0].length),Lt+=e[0].length-r;for(var a=1;a<n-1;a++)e[a].copy(Tr,Lt),Lt+=e[a].length;return e[a].copy(Tr,Lt,0,i-2),Lt+=i-2,Tr.slice(o,Lt)}var Lb=class{constructor(e){if(!e)throw new TypeError("Options are mandatory.");if(typeof e.returnError!="function"||typeof e.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!e.returnBuffers),this.setStringNumbers(!!e.stringNumbers),this.returnError=e.returnError,this.returnFatalError=e.returnFatalError||e.returnError,this.returnReply=e.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(e){if(typeof e!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=e}setStringNumbers(e){if(typeof e!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=e}execute(e){if(this.buffer===null)this.buffer=e,this.offset=0;else if(this.bigStrSize===0){let s=this.buffer.length,n=s-this.offset,i=Ub.allocUnsafe(n+e.length);if(this.buffer.copy(i,0,this.offset,s),e.copy(i,n,0,e.length),this.buffer=i,this.offset=0,this.arrayCache.length){let o=Mb(this);if(o===void 0)return;this.returnReply(o)}}else if(this.totalChunkSize+e.length>=this.bigStrSize){this.bufferCache.push(e);var r=this.optionReturnBuffers?oV(this):iV(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=e,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=r,r=Mb(this),r===void 0))return;this.returnReply(r)}else{this.bufferCache.push(e),this.totalChunkSize+=e.length;return}for(;this.offset<this.buffer.length;){let s=this.offset,n=this.buffer[this.offset++],i=jP(this,n);if(i===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=s);return}n===45?this.returnError(i):this.returnReply(i)}this.buffer=null}};DP.exports=Lb});var qP=g((hee,NP)=>{"use strict";NP.exports=BP()});var MP=g(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});var zb=class{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(e,r){this.set[Fb(e)][r]=!0}del(e,r){delete this.set[Fb(e)][r]}channels(e){return Object.keys(this.set[Fb(e)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}};Hb.default=zb;function Fb(t){return t==="unsubscribe"?"subscribe":t==="punsubscribe"?"psubscribe":t==="sunsubscribe"?"ssubscribe":t}});var zP=g(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});var LP=hs(),aV=wt(),cV=qP(),uV=MP(),lV=(0,aV.Debug)("dataHandler"),Zb=class{constructor(e,r){this.redis=e;let s=new cV({stringNumbers:r.stringNumbers,returnBuffers:!0,returnError:n=>{this.returnError(n)},returnFatalError:n=>{this.returnFatalError(n)},returnReply:n=>{this.returnReply(n)}});e.stream.prependListener("data",n=>{s.execute(n)}),e.stream.resume()}returnFatalError(e){e.message+=". Please report this.",this.redis.recoverFromFatalError(e,e,{offlineQueue:!1})}returnError(e){let r=this.shiftCommand(e);r&&(e.command={name:r.command.name,args:r.command.args},this.redis.handleReconnection(e,r))}returnReply(e){if(this.handleMonitorReply(e)||this.handleSubscriberReply(e))return;let r=this.shiftCommand(e);r&&(LP.default.checkFlag("ENTER_SUBSCRIBER_MODE",r.command.name)?(this.redis.condition.subscriber=new uV.default,this.redis.condition.subscriber.add(r.command.name,e[1].toString()),UP(r.command,e[2])||this.redis.commandQueue.unshift(r)):LP.default.checkFlag("EXIT_SUBSCRIBER_MODE",r.command.name)?FP(r.command,e[2])||this.redis.commandQueue.unshift(r):r.command.resolve(e))}handleSubscriberReply(e){if(!this.redis.condition.subscriber)return!1;let r=Array.isArray(e)?e[0].toString():null;switch(lV('receive reply "%s" in subscriber mode',r),r){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("messageBuffer",e[1],e[2]);break;case"pmessage":{let s=e[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",s,e[2].toString(),e[3].toString()),this.redis.emit("pmessageBuffer",s,e[2],e[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("smessageBuffer",e[1],e[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{let s=e[1].toString();this.redis.condition.subscriber.add(r,s);let n=this.shiftCommand(e);if(!n)return;UP(n.command,e[2])||this.redis.commandQueue.unshift(n);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{let s=e[1]?e[1].toString():null;s&&this.redis.condition.subscriber.del(r,s);let n=e[2];Number(n)===0&&(this.redis.condition.subscriber=!1);let i=this.shiftCommand(e);if(!i)return;FP(i.command,n)||this.redis.commandQueue.unshift(i);break}default:{let s=this.shiftCommand(e);if(!s)return;s.command.resolve(e)}}return!0}handleMonitorReply(e){if(this.redis.status!=="monitoring")return!1;let r=e.toString();if(r==="OK")return!1;let s=r.indexOf(" "),n=r.slice(0,s),i=r.indexOf('"'),o=r.slice(i+1,-1).split('" "').map(c=>c.replace(/\\"/g,'"')),a=r.slice(s+2,i-2).split(" ");return this.redis.emit("monitor",n,o,a[1],a[0]),!0}shiftCommand(e){let r=this.redis.commandQueue.shift();if(!r){let s="Command queue state error. If you can reproduce this, please report it.",n=new Error(s+(e instanceof Error?` Last error: ${e.message}`:` Last reply: ${e.toString()}`));return this.redis.emit("error",n),null}return r}};Vb.default=Zb;var en=new WeakMap;function UP(t,e){let r=en.has(t)?en.get(t):t.args.length;return r-=1,r<=0?(t.resolve(e),en.delete(t),!0):(en.set(t,r),!1)}function FP(t,e){let r=en.has(t)?en.get(t):t.args.length;return r===0?Number(e)===0?(en.delete(t),t.resolve(e),!0):!1:(r-=1,r<=0?(t.resolve(e),!0):(en.set(t,r),!1))}});var HP=g(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.readyHandler=yr.errorHandler=yr.closeHandler=yr.connectHandler=void 0;var pV=mi(),dV=hs(),fV=OP(),Ya=wt(),hV=zP(),It=(0,Ya.Debug)("connection");function mV(t){return function(){t.setStatus("connect"),t.resetCommandQueue();let e=!1,{connectionEpoch:r}=t;t.condition.auth&&t.auth(t.condition.auth,function(s){r===t.connectionEpoch&&s&&(s.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):s.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):s.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(e=!0,t.recoverFromFatalError(s,s)))}),t.condition.select&&t.select(t.condition.select).catch(s=>{t.silentEmit("error",s)}),t.options.enableReadyCheck||yr.readyHandler(t)(),new hV.default(t,{stringNumbers:t.options.stringNumbers}),t.options.enableReadyCheck&&t._readyCheck(function(s,n){r===t.connectionEpoch&&(s?e||t.recoverFromFatalError(new Error("Ready check failed: "+s.message),s):t.connector.check(n)?yr.readyHandler(t)():t.disconnect(!0))})}}yr.connectHandler=mV;function $b(t){let e=new pV.AbortError("Command aborted due to connection close");return e.command={name:t.name,args:t.args},e}function yV(t){var e;let r=0;for(let s=0;s<t.length;){let n=(e=t.peekAt(s))===null||e===void 0?void 0:e.command,i=n.pipelineIndex;if((i===void 0||i===0)&&(r=0),i!==void 0&&i!==r++){t.remove(s,1),n.reject($b(n));continue}s++}}function gV(t){var e;for(let r=0;r<t.length;){let s=(e=t.peekAt(r))===null||e===void 0?void 0:e.command;if(s.name==="multi")break;if(s.name==="exec"){t.remove(r,1),s.reject($b(s));break}s.inTransaction?(t.remove(r,1),s.reject($b(s))):r++}}function bV(t){return function(){let r=t.status;if(t.setStatus("close"),t.commandQueue.length&&yV(t.commandQueue),t.offlineQueue.length&&gV(t.offlineQueue),r==="ready"&&(t.prevCondition||(t.prevCondition=t.condition),t.commandQueue.length&&(t.prevCommandQueue=t.commandQueue)),t.manuallyClosing)return t.manuallyClosing=!1,It("skip reconnecting since the connection is manually closed."),e();if(typeof t.options.retryStrategy!="function")return It("skip reconnecting because `retryStrategy` is not a function"),e();let s=t.options.retryStrategy(++t.retryAttempts);if(typeof s!="number")return It("skip reconnecting because `retryStrategy` doesn't return a number"),e();It("reconnect in %sms",s),t.setStatus("reconnecting",s),t.reconnectTimeout=setTimeout(function(){t.reconnectTimeout=null,t.connect().catch(Ya.noop)},s);let{maxRetriesPerRequest:n}=t.options;typeof n=="number"&&(n<0?It("maxRetriesPerRequest is negative, ignoring..."):t.retryAttempts%(n+1)===0&&(It("reach maxRetriesPerRequest limitation, flushing command queue..."),t.flushQueue(new fV.MaxRetriesPerRequestError(n))))};function e(){t.setStatus("end"),t.flushQueue(new Error(Ya.CONNECTION_CLOSED_ERROR_MSG))}}yr.closeHandler=bV;function vV(t){return function(e){It("error: %s",e),t.silentEmit("error",e)}}yr.errorHandler=vV;function xV(t){return function(){if(t.setStatus("ready"),t.retryAttempts=0,t.options.monitor){t.call("monitor").then(()=>t.setStatus("monitoring"),s=>t.emit("error",s));let{sendCommand:r}=t;t.sendCommand=function(s){return dV.default.checkFlag("VALID_IN_MONITOR_MODE",s.name)?r.call(t,s):(s.reject(new Error("Connection is in monitoring mode, can't process commands.")),s.promise)},t.once("close",function(){delete t.sendCommand});return}let e=t.prevCondition?t.prevCondition.select:t.condition.select;if(t.options.connectionName&&(It("set the connection name [%s]",t.options.connectionName),t.client("setname",t.options.connectionName).catch(Ya.noop)),t.options.readOnly&&(It("set the connection to readonly mode"),t.readonly().catch(Ya.noop)),t.prevCondition){let r=t.prevCondition;if(t.prevCondition=null,r.subscriber&&t.options.autoResubscribe){t.condition.select!==e&&(It("connect to db [%d]",e),t.select(e));let s=r.subscriber.channels("subscribe");s.length&&(It("subscribe %d channels",s.length),t.subscribe(s));let n=r.subscriber.channels("psubscribe");n.length&&(It("psubscribe %d channels",n.length),t.psubscribe(n));let i=r.subscriber.channels("ssubscribe");i.length&&(It("ssubscribe %d channels",i.length),t.ssubscribe(i))}}if(t.prevCommandQueue)if(t.options.autoResendUnfulfilledCommands)for(It("resend %d unfulfilled commands",t.prevCommandQueue.length);t.prevCommandQueue.length>0;){let r=t.prevCommandQueue.shift();r.select!==t.condition.select&&r.command.name!=="select"&&t.select(r.select),t.sendCommand(r.command,r.stream)}else t.prevCommandQueue=null;if(t.offlineQueue.length){It("send %d commands in offline queue",t.offlineQueue.length);let r=t.offlineQueue;for(t.resetOfflineQueue();r.length>0;){let s=r.shift();s.select!==t.condition.select&&s.command.name!=="select"&&t.select(s.select),t.sendCommand(s.command,s.stream)}}t.condition.select!==e&&(It("connect to db [%d]",e),t.select(e))}}yr.readyHandler=xV});var ZP=g(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.DEFAULT_REDIS_OPTIONS=void 0;Bp.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:4,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(t){return Math.min(t*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(t){return Math.min(t*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10}});var Xs=g(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});var VP=bo(),KP=require("events"),Kb=Gs(),_V=Sb(),Gb=hs(),wV=AP(),SV=Ip(),tn=HP(),kV=ZP(),EV=wp(),AV=ob(),bi=wt(),TV=cb(),OV=kp(),rn=yp(),$P=Op(),sn=(0,bi.Debug)("redis"),nn=class t extends OV.default{constructor(e,r,s){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(e,r,s),KP.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){let n=new SV.default(this.options);n.emitter=this,this.connector=n}else this.connector=new wV.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([n,i])=>{this.defineCommand(n,i)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(rn.noop)}static createClient(...e){return new t(...e)}get autoPipelineQueueSize(){let e=0;for(let r of this._autoPipelines.values())e+=r.length;return e}connect(e){let r=new Promise((s,n)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){n(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");let{options:i}=this;this.condition={select:i.db,auth:i.username?[i.username,i.password]:i.password,subscriber:!1};let o=this;(0,Kb.default)(this.connector.connect(function(a,c){o.silentEmit(a,c)}),function(a,c){if(a){o.flushQueue(a),o.silentEmit("error",a),n(a),o.setStatus("end");return}let u=i.tls?"secureConnect":"connect";if("sentinels"in i&&i.sentinels&&!i.enableTLSForSentinelMode&&(u="connect"),o.stream=c,i.noDelay&&c.setNoDelay(!0),typeof i.keepAlive=="number"&&(c.connecting?c.once(u,()=>{c.setKeepAlive(!0,i.keepAlive)}):c.setKeepAlive(!0,i.keepAlive)),c.connecting){if(c.once(u,tn.connectHandler(o)),i.connectTimeout){let y=!1;c.setTimeout(i.connectTimeout,function(){if(y)return;c.setTimeout(0),c.destroy();let f=new Error("connect ETIMEDOUT");f.errorno="ETIMEDOUT",f.code="ETIMEDOUT",f.syscall="connect",tn.errorHandler(o)(f)}),c.once(u,function(){y=!0,c.setTimeout(0)})}}else if(c.destroyed){let y=o.connector.firstError;y&&process.nextTick(()=>{tn.errorHandler(o)(y)}),process.nextTick(tn.closeHandler(o))}else process.nextTick(tn.connectHandler(o));c.destroyed||(c.once("error",tn.errorHandler(o)),c.once("close",tn.closeHandler(o)));let l=function(){o.removeListener("close",p),s()};var p=function(){o.removeListener("ready",l),n(new Error(bi.CONNECTION_CLOSED_ERROR_MSG))};o.once("ready",l),o.once("close",p)})});return(0,Kb.default)(r,e)}disconnect(e=!1){e||(this.manuallyClosing=!0),this.reconnectTimeout&&!e&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?tn.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(e){return new t({...this.options,...e})}get mode(){var e;return this.options.monitor?"monitor":!((e=this.condition)===null||e===void 0)&&e.subscriber?"subscriber":"normal"}monitor(e){let r=this.duplicate({monitor:!0,lazyConnect:!1});return(0,Kb.default)(new Promise(function(s,n){r.once("error",n),r.once("monitoring",function(){s(r)})}),e)}sendCommand(e,r){var s,n;if(this.status==="wait"&&this.connect().catch(rn.noop),this.status==="end")return e.reject(new Error(bi.CONNECTION_CLOSED_ERROR_MSG)),e.promise;if(!((s=this.condition)===null||s===void 0)&&s.subscriber&&!Gb.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",e.name))return e.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),e.promise;typeof this.options.commandTimeout=="number"&&e.setTimeout(this.options.commandTimeout);let i=this.status==="ready"||!r&&this.status==="connect"&&(0,VP.exists)(e.name)&&(0,VP.hasFlag)(e.name,"loading");if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(i=!1):i=!1,i)sn.enabled&&sn("write command[%s]: %d -> %s(%o)",this._getDescription(),(n=this.condition)===null||n===void 0?void 0:n.select,e.name,e.args),r?"isPipeline"in r&&r.isPipeline?r.write(e.toWritable(r.destination.redis.stream)):r.write(e.toWritable(r)):this.stream.write(e.toWritable(this.stream)),this.commandQueue.push({command:e,stream:r,select:this.condition.select}),Gb.default.checkFlag("WILL_DISCONNECT",e.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return e.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),e.promise;if(e.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),e.resolve(Buffer.from("OK")),e.promise;sn.enabled&&sn("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,e.name,e.args),this.offlineQueue.push({command:e,stream:r,select:this.condition.select})}if(e.name==="select"&&(0,bi.isInt)(e.args[0])){let o=parseInt(e.args[0],10);this.condition.select!==o&&(this.condition.select=o,this.emit("select",o),sn("switch to db [%d]",this.condition.select))}return e.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(e){return this.createScanStream("scan",{options:e})}scanBufferStream(e){return this.createScanStream("scanBuffer",{options:e})}sscanStream(e,r){return this.createScanStream("sscan",{key:e,options:r})}sscanBufferStream(e,r){return this.createScanStream("sscanBuffer",{key:e,options:r})}hscanStream(e,r){return this.createScanStream("hscan",{key:e,options:r})}hscanBufferStream(e,r){return this.createScanStream("hscanBuffer",{key:e,options:r})}zscanStream(e,r){return this.createScanStream("zscan",{key:e,options:r})}zscanBufferStream(e,r){return this.createScanStream("zscanBuffer",{key:e,options:r})}silentEmit(e,r){let s;if(!(e==="error"&&(s=r,this.status==="end"||this.manuallyClosing&&s instanceof Error&&(s.message===bi.CONNECTION_CLOSED_ERROR_MSG||s.syscall==="connect"||s.syscall==="read"))))return this.listeners(e).length>0?this.emit.apply(this,arguments):(s&&s instanceof Error&&console.error("[ioredis] Unhandled error event:",s.stack),!1)}recoverFromFatalError(e,r,s){this.flushQueue(r,s),this.silentEmit("error",r),this.disconnect(!0)}handleReconnection(e,r){var s;let n=!1;switch(this.options.reconnectOnError&&(n=this.options.reconnectOnError(e)),n){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),r.command.reject(e);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((s=this.condition)===null||s===void 0?void 0:s.select)!==r.select&&r.command.name!=="select"&&this.select(r.select),this.sendCommand(r.command);break;default:r.command.reject(e)}}_getDescription(){let e;return"path"in this.options&&this.options.path?e=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?e=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?e=this.options.host+":"+this.options.port:e="",this.options.connectionName&&(e+=` (${this.options.connectionName})`),e}resetCommandQueue(){this.commandQueue=new $P}resetOfflineQueue(){this.offlineQueue=new $P}parseOptions(...e){let r={},s=!1;for(let n=0;n<e.length;++n){let i=e[n];if(!(i===null||typeof i>"u"))if(typeof i=="object")(0,rn.defaults)(r,i);else if(typeof i=="string")(0,rn.defaults)(r,(0,bi.parseURL)(i)),i.startsWith("rediss://")&&(s=!0);else if(typeof i=="number")r.port=i;else throw new Error("Invalid argument "+i)}s&&(0,rn.defaults)(r,{tls:!0}),(0,rn.defaults)(r,t.defaultOptions),typeof r.port=="string"&&(r.port=parseInt(r.port,10)),typeof r.db=="string"&&(r.db=parseInt(r.db,10)),this.options=(0,bi.resolveTLSProfile)(r)}setStatus(e,r){sn.enabled&&sn("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",e),this.status=e,process.nextTick(this.emit.bind(this,e,r))}createScanStream(e,{key:r,options:s={}}){return new EV.default({objectMode:!0,key:r,redis:this,command:e,...s})}flushQueue(e,r){r=(0,rn.defaults)({},r,{offlineQueue:!0,commandQueue:!0});let s;if(r.offlineQueue)for(;s=this.offlineQueue.shift();)s.command.reject(e);if(r.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");s=this.commandQueue.shift();)s.command.reject(e)}_readyCheck(e){let r=this;this.info(function(s,n){if(s)return s.message&&s.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${s.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),e(null,{})):e(s);if(typeof n!="string")return e(null,n);let i={},o=n.split(`\r
`);for(let a=0;a<o.length;++a){let[c,...u]=o[a].split(":"),l=u.join(":");l&&(i[c]=l)}if(!i.loading||i.loading==="0")e(null,i);else{let a=(i.loading_eta_seconds||1)*1e3,c=r.options.maxLoadingRetryTime&&r.options.maxLoadingRetryTime<a?r.options.maxLoadingRetryTime:a;sn("Redis server still loading, trying again in "+c+"ms"),setTimeout(function(){r._readyCheck(e)},c)}}).catch(rn.noop)}};nn.Cluster=_V.default;nn.Command=Gb.default;nn.defaultOptions=kV.DEFAULT_REDIS_OPTIONS;(0,TV.default)(nn,KP.EventEmitter);(0,AV.addTransactionSupport)(nn.prototype);Wb.default=nn});var QP=g((Fe,WP)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.print=Fe.ReplyError=Fe.SentinelIterator=Fe.SentinelConnector=Fe.AbstractConnector=Fe.Pipeline=Fe.ScanStream=Fe.Command=Fe.Cluster=Fe.Redis=Fe.default=void 0;Fe=WP.exports=Xs().default;var PV=Xs();Object.defineProperty(Fe,"default",{enumerable:!0,get:function(){return PV.default}});var CV=Xs();Object.defineProperty(Fe,"Redis",{enumerable:!0,get:function(){return CV.default}});var RV=Sb();Object.defineProperty(Fe,"Cluster",{enumerable:!0,get:function(){return RV.default}});var IV=hs();Object.defineProperty(Fe,"Command",{enumerable:!0,get:function(){return IV.default}});var jV=wp();Object.defineProperty(Fe,"ScanStream",{enumerable:!0,get:function(){return jV.default}});var DV=sb();Object.defineProperty(Fe,"Pipeline",{enumerable:!0,get:function(){return DV.default}});var BV=Cp();Object.defineProperty(Fe,"AbstractConnector",{enumerable:!0,get:function(){return BV.default}});var GP=Ip();Object.defineProperty(Fe,"SentinelConnector",{enumerable:!0,get:function(){return GP.default}});Object.defineProperty(Fe,"SentinelIterator",{enumerable:!0,get:function(){return GP.SentinelIterator}});Fe.ReplyError=mi().ReplyError;Object.defineProperty(Fe,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(t){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function NV(t,e){console.log(t?"Error: "+t:"Reply: "+e)}Fe.print=NV});var iC=g(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.shake256=Ve.shake128=Ve.keccak_512=Ve.keccak_384=Ve.keccak_256=Ve.keccak_224=Ve.sha3_512=Ve.sha3_384=Ve.sha3_256=Ve.sha3_224=Ve.Keccak=void 0;Ve.keccakP=sC;var ec=$h(),jt=ps(),qV=BigInt(0),Xa=BigInt(1),MV=BigInt(2),LV=BigInt(7),UV=BigInt(256),FV=BigInt(113),XP=[],eC=[],tC=[];for(let t=0,e=Xa,r=1,s=0;t<24;t++){[r,s]=[s,(2*r+3*s)%5],XP.push(2*(5*s+r)),eC.push((t+1)*(t+2)/2%64);let n=qV;for(let i=0;i<7;i++)e=(e<<Xa^(e>>LV)*FV)%UV,e&MV&&(n^=Xa<<(Xa<<BigInt(i))-Xa);tC.push(n)}var rC=(0,ec.split)(tC,!0),zV=rC[0],HV=rC[1],JP=(t,e,r)=>r>32?(0,ec.rotlBH)(t,e,r):(0,ec.rotlSH)(t,e,r),YP=(t,e,r)=>r>32?(0,ec.rotlBL)(t,e,r):(0,ec.rotlSL)(t,e,r);function sC(t,e=24){let r=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],p=JP(u,l,1)^r[a],y=YP(u,l,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=p,t[o+f+1]^=y}let n=t[2],i=t[3];for(let o=0;o<24;o++){let a=eC[o],c=JP(n,i,a),u=YP(n,i,a),l=XP[o];n=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=zV[s],t[1]^=HV[s]}(0,jt.clean)(r)}var tc=class t extends jt.Hash{constructor(e,r,s,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=s,this.enableXOF=n,this.rounds=i,(0,jt.anumber)(s),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,jt.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,jt.swap32IfBE)(this.state32),sC(this.state32,this.rounds),(0,jt.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,jt.aexists)(this),e=(0,jt.toBytes)(e),(0,jt.abytes)(e);let{blockLen:r,state:s}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(r-this.pos,n-i);for(let a=0;a<o;a++)s[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:s,blockLen:n}=this;e[s]^=r,r&128&&s===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,jt.aexists)(this,!1),(0,jt.abytes)(e),this.finish();let r=this.state,{blockLen:s}=this;for(let n=0,i=e.length;n<i;){this.posOut>=s&&this.keccak();let o=Math.min(s-this.posOut,i-n);e.set(r.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,jt.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,jt.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,jt.clean)(this.state)}_cloneInto(e){let{blockLen:r,suffix:s,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new t(r,s,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=s,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}};Ve.Keccak=tc;var on=(t,e,r)=>(0,jt.createHasher)(()=>new tc(e,t,r));Ve.sha3_224=on(6,144,224/8);Ve.sha3_256=on(6,136,256/8);Ve.sha3_384=on(6,104,384/8);Ve.sha3_512=on(6,72,512/8);Ve.keccak_224=on(1,144,224/8);Ve.keccak_256=on(1,136,256/8);Ve.keccak_384=on(1,104,384/8);Ve.keccak_512=on(1,72,512/8);var nC=(t,e,r)=>(0,jt.createXOFer)((s={})=>new tc(e,t,s.dkLen===void 0?r:s.dkLen,!0));Ve.shake128=nC(31,168,128/8);Ve.shake256=nC(31,136,256/8)});var fC=g((_ee,an)=>{var{sha3_512:ZV}=iC(),aC=24,rc=32,Qb=(t=4,e=Math.random)=>{let r="";for(;r.length<t;)r=r+Math.floor(e()*36).toString(36);return r};function cC(t){let e=8n,r=0n;for(let s of t.values()){let n=BigInt(s);r=(r<<e)+n}return r}var uC=(t="")=>cC(ZV(t)).toString(36).slice(1),oC=Array.from({length:26},(t,e)=>String.fromCharCode(e+97)),VV=t=>oC[Math.floor(t()*oC.length)],lC=({globalObj:t=typeof global<"u"?global:typeof window<"u"?window:{},random:e=Math.random}={})=>{let r=Object.keys(t).toString(),s=r.length?r+Qb(rc,e):Qb(rc,e);return uC(s).substring(0,rc)},pC=t=>()=>t++,$V=476782367,dC=({random:t=Math.random,counter:e=pC(Math.floor(t()*$V)),length:r=aC,fingerprint:s=lC({random:t})}={})=>function(){let i=VV(t),o=Date.now().toString(36),a=e().toString(36),c=Qb(r,t),u=`${o+c+a+s}`;return`${i+uC(u).substring(1,r)}`},KV=dC(),GV=(t,{minLength:e=2,maxLength:r=rc}={})=>{let s=t.length,n=/^[0-9a-z]+$/;try{if(typeof t=="string"&&s>=e&&s<=r&&n.test(t))return!0}finally{}return!1};an.exports.getConstants=()=>({defaultLength:aC,bigLength:rc});an.exports.init=dC;an.exports.createId=KV;an.exports.bufToBigInt=cC;an.exports.createCounter=pC;an.exports.createFingerprint=lC;an.exports.isCuid=GV});var hC=g((wee,sc)=>{var{createId:WV,init:QV,getConstants:JV,isCuid:YV}=fC();sc.exports.createId=WV;sc.exports.init=QV;sc.exports.getConstants=JV;sc.exports.isCuid=YV});var tv=g(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.ProcessHandler=Kr.UpstashProcessStore=Kr.RedisProcessStore=Kr.MemoryProcessStore=void 0;var mC=(Pe(),Ce(Oe)),Oo=mC.__importDefault(YT()),XV=ps(),e7=$u(),t7=Gu(),r7=QP(),Jb=hC(),s7=rv(),n7=mC.__importDefault(xa()),Np=class{constructor(){D(this,"processes",new Map)}async saveProcess(e){this.processes.set(e.id,e)}async getProcess(e){return this.processes.get(e)||null}async updateProcess(e,r){let s=this.processes.get(e);s&&this.processes.set(e,{...s,...r})}async getHumanAction(e,r){let s=await this.getProcess(e);return s&&s.humanActions.find(n=>n.id===r)||null}async updateHumanAction(e,r,s){let n=await this.getProcess(e);if(!n)throw new Error("Process not found");let i=n.humanActions.findIndex(o=>o.id===r);if(i===-1)throw new Error("Human action step not found");n.humanActions[i]={...n.humanActions[i],...s},await this.saveProcess(n)}};Kr.MemoryProcessStore=Np;var Yb=class{constructor(e){D(this,"redis");D(this,"prefix","process:");this.redis=new r7.Redis(e||process.env.REDIS_URL,{maxRetriesPerRequest:1,enableReadyCheck:!1,reconnectOnError:()=>!1})}async saveProcess(e){await this.redis.set(this.prefix+e.id,JSON.stringify(e))}async getProcess(e){let r=await this.redis.get(this.prefix+e);return r?JSON.parse(r):null}async updateProcess(e,r){let s=await this.getProcess(e);if(!s)throw new Error("Process not found");let n={...s,...r};await this.saveProcess(n)}async getHumanAction(e,r){let s=await this.getProcess(e);return s&&s.humanActions.find(n=>n.id===r)||null}async updateHumanAction(e,r,s){let n=await this.getProcess(e);if(!n)throw new Error("Process not found");let i=n.humanActions.findIndex(o=>o.id===r);if(i===-1)throw new Error("Human action step not found");n.humanActions[i]={...n.humanActions[i],...s},await this.saveProcess(n)}};Kr.RedisProcessStore=Yb;var Xb=class{constructor(){D(this,"baseUrl");D(this,"token");this.baseUrl=process.env.UPSTASH_REDIS_REST_URL,this.token=process.env.UPSTASH_REDIS_REST_TOKEN}async fetchRedis(e,r=!1){return await(await fetch(this.baseUrl+(r?"/pipeline":""),{method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async saveProcess(e){await this.fetchRedis(["SET",`process:${e.id}`,JSON.stringify(e)])}async getProcess(e){let r=await this.fetchRedis(["GET",`process:${e}`]);return r.result?JSON.parse(r.result):null}async updateProcess(e,r){let s=await this.getProcess(e);if(!s)throw new Error("Process not found");let n={...s,...r};await this.saveProcess(n)}async getHumanAction(e,r){let s=await this.getProcess(e);return s&&s.humanActions.find(n=>n.id===r)||null}async updateHumanAction(e,r,s){let n=await this.getProcess(e);if(!n)throw new Error("Process not found");let i=n.humanActions.findIndex(o=>o.id===r);if(i===-1)throw new Error("Human action step not found");n.humanActions[i]={...n.humanActions[i],...s},await this.saveProcess(n)}};Kr.UpstashProcessStore=Xb;var ev=class{constructor({serviceId:e,privateKey:r,apiKey:s,store:n,baseUrl:i,onHumanActionResponse:o}){D(this,"store");D(this,"serviceId");D(this,"privateKey");D(this,"baseUrl");D(this,"onHumanActionResponse");if(s){let a=(0,s7.parseApiKey)(s);this.serviceId="service_"+a.orgId+"_"+a.agentId,this.privateKey=n7.default.decode(a.privateKey)}else this.serviceId=e||(0,Jb.createId)(),this.privateKey=r;this.baseUrl=i,this.store=n||new Np,this.onHumanActionResponse=o}generateProcessId(){return`${this.serviceId}_${Date.now()}_${(0,Jb.createId)()}`}signWebhookPayload(e){let r=Date.now().toString(),s=JSON.stringify({...e,timestamp:r}),n=(0,t7.sha256)(s),i=e7.ed25519.sign(n,this.privateKey);return{signature:(0,XV.bytesToHex)(i),timestamp:r}}async createProcess(e,r,s,n){let i=this.generateProcessId(),o={id:i,name:s||"Process "+i,description:n||"Process "+i,agentId:e.id,webhookUrl:e.webhookUrl,type:r,status:"running",updates:[],results:[],agentInfo:e,humanActions:[]};if(await this.store.saveProcess(o),o.webhookUrl)try{let a={type:"process_created",processId:i,agentId:e.id,process:{id:i,name:o.name,description:o.description,type:o.type,agentId:e.id},serviceId:this.serviceId},{signature:c,timestamp:u}=this.signWebhookPayload(a);await Oo.default.post(o.webhookUrl,a,{headers:{"X-DAIN-SIGNATURE":c,"X-DAIN-TIMESTAMP":u,"X-DAIN-PROCESS-ID":i}})}catch(a){console.error("Failed to send webhook for process creation:",a)}return i}async addUpdate(e,r){let s=await this.store.getProcess(e);if(!s)throw new Error("Process not found");let n={...r,createdAt:new Date};if(s.updates.push(n),await this.store.updateProcess(e,{updates:s.updates}),s.webhookUrl)try{let i={type:"process_update",processId:e,agentId:s.agentId,update:n,serviceId:this.serviceId},{signature:o,timestamp:a}=this.signWebhookPayload(i);await Oo.default.post(s.webhookUrl,i,{headers:{"X-DAIN-SIGNATURE":o,"X-DAIN-TIMESTAMP":a,"X-DAIN-PROCESS-ID":e}})}catch(i){console.error("Failed to send webhook update:",i)}}async addResult(e,r){let s=await this.store.getProcess(e);if(!s)throw new Error("Process not found");if(s.results.push(r),s.type==="one-time"&&(s.status="completed"),await this.store.updateProcess(e,{results:s.results,status:s.status}),s.webhookUrl)try{let n={type:"process_result",processId:e,agentId:s.agentId,result:r,isComplete:s.type==="one-time",serviceId:this.serviceId},{signature:i,timestamp:o}=this.signWebhookPayload(n);await Oo.default.post(s.webhookUrl,n,{headers:{"X-DAIN-SIGNATURE":i,"X-DAIN-TIMESTAMP":o,"X-DAIN-PROCESS-ID":e}})}catch(n){console.error("Failed to send webhook result:",n)}}async getProcess(e){return await this.store.getProcess(e)}async failProcess(e,r){let s=await this.store.getProcess(e);if(!s)throw new Error("Process not found");if(s.status="failed",await this.store.updateProcess(e,{status:"failed"}),s.webhookUrl)try{let n={type:"process_failed",processId:e,agentId:s.agentId,error:r,serviceId:this.serviceId},{signature:i,timestamp:o}=this.signWebhookPayload(n);await Oo.default.post(s.webhookUrl,n,{headers:{"X-DAIN-SIGNATURE":i,"X-DAIN-TIMESTAMP":o,"X-DAIN-PROCESS-ID":e}})}catch(n){console.error("Failed to send webhook failure:",n)}}async getProcessStatus(e,r){let s=await this.store.getProcess(e);if(!s)return null;if(s.agentId!==r)throw new Error("Unauthorized access to process");return{id:s.id,status:s.status,updates:s.updates,results:s.results,humanActions:s.humanActions||[]}}async requestHumanAction(e,r){let s=await this.store.getProcess(e);if(!s)throw new Error("Process not found");let n=(0,Jb.createId)(),i=r.actions.map(a=>({...a,callbackUrl:this.baseUrl?`${this.baseUrl}/processes/${e}/human-actions/${n}/respond`:void 0})),o={id:n,processId:e,message:r.message,ui:r.ui,actions:i,status:"pending",createdAt:new Date,timeoutAt:r.timeoutMs?new Date(Date.now()+r.timeoutMs):void 0,_metadata:r.metadata};if(s.humanActions||(s.humanActions=[]),s.humanActions.push(o),await this.store.saveProcess(s),s.webhookUrl)try{let{_metadata:a,...c}=o,u={type:"human_action_requested",processId:e,agentId:s.agentId,serviceId:this.serviceId,step:c},{signature:l,timestamp:p}=this.signWebhookPayload(u);await Oo.default.post(s.webhookUrl,u,{headers:{"X-DAIN-SIGNATURE":l,"X-DAIN-TIMESTAMP":p,"X-DAIN-PROCESS-ID":e}})}catch(a){console.error("Failed to send human action webhook:",a)}return r.timeoutMs&&setTimeout(async()=>{let a=await this.store.getHumanAction(e,n);a&&a.status==="pending"&&await this.store.updateHumanAction(e,n,{status:"timeout"})},r.timeoutMs),n}async checkHumanAction(e,r){let s=await this.store.getHumanAction(e,r);if(!s)throw new Error("Human action step not found");return{status:s.status,response:s.response}}async waitForHumanAction(e,r,s=3e5){return new Promise(async(n,i)=>{let o=setTimeout(()=>{i(new Error("Waiting for human action timed out"))},s),a=async()=>{try{let c=await this.checkHumanAction(e,r);switch(c.status){case"completed":if(clearTimeout(o),!c.response){i(new Error("No response found for completed action"));return}n(c.response);break;case"failed":case"timeout":clearTimeout(o),i(new Error(`Human action ${c.status}`));break;case"pending":setTimeout(a,1e3);break}}catch(c){clearTimeout(o),i(c)}};await a()})}async respondToHumanAction(e,r,s,n,i){let o=await this.store.getHumanAction(e,r);if(!o)throw new Error("Human action step not found");if(o.status!=="pending")throw new Error("Human action is no longer pending");let a=o.actions.find(l=>l.id===s);if(!a)throw new Error(`Invalid action ID: ${s}`);if(a.requiresResponse&&!n)throw new Error(`Response text is required for action: ${s}`);let c={actionId:s,responseText:n,timestamp:new Date,data:i},u=await this.store.getProcess(e);if(!u)throw new Error("Process not found");if(await this.store.updateHumanAction(e,r,{status:"completed",response:c}),this.onHumanActionResponse&&await this.onHumanActionResponse({process:u,stepId:r,actionId:s,responseText:n,data:i}),u.webhookUrl)try{let{_metadata:l,...p}=o,y={type:"human_action_completed",processId:e,agentId:u.agentId,serviceId:this.serviceId,step:{...p,status:"completed",response:c}},{signature:f,timestamp:d}=this.signWebhookPayload(y);await Oo.default.post(u.webhookUrl,y,{headers:{"X-DAIN-SIGNATURE":f,"X-DAIN-TIMESTAMP":d,"X-DAIN-PROCESS-ID":e}})}catch(l){console.error("Failed to send human action completion webhook:",l)}}};Kr.ProcessHandler=ev});var iv=g((Eee,gC)=>{"use strict";var nv=Object.defineProperty,i7=Object.getOwnPropertyDescriptor,o7=Object.getOwnPropertyNames,a7=Object.prototype.hasOwnProperty,c7=(t,e)=>{for(var r in e)nv(t,r,{get:e[r],enumerable:!0})},u7=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of o7(e))!a7.call(t,n)&&n!==r&&nv(t,n,{get:()=>e[n],enumerable:!(s=i7(e,n))||s.enumerable});return t},l7=t=>u7(nv({},"__esModule",{value:!0}),t),yC={};c7(yC,{StreamingApi:()=>sv});gC.exports=l7(yC);var sv=class{constructor(e,r){D(this,"writer");D(this,"encoder");D(this,"writable");D(this,"abortSubscribers",[]);D(this,"responseReadable");D(this,"aborted",!1);D(this,"closed",!1);this.writable=e,this.writer=e.getWriter(),this.encoder=new TextEncoder;let s=r.getReader();this.abortSubscribers.push(async()=>{await s.cancel()}),this.responseReadable=new ReadableStream({async pull(n){let{done:i,value:o}=await s.read();i?n.close():n.enqueue(o)},cancel:()=>{this.abort()}})}async write(e){try{typeof e=="string"&&(e=this.encoder.encode(e)),await this.writer.write(e)}catch{}return this}async writeln(e){return await this.write(e+`
`),this}sleep(e){return new Promise(r=>setTimeout(r,e))}async close(){try{await this.writer.close()}catch{}this.closed=!0}async pipe(e){this.writer.releaseLock(),await e.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}onAbort(e){this.abortSubscribers.push(e)}abort(){this.aborted||(this.aborted=!0,this.abortSubscribers.forEach(e=>e()))}}});var av=g((Tee,xC)=>{"use strict";var ov=Object.defineProperty,p7=Object.getOwnPropertyDescriptor,d7=Object.getOwnPropertyNames,f7=Object.prototype.hasOwnProperty,h7=(t,e)=>{for(var r in e)ov(t,r,{get:e[r],enumerable:!0})},m7=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of d7(e))!f7.call(t,n)&&n!==r&&ov(t,n,{get:()=>e[n],enumerable:!(s=p7(e,n))||s.enumerable});return t},y7=t=>m7(ov({},"__esModule",{value:!0}),t),bC={};h7(bC,{isOldBunVersion:()=>vC});xC.exports=y7(bC);var vC=()=>{let t=typeof Bun<"u"?Bun.version:void 0;if(t===void 0)return!1;let e=t.startsWith("1.1")||t.startsWith("1.0")||t.startsWith("0.");return vC=()=>e,e}});var SC=g((Oee,wC)=>{"use strict";var cv=Object.defineProperty,g7=Object.getOwnPropertyDescriptor,b7=Object.getOwnPropertyNames,v7=Object.prototype.hasOwnProperty,x7=(t,e)=>{for(var r in e)cv(t,r,{get:e[r],enumerable:!0})},_7=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of b7(e))!v7.call(t,n)&&n!==r&&cv(t,n,{get:()=>e[n],enumerable:!(s=g7(e,n))||s.enumerable});return t},w7=t=>_7(cv({},"__esModule",{value:!0}),t),_C={};x7(_C,{stream:()=>A7});wC.exports=w7(_C);var S7=iv(),k7=av(),E7=new WeakMap,A7=(t,e,r)=>{let{readable:s,writable:n}=new TransformStream,i=new S7.StreamingApi(n,s);return(0,k7.isOldBunVersion)()&&t.req.raw.signal.addEventListener("abort",()=>{i.closed||i.abort()}),E7.set(i.responseReadable,t),(async()=>{try{await e(i)}catch(o){o===void 0||(o instanceof Error&&r?await r(o,i):console.error(o))}finally{i.close()}})(),t.newResponse(i.responseReadable)}});var TC=g((Pee,AC)=>{"use strict";var uv=Object.defineProperty,T7=Object.getOwnPropertyDescriptor,O7=Object.getOwnPropertyNames,P7=Object.prototype.hasOwnProperty,C7=(t,e)=>{for(var r in e)uv(t,r,{get:e[r],enumerable:!0})},R7=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of O7(e))!P7.call(t,n)&&n!==r&&uv(t,n,{get:()=>e[n],enumerable:!(s=T7(e,n))||s.enumerable});return t},I7=t=>R7(uv({},"__esModule",{value:!0}),t),EC={};C7(EC,{SSEStreamingApi:()=>qp,streamSSE:()=>q7});AC.exports=I7(EC);var kC=ih(),j7=iv(),D7=av(),qp=class extends j7.StreamingApi{constructor(e,r){super(e,r)}async writeSSE(e){let s=(await(0,kC.resolveCallback)(e.data,kC.HtmlEscapedCallbackPhase.Stringify,!1,{})).split(`
`).map(i=>`data: ${i}`).join(`
`),n=[e.event&&`event: ${e.event}`,s,e.id&&`id: ${e.id}`,e.retry&&`retry: ${e.retry}`].filter(Boolean).join(`
`)+`

`;await this.write(n)}},B7=async(t,e,r)=>{try{await e(t)}catch(s){s instanceof Error&&r?(await r(s,t),await t.writeSSE({event:"error",data:s.message})):console.error(s)}finally{t.close()}},N7=new WeakMap,q7=(t,e,r)=>{let{readable:s,writable:n}=new TransformStream,i=new qp(n,s);return(0,D7.isOldBunVersion)()&&t.req.raw.signal.addEventListener("abort",()=>{i.closed||i.abort()}),N7.set(i.responseReadable,t),t.header("Transfer-Encoding","chunked"),t.header("Content-Type","text/event-stream"),t.header("Cache-Control","no-cache"),t.header("Connection","keep-alive"),B7(i,e,r),t.newResponse(i.responseReadable)}});var CC=g((Cee,PC)=>{"use strict";var lv=Object.defineProperty,M7=Object.getOwnPropertyDescriptor,L7=Object.getOwnPropertyNames,U7=Object.prototype.hasOwnProperty,F7=(t,e)=>{for(var r in e)lv(t,r,{get:e[r],enumerable:!0})},z7=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of L7(e))!U7.call(t,n)&&n!==r&&lv(t,n,{get:()=>e[n],enumerable:!(s=M7(e,n))||s.enumerable});return t},H7=t=>z7(lv({},"__esModule",{value:!0}),t),OC={};F7(OC,{streamText:()=>$7});PC.exports=H7(OC);var Z7=uh(),V7=pv(),$7=(t,e,r)=>(t.header("Content-Type",Z7.TEXT_PLAIN),t.header("X-Content-Type-Options","nosniff"),t.header("Transfer-Encoding","chunked"),(0,V7.stream)(t,e,r))});var pv=g((Ree,jC)=>{"use strict";var dv=Object.defineProperty,K7=Object.getOwnPropertyDescriptor,G7=Object.getOwnPropertyNames,W7=Object.prototype.hasOwnProperty,Q7=(t,e)=>{for(var r in e)dv(t,r,{get:e[r],enumerable:!0})},J7=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of G7(e))!W7.call(t,n)&&n!==r&&dv(t,n,{get:()=>e[n],enumerable:!(s=K7(e,n))||s.enumerable});return t},Y7=t=>J7(dv({},"__esModule",{value:!0}),t),IC={};Q7(IC,{SSEStreamingApi:()=>RC.SSEStreamingApi,stream:()=>X7.stream,streamSSE:()=>RC.streamSSE,streamText:()=>e$.streamText});jC.exports=Y7(IC);var X7=SC(),RC=TC(),e$=CC()});var DC=g((Iee,t$)=>{t$.exports={name:"@dainprotocol/service-sdk",version:"1.1.14",description:"DAIN Service SDK",main:"dist/index.js",types:"dist/index.d.ts",private:!1,publishConfig:{access:"public"},exports:{".":{node:{types:"./dist/service/nodeService.d.ts",default:"./dist/service/nodeService.js"},workerd:{types:"./dist/service/cloudflareService.d.ts",default:"./dist/service/cloudflareService.js"},deno:{types:"./dist/service/denoService.d.ts",default:"./dist/service/denoService.js"},default:{types:"./dist/index.d.ts",default:"./dist/index.js"}},"./client":{types:"./dist/client/index.d.ts",default:"./dist/client/index.js"},"./service":{node:{types:"./dist/service/nodeService.d.ts",default:"./dist/service/nodeService.js"},workerd:{types:"./dist/service/cloudflareService.d.ts",default:"./dist/service/cloudflareService.js"},deno:{types:"./dist/service/denoService.d.ts",default:"./dist/service/denoService.js"},default:{types:"./dist/service/index.d.ts",default:"./dist/service/index.js"}},"./extensions":{types:"./dist/extensions/index.d.ts",default:"./dist/extensions/index.js"},"./payments":{types:"./dist/lib/payments/index.d.ts",default:"./dist/lib/payments/index.js"},"./plugins":{types:"./dist/plugins/index.d.ts",default:"./dist/plugins/index.js"},"./client/*":{types:"./dist/client/*.d.ts",default:"./dist/client/*.js"},"./service/*":{types:"./dist/service/*.d.ts",default:"./dist/service/*.js"},"./payments/*":{types:"./dist/lib/payments/index.d.ts",default:"./dist/lib/payments/index.js"}},typesVersions:{"*":{".":["./dist/index.d.ts"],client:["./dist/client/index.d.ts"],service:["./dist/service/index.d.ts"],plugins:["./dist/plugins/index.d.ts"],"client/*":["./dist/client/*.d.ts"],"service/*":["./dist/service/*.d.ts"],payments:["./dist/lib/payments/index.d.ts"]}},scripts:{build:"tsc","build:types":"tsc --emitDeclarationOnly",test:"jest","test:watch":"jest --watch",prepublishOnly:"npm run build && npm run build:types","test:streaming":"ts-node src/standalone-streaming-test.ts"},keywords:["dain","sdk","ai"],author:"Ryan",license:"ISC",devDependencies:{"@babel/preset-env":"^7.26.0","@types/express":"^4.17.21","@types/jest":"^29.5.12","babel-jest":"^29.7.0",jest:"^29.7.0","ts-jest":"^29.1.5",typescript:"^5.0.0"},dependencies:{"@ai-sdk/anthropic":"^0.0.23","@ai-sdk/openai":"^0.0.33","@dainprotocol/service-sdk":"^1.0.6","@dainprotocol/utils":"^0.0.64","@hono/node-server":"^1.13.8","@noble/curves":"^1.4.0","@noble/ed25519":"^2.1.0","@noble/hashes":"^1.4.0","@paralleldrive/cuid2":"^2.2.2","@solana/web3.js":"^1.95.3","@stripe/stripe-js":"^4.9.0","@types/body-parser":"^1.19.5","@types/bs58":"^4.0.4","@types/supertest":"^6.0.2",ai:"^3.2.5",axios:"^1.7.2","body-parser":"^1.20.2",bs58:"^5.0.0",express:"^4.19.2",hono:"^4.7.4",ioredis:"^5.4.1","iron-session":"^8.0.4","json-schema":"^0.4.0",stripe:"^17.2.1",supertest:"^7.0.0",telegram:"^2.26.16",tslib:"^2.6.3",ws:"^8.18.0",zod:"^3.23.8","zod-to-json-schema":"^3.23.3"},files:["dist","README.md"]}});var NC=g(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.setupHttpServer=h$;var Mp=(Pe(),Ce(Oe)),r$=bS(),s$=_S(),Ne=kS(),fv=G1(),cn=Q1(),BC=Mp.__importDefault(hk()),n$=Mk(),i$=Mp.__importDefault(xa()),o$=tv(),a$=pv(),c$=Mp.__importDefault(DC()),u$=Mp.__importStar(qr()),l$=$u(),p$=Gu(),d$=ps();function f$(t,e,r,s){return(0,a$.streamSSE)(t,async n=>{await s({writeSSE:async o=>{let a=Date.now().toString(),c=`${o.data}:${a}`,u=(0,p$.sha256)(c),l=l$.ed25519.sign(u,e),p=(0,d$.bytesToHex)(l),y=JSON.stringify({data:JSON.parse(o.data),_signature:{signature:p,timestamp:a,agentId:r.identity.agentId,orgId:r.identity.orgId,address:r.identity.publicKey}});return n.writeSSE({event:o.event,data:y,id:o.id})}})})}function h$(t,e,r,s,n,i,o,a,c=[]){let u=new r$.Hono,l=new o$.ProcessHandler({serviceId:"service_"+t.identity.orgId+"_"+t.identity.agentId,privateKey:i,store:t.processStore,baseUrl:t.baseUrl,onHumanActionResponse:t.onHumanActionResponse});u.processes=l,u.use("*",(0,s$.cors)({origin:"*",allowMethods:["GET","POST","PUT","DELETE","OPTIONS"],allowHeaders:["X-DAIN-SIGNATURE","X-DAIN-SMART-ACCOUNT-PDA","X-DAIN-AGENT-ID","X-DAIN-ORG-ID","X-DAIN-ADDRESS","X-DAIN-TIMESTAMP","X-DAIN-WEBHOOK-URL","Content-Type","Authorization","Accept","Origin","X-Requested-With"]})),u.options("*",d=>d.text("Enabling CORS Pre-Flight",200,{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"X-DAIN-SIGNATURE, X-DAIN-SMART-ACCOUNT-PDA, X-DAIN-AGENT-ID, X-DAIN-ORG-ID, X-DAIN-ADDRESS, X-DAIN-TIMESTAMP, Content-Type, Authorization, Accept, Origin, X-Requested-With","Access-Control-Max-Age":"86400"})),u.use("*",async(d,h)=>{if(d.req.path.startsWith("/ping")){await h();return}if(d.req.path.startsWith("/addons")){await h();return}let m=d.req.header("Accept")==="text/event-stream";if(await h(),m||d.res.headers.get("content-type")?.includes("text/event-stream"))return;let b=await d.res.clone().text(),{signature:_,timestamp:v}=(0,fv.signResponse)(i,b);d.res.headers.set("X-DAIN-SIGNATURE",_),d.res.headers.set("X-DAIN-AGENT-ID",t.identity.agentId),d.res.headers.set("X-DAIN-ORG-ID",t.identity.orgId),d.res.headers.set("X-DAIN-ADDRESS",t.identity.publicKey),d.res.headers.set("X-DAIN-TIMESTAMP",v)}),u.use("*",async(d,h)=>{if(d.req.path.startsWith("/oauth2/callback/")||d.req.path.startsWith("/addons")){await h();return}if(d.req.path.startsWith("/ping")){await h();return}let m=d.req.header("X-DAIN-SIGNATURE"),b=d.req.header("X-DAIN-ADDRESS"),_=d.req.header("X-DAIN-TIMESTAMP"),v=d.req.header("X-DAIN-SMART-ACCOUNT-PDA");if(!m||!b||!_)throw new Ne.HTTPException(401,{message:`Missing authentication headers.

 TIP: You should not be visiting this page directly. This service URL can be connected to by a DAIN client or assistant (such as Butterfly)`});let O=d.req.method,P=d.req.path,U=(0,fv.sanitizeHeaders)(d.req.header()),j=await d.req.text();if(!(0,fv.verifyRequestSignature)(m,O,P,U,j,b,v))throw new Ne.HTTPException(401,{message:"Invalid signature"});await h()});async function p(d){let h=d.req.header("X-DAIN-SMART-ACCOUNT-PDA"),m=d.req.header("X-DAIN-ADDRESS"),b=d.req.header("X-DAIN-AGENT-ID"),_=d.req.header("X-DAIN-WEBHOOK-URL");return{agentId:b,address:m,smartAccountPDA:h,id:h?`dain_id_${h}`:`address_${m}`,webhookUrl:_}}u.get("/ping",d=>d.json({message:"pong",platform:"DAIN",service_version:n.version,dain_sdk_version:c$.default.version})),u.get("/metadata",d=>d.json(n)),u.get("/tools",d=>{let h=e.map(m=>({id:m.id,name:m.name,description:m.description,pricing:m.pricing,inputSchema:(0,cn.getDetailedSchemaStructure)(m.input),outputSchema:(0,cn.getDetailedSchemaStructure)(m.output),suggestConfirmation:m.suggestConfirmation}));return d.json(h)}),u.get("/contexts",d=>{let h=o.map(m=>({id:m.id,name:m.name,description:m.description}));return d.json(h)}),u.get("/contexts/:contextId",async d=>{let h=o.find(m=>m.id===d.req.param("contextId"));if(h){let m=await p(d);return d.json({id:h.id,name:h.name,description:h.description,data:await h.getContextData(m)})}else throw new Ne.HTTPException(404,{message:"Context not found"})}),u.get("/getAllContexts",async d=>{let h=await p(d),m=await Promise.all(o.map(async b=>({id:b.id,name:b.name,description:b.description,data:await b.getContextData(h)})));return d.json(m)}),u.get("/pinnables",d=>{let h=a.map(m=>({id:m.id,type:m.type,label:m.label,name:m.name,description:m.description,icon:m.icon,size:m.size||"small"}));return d.json(h)}),u.get("/pinnables/:pinnableId",async d=>{let h=a.find(m=>m.id===d.req.param("pinnableId"));if(h){let m=await p(d),b=await h.getWidget(m);return d.json({id:h.id,type:h.type,label:h.label,name:h.name,description:h.description,icon:h.icon,size:h.size||"small",widget:b})}else throw new Ne.HTTPException(404,{message:"Pinnable not found"})}),u.get("/getAllPinnables",async d=>{let h=await p(d),m=await Promise.all(a.map(async b=>({id:b.id,type:b.type,label:b.label,name:b.name,description:b.description,icon:b.icon,size:b.size||"small",widget:await b.getWidget(h)})));return d.json(m)}),u.get("/exampleQueries",d=>d.json(t.exampleQueries||[])),u.get("/services",d=>{let h=r.map(m=>({id:m.id,name:m.name,description:m.description,metadata:m.metadata,recommendedPrompt:m.recommendedPrompt,recommendedTools:m.recommendedTools.map(b=>{let _=e.find(v=>v.id===b);return _?{id:_.id,name:_.name}:b})}));return d.json(h)}),u.get("/toolboxes",d=>d.json(s));async function y(d,h){if(!t.plugins||t.plugins.length===0||!d.plugins)return d;let m={...d};for(let b of t.plugins)b.processInputService&&(m=await b.processInputService(m));return m}async function f(d,h,m){if(!t.plugins||t.plugins.length===0)return d;let b={...d};b.plugins=b.plugins||{};for(let _ of t.plugins)if(_.processOutputService){let v=await _.processOutputService({...b,context:{request:h,extraData:m}});v&&(b.plugins[_.id]=v)}return b}if(e.forEach(d=>{let h=async(m,b,_,v,O,P=!1)=>{if(m.req.header("Accept")==="text/event-stream")return f$(m,i,t,async j=>{try{console.log(`Executing tool ${b.id} in streaming mode${P?" with context":""}`);let N=await b.handler({..._,DAIN_EXTRA_DATA:void 0},v,{app:u,extraData:{..._.DAIN_EXTRA_DATA,plugins:O},updateUI:async we=>{try{await j.writeSSE({event:"uipage-update",data:JSON.stringify(we)})}catch(ue){console.error(`Error sending UI update in ${b.id}:`,ue)}},addProcess:async we=>{try{await j.writeSSE({event:"process-created",data:JSON.stringify({processId:we}),id:Date.now().toString()})}catch(ue){console.error(`Error sending process update in ${b.id}:`,ue)}}}),te=N;if(P){console.log(`Tool ${b.id} execution completed, gathering contexts`);let we=[];try{let ue=o.map(async G=>{try{return{id:G.id,name:G.name,description:G.description,data:await G.getContextData(v)}}catch(et){return console.error(`Error getting context ${G.id}:`,et),{id:G.id,name:G.name,description:G.description,error:et.message||"Error fetching context data"}}}),St=await Promise.allSettled(ue);we=St.filter(G=>G.status==="fulfilled").map(G=>G.value),St.filter(G=>G.status==="rejected").forEach((G,et)=>{console.error(`Context at index ${et} failed:`,G.reason)})}catch(ue){console.error(`Error gathering contexts for ${b.id}:`,ue),we=[]}console.log(`Gathered ${we.length} contexts, sending final result`),te={toolResult:N,context:we}}let he=await f(te,_,{extraData:{..._.DAIN_EXTRA_DATA,plugins:O}});console.log(`Sending final ${P?"context ":""}result for ${b.id}`),await j.writeSSE({event:"result",data:JSON.stringify(he),id:Date.now().toString()}),console.log(`Final result sent for ${b.id}`)}catch(N){console.error(`Error in stream for ${b.id}:`,N);try{P?await j.writeSSE({event:"result",data:JSON.stringify({toolResult:{error:N.message||"Unknown error",text:`Error: ${N.message||"Unknown error"}`,data:null,ui:null},context:[]}),id:Date.now().toString()}):await j.writeSSE({event:"result",data:JSON.stringify({error:N.message||"Unknown error",text:`Error: ${N.message||"Unknown error"}`,data:null,ui:null}),id:Date.now().toString()})}catch(te){console.error("Failed to send error result:",te)}throw N}});try{let j=await b.handler({..._,DAIN_EXTRA_DATA:void 0},v,{app:u,extraData:{..._.DAIN_EXTRA_DATA,plugins:O}}),N=j;if(P)try{let he=await Promise.all(o.map(async we=>({id:we.id,name:we.name,description:we.description,data:await we.getContextData(v)})));N={toolResult:j,context:he}}catch(he){console.error(`Error gathering contexts for ${b.id}:`,he),N={toolResult:j,context:[]}}let te=await f(N,_,{extraData:{..._.DAIN_EXTRA_DATA,plugins:O}});return m.json(te)}catch(j){console.error(`Error executing tool ${b.id} (non-streaming):`,j);let N;return P?N={toolResult:{error:j.message||"Unknown error",text:`Error: ${j.message||"Unknown error"}`,data:null,ui:null},context:[]}:N={error:j.message||"Unknown error",text:`Error: ${j.message||"Unknown error"}`,data:null,ui:null},m.json(N)}};u.post(`/tools/${d.id}`,async m=>{try{let b=await p(m),_=await m.req.json();_=await y(_,b);let v=_.plugins||{};return delete _.plugins,h(m,d,_,b,v,!1)}catch(b){throw console.error(`Error executing tool ${d.id}:`,b),new Ne.HTTPException(500,{message:"Internal server error"})}}),u.post(`/tools/${d.id}/executeAndGetNewContext`,async m=>{try{let b=await p(m),_=await m.req.json();_=await y(_,b);let v=_.plugins||{};return delete _.plugins,h(m,d,_,b,v,!0)}catch(b){throw console.error(`Error executing tool ${d.id}:`,b),new Ne.HTTPException(500,{message:"Internal server error"})}})}),u.get("/getAllToolsAsJsonSchema",d=>{let h=e.map(m=>({id:m.id,name:m.name,description:m.description,inputSchema:(0,BC.default)(m.input),outputSchema:(0,BC.default)(m.output),suggestConfirmation:m.suggestConfirmation}));return d.json({tools:h,reccomendedPrompts:s.map(m=>m.recommendedPrompt)})}),u.get("/tools/:toolId",d=>{let h=e.find(m=>m.id===d.req.param("toolId"));if(h){let m={id:h.id,name:h.name,description:h.description,pricing:h.pricing,inputSchema:(0,cn.getDetailedSchemaStructure)(h.input),outputSchema:(0,cn.getDetailedSchemaStructure)(h.output),suggestConfirmation:h.suggestConfirmation};return d.json(m)}else throw new Ne.HTTPException(404,{message:"Tool not found"})}),u.get("/services/:serviceId",d=>{let h=r.find(m=>m.id===d.req.param("serviceId"));if(h){let m={id:h.id,name:h.name,description:h.description,metadata:h.metadata,recommendedPrompt:h.recommendedPrompt,recommendedTools:h.recommendedTools.map(b=>{let _=e.find(v=>v.id===b);return _?{id:_.id,name:_.name,description:_.description,pricing:_.pricing,inputSchema:(0,cn.getDetailedSchemaStructure)(_.input),outputSchema:(0,cn.getDetailedSchemaStructure)(_.output)}:{id:b,name:"Unknown Tool",description:"Tool not found"}})};return d.json(m)}else throw new Ne.HTTPException(404,{message:"Service not found"})}),u.get("/toolboxes/:toolboxId",d=>{let h=s.find(m=>m.id===d.req.param("toolboxId"));if(h)return d.json(h);throw new Ne.HTTPException(404,{message:"Toolbox not found"})}),u.get("/health",d=>d.json({status:"healthy",timestamp:new Date().toISOString()})),t.routes&&t.routes(u),t.oauth2?.providers){if(!t.oauth2?.baseUrl)throw new Error("config.oauth2.baseUrl is required for OAuth2");let d=new n$.OAuth2Handler(i$.default.encode(i),t.oauth2.baseUrl,t.oauth2.tokenStore);Object.entries(t.oauth2.providers).forEach(([h,m])=>{d.registerProvider(h,m)}),u.get("/oauth2/callback/:provider",async h=>{if(!u.oauth2)throw new Ne.HTTPException(404,{message:"OAuth2 not configured"});let m=h.req.param("provider"),b=h.req.query("code"),_=h.req.query("state");if(!b||!_)throw new Ne.HTTPException(400,{message:"Missing code or state"});try{return await u.oauth2.handleCallback(b,_),h.html(`
          <html>
            <body>
              <script>
                window.opener.postMessage({ type: 'oauth2-success', provider: '${m}' }, '*');
                window.close();
              </script>
              <h1>Authentication successful! You can close this window.</h1>
            </body>
          </html>
        `)}catch(v){return console.error("OAuth callback error:",v),h.html(`
          <html>
            <body>
              <script>
                window.opener.postMessage({ type: 'oauth2-error', provider: '${m}', error: '${v.message}' }, '*');
                window.close();
              </script>
              <h1>Authentication failed! You can close this window.</h1>
            </body>
          </html>
        `)}}),u.oauth2=d}return u.get("/processes/:processId/status",async d=>{let h=d.req.param("processId"),m=await p(d);try{let b=await u.processes.getProcessStatus(h,m.id);if(!b)throw new Ne.HTTPException(404,{message:"Process not found"});return d.json(b)}catch(b){throw b.message==="Unauthorized access to process"?new Ne.HTTPException(403,{message:"Unauthorized access to process"}):b}}),u.get("/oauth2/providers",async d=>{if(!u.oauth2)return d.json([]);let h=await p(d),m=await u.oauth2.getProviders(h.id),b=await Promise.all(m.map(async({name:_,config:v})=>({name:_,config:v,connected:await u.oauth2.hasValidTokens(_,h.id)})));return d.json(b)}),u.get("/oauth2/connect/:provider",async d=>{if(!u.oauth2)throw new Ne.HTTPException(404,{message:"OAuth2 not configured"});let h=d.req.param("provider"),m=await p(d);try{let b=await u.oauth2.generateAuthUrl(h,m.id);return d.json({authUrl:b})}catch{throw new Ne.HTTPException(400,{message:`Invalid provider: ${h}`})}}),u.get("/processes/:processId/human-actions",async d=>{let h=d.req.param("processId"),m=await p(d),b=await u.processes.getProcess(h);if(!b)throw new Ne.HTTPException(404,{message:"Process not found"});if(b.agentId!==m.id)throw console.log("Unauthorized access to process",b.agentId,m.id),new Ne.HTTPException(403,{message:"Unauthorized access to process"});return d.json(b.humanActions)}),u.get("/processes/:processId/human-actions/:stepId",async d=>{console.log("GET human action request:",d.req.path);let h=d.req.param("processId"),m=d.req.param("stepId"),b=await p(d),_=await u.processes.getProcess(h);if(!_)throw new Ne.HTTPException(404,{message:"Process not found"});if(_.agentId!==b.id)throw console.log("Unauthorized access to process",_.agentId,b.id),new Ne.HTTPException(403,{message:"Unauthorized access to process"});let v=await u.processes.checkHumanAction(h,m);if(!v)throw new Ne.HTTPException(404,{message:"Human action not found"});return d.json(v)}),u.post("/processes/:processId/human-actions/:stepId/respond",async d=>{let h=d.req.param("processId"),m=d.req.param("stepId"),b=await p(d),_=await u.processes.getProcess(h);if(!_)throw new Ne.HTTPException(404,{message:"Process not found"});if(_.agentId!==b.id)throw console.log("Unauthorized access to process",_.agentId,b.id),new Ne.HTTPException(403,{message:"Unauthorized access to process"});let v=await d.req.json(),{actionId:O,responseText:P,data:U}=v;if(!O)throw new Ne.HTTPException(400,{message:"actionId is required"});try{return await u.processes.respondToHumanAction(h,m,O,P,U),d.json({success:!0})}catch(j){throw new Ne.HTTPException(400,{message:j.message})}}),u.post("/tools/:toolId/confirmation",async d=>{let h=e.find(m=>m.id===d.req.param("toolId"));if(!h)throw new Ne.HTTPException(404,{message:"Tool not found"});if(!h.suggestConfirmationUI)return d.json({success:!0});try{let m=await d.req.json(),b=await h.suggestConfirmationUI(m);return d.json(b)}catch(m){throw console.error(`Error generating confirmation UI for tool ${h.id}:`,m),new Ne.HTTPException(500,{message:"Error generating confirmation UI"})}}),u.get("/datasources",d=>{let h=c.map(m=>({id:m.id,name:m.name,description:m.description,type:m.type,inputSchema:(0,cn.getDetailedSchemaStructure)(m.input)}));return d.json(h)}),u.post("/datasources/:datasourceId",async d=>{let h=c.find(m=>m.id===d.req.param("datasourceId"));if(h){let m=await p(d),b=await d.req.json();try{let _=h.input.parse(b),v=await h.getDatasource(m,_);return d.json({id:h.id,name:h.name,description:h.description,type:h.type,data:v})}catch(_){if(_ instanceof u$.ZodError){let v=_.issues.map(O=>O.path.join(".")).join(", ");return d.json({error:`Missing or invalid parameters: ${v}`,code:"INVALID_PARAMS"},400)}throw _}}else throw new Ne.HTTPException(404,{message:"Datasource not found"})}),u.get("/getAllDatasources",async d=>{let h=await p(d),m=c.map(b=>({id:b.id,name:b.name,description:b.description,type:b.type,inputSchema:(0,cn.getDetailedSchemaStructure)(b.input)}));return d.json(m)}),u}});var rv=g(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.parseApiKey=qC;Fp.createBaseDAINService=g$;var m$=(Pe(),Ce(Oe)),Lp=Gf(),y$=NC(),Up=m$.__importDefault(xa());function qC(t){let e=t.split("_");if(e.length!==5||e[0]!=="sk"||e[1]!=="agent")throw new Error("Invalid API key format");let r=e[2].replace("org_",""),s=e[3].replace("agent_",""),n=e[4],i=Up.default.decode(n),o=i.slice(0,32),a=i.slice(32);return{orgId:r,agentId:s,privateKey:Up.default.encode(o),publicKey:Up.default.encode(a)}}function g$(t){let e;if(t.pinnables||(t.pinnables=[]),t.contexts||(t.contexts=[]),t.datasources||(t.datasources=[]),t.plugins||(t.plugins=[]),(!t.services||t.services.length===0)&&(t.services=[{id:t.metadata.title+"-service",name:t.metadata.title+" Service",description:t.metadata.description,metadata:{capabilities:[t.metadata.description],languages:["en-US"]},recommendedPrompt:t.metadata.description,recommendedTools:t.tools.map(_=>_.id)}]),(!t.toolboxes||t.toolboxes.length===0)&&(t.toolboxes=[{id:t.metadata.title+"-toolbox",name:t.metadata.title+" Toolbox",description:t.metadata.description,tools:t.tools.map(_=>_.id),metadata:{complexity:"Medium",applicableFields:[t.metadata.description]},recommendedPrompt:"Use these tools for  "+t.metadata.description+" involving the "+t.metadata.title+` service 

`+t.tools.map(_=>_.id+" : "+_.name+" - "+_.description).join(`
`)}]),t.identity.apiKey)e=qC(t.identity.apiKey);else if(t.identity.publicKey&&t.identity.privateKey&&t.identity.agentId&&t.identity.orgId)e={...t.identity,agentId:t.identity.agentId.replace("agent_",""),orgId:t.identity.orgId.replace("org_","")};else throw new Error("Invalid identity configuration. Provide either an apiKey or all required identity fields.");let r=t.tools.map(_=>(0,Lp.createTool)(_)),s=t.services.map(_=>(0,Lp.createService)(_)),n=t.toolboxes.map(_=>(0,Lp.createToolbox)(_));t.metadata.tags=Lp.CoreUtils.sanitizeTags(t.metadata.tags);let i;return{getMetadata:()=>t.metadata,getServices:()=>s,getTools:()=>r,getToolboxes:()=>n,getContexts:()=>t.contexts,getDatasources:()=>t.datasources,getPlugins:()=>t.plugins||[],findTool:_=>r.find(v=>v.id===_),findToolbox:_=>n.find(v=>v.id===_),findService:_=>s.find(v=>v.id===_),findDatasource:_=>t.datasources.find(v=>v.id===_),app:i,startService:function(){let _=Up.default.decode(e.privateKey);return i=(0,y$.setupHttpServer)({...t,identity:e,onHumanActionResponse:t.onHumanActionResponse},r,s,n,t.metadata,_,t.contexts,t.pinnables,t.datasources),i}}}});var $C=g((Bee,VC)=>{"use strict";var b$=Object.create,Zp=Object.defineProperty,v$=Object.getOwnPropertyDescriptor,x$=Object.getOwnPropertyNames,_$=Object.getPrototypeOf,w$=Object.prototype.hasOwnProperty,S$=(t,e)=>{for(var r in e)Zp(t,r,{get:e[r],enumerable:!0})},MC=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of x$(e))!w$.call(t,n)&&n!==r&&Zp(t,n,{get:()=>e[n],enumerable:!(s=v$(e,n))||s.enumerable});return t},k$=(t,e,r)=>(r=t!=null?b$(_$(t)):{},MC(e||!t||!t.__esModule?Zp(r,"default",{value:t,enumerable:!0}):r,t)),E$=t=>MC(Zp({},"__esModule",{value:!0}),t),LC={};S$(LC,{RequestError:()=>un,createAdaptorServer:()=>ZC,getRequestListener:()=>HC,serve:()=>F$});VC.exports=E$(LC);var A$=require("http"),mv=require("http2"),T$=require("stream"),gv,un=(gv=class extends Error{constructor(t,e){super(t,e)}},D(gv,"name","RequestError"),gv),O$=t=>t instanceof un?t:new un(t.message,{cause:t}),P$=global.Request,nc=class extends P${constructor(t,e){typeof t=="object"&&Co in t&&(t=t[Co]()),typeof e?.body?.getReader<"u"&&(e.duplex??(e.duplex="half")),super(t,e)}},C$=(t,e,r,s)=>{let n=[],i=r.rawHeaders;for(let a=0;a<i.length;a+=2){let{[a]:c,[a+1]:u}=i;c.charCodeAt(0)!==58&&n.push([c,u])}let o={method:t,headers:n,signal:s.signal};if(t==="TRACE"){o.method="GET";let a=new nc(e,o);return Object.defineProperty(a,"method",{get(){return"TRACE"}}),a}return t==="GET"||t==="HEAD"||("rawBody"in r&&r.rawBody instanceof Buffer?o.body=new ReadableStream({start(a){a.enqueue(r.rawBody),a.close()}}):o.body=T$.Readable.toWeb(r)),new nc(e,o)},Co=Symbol("getRequestCache"),yv=Symbol("requestCache"),bv=Symbol("incomingKey"),Hp=Symbol("urlKey"),ln=Symbol("abortControllerKey"),R$=Symbol("getAbortController"),Vp={get method(){return this[bv].method||"GET"},get url(){return this[Hp]},[R$](){return this[Co](),this[ln]},[Co](){return this[ln]||(this[ln]=new AbortController),this[yv]||(this[yv]=C$(this.method,this[Hp],this[bv],this[ln]))}};["body","bodyUsed","cache","credentials","destination","headers","integrity","mode","redirect","referrer","referrerPolicy","signal","keepalive"].forEach(t=>{Object.defineProperty(Vp,t,{get(){return this[Co]()[t]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(t=>{Object.defineProperty(Vp,t,{value:function(){return this[Co]()[t]()}})});Object.setPrototypeOf(Vp,nc.prototype);var I$=(t,e)=>{let r=Object.create(Vp);r[bv]=t;let s=t.url||"";if(s[0]!=="/"&&(s.startsWith("http://")||s.startsWith("https://"))){if(t instanceof mv.Http2ServerRequest)throw new un("Absolute URL for :path is not allowed in HTTP/2");try{let a=new URL(s);r[Hp]=a.href}catch(a){throw new un("Invalid absolute URL",{cause:a})}return r}let n=(t instanceof mv.Http2ServerRequest?t.authority:t.headers.host)||e;if(!n)throw new un("Missing host header");let i;if(t instanceof mv.Http2ServerRequest){if(i=t.scheme,!(i==="http"||i==="https"))throw new un("Unsupported scheme")}else i=t.socket&&t.socket.encrypted?"https":"http";let o=new URL(`${i}://${n}${s}`);if(o.hostname.length!==n.length&&o.hostname!==n.replace(/:\d+$/,""))throw new un("Invalid host header");return r[Hp]=o.href,r};function vv(t,e){if(t.locked)throw new TypeError("ReadableStream is locked.");if(e.destroyed){t.cancel();return}let r=t.getReader();return e.on("close",s),e.on("error",s),r.read().then(i,s),r.closed.finally(()=>{e.off("close",s),e.off("error",s)});function s(o){r.cancel(o).catch(()=>{}),o&&e.destroy(o)}function n(){r.read().then(i,s)}function i({done:o,value:a}){try{if(o)e.end();else if(!e.write(a))e.once("drain",n);else return r.read().then(i,s)}catch(c){s(c)}}}var UC=t=>{let e={};t instanceof Headers||(t=new Headers(t??void 0));let r=[];for(let[s,n]of t)s==="set-cookie"?r.push(n):e[s]=n;return r.length>0&&(e["set-cookie"]=r),e["content-type"]??(e["content-type"]="text/plain; charset=UTF-8"),e},zp=Symbol("responseCache"),ic=Symbol("getResponseCache"),oc=Symbol("cache"),$p=global.Response,ac,pn,Po,Ro=(Po=class{constructor(e,r){J(this,ac);J(this,pn);if(z(this,ac,e),r instanceof Po){let s=r[zp];if(s){z(this,pn,s),this[ic]();return}else z(this,pn,k(r,pn))}else z(this,pn,r);if(typeof e=="string"||typeof e?.getReader<"u"){let s=r?.headers||{"content-type":"text/plain; charset=UTF-8"};s instanceof Headers&&(s=UC(s)),this[oc]=[r?.status||200,e,s]}}[ic](){return delete this[oc],this[zp]||(this[zp]=new $p(k(this,ac),k(this,pn)))}},ac=new WeakMap,pn=new WeakMap,Po);["body","bodyUsed","headers","ok","redirected","status","statusText","trailers","type","url"].forEach(t=>{Object.defineProperty(Ro.prototype,t,{get(){return this[ic]()[t]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(t=>{Object.defineProperty(Ro.prototype,t,{value:function(){return this[ic]()[t]()}})});Object.setPrototypeOf(Ro,$p);Object.setPrototypeOf(Ro.prototype,$p.prototype);var xv=Reflect.ownKeys(new $p).find(t=>typeof t=="symbol"&&t.toString()==="Symbol(state)");xv||console.warn("Failed to find Response internal state key");function j$(t){if(!xv)return;t instanceof Ro&&(t=t[ic]());let e=t[xv];return e&&e.body||void 0}var D$="x-hono-already-sent",B$=k$(require("crypto")),N$=global.fetch;typeof global.crypto>"u"&&(global.crypto=B$.default);global.fetch=(t,e)=>(e={compress:!1,...e},N$(t,e));var q$=/^no$/i,M$=/^(application\/json\b|text\/(?!event-stream\b))/i,L$=()=>new Response(null,{status:400}),FC=t=>new Response(null,{status:t instanceof Error&&(t.name==="TimeoutError"||t.constructor.name==="TimeoutError")?504:500}),_v=(t,e)=>{let r=t instanceof Error?t:new Error("unknown error",{cause:t});r.code==="ERR_STREAM_PREMATURE_CLOSE"?console.info("The user aborted a request."):(console.error(t),e.headersSent||e.writeHead(500,{"Content-Type":"text/plain"}),e.end(`Error: ${r.message}`),e.destroy(r))},zC=(t,e)=>{let[r,s,n]=t[oc];if(typeof s=="string")n["Content-Length"]=Buffer.byteLength(s),e.writeHead(r,n),e.end(s);else return e.writeHead(r,n),vv(s,e)?.catch(i=>_v(i,e))},U$=async(t,e,r={})=>{if(t instanceof Promise)if(r.errorHandler)try{t=await t}catch(i){let o=await r.errorHandler(i);if(!o)return;t=o}else t=await t.catch(FC);if(oc in t)return zC(t,e);let s=UC(t.headers),n=j$(t);if(n){let{length:i,source:o,stream:a}=n;if(!(o instanceof Uint8Array&&o.byteLength!==i)){i&&(s["content-length"]=i),e.writeHead(t.status,s),typeof o=="string"||o instanceof Uint8Array?e.end(o):o instanceof Blob?e.end(new Uint8Array(await o.arrayBuffer())):await vv(a,e);return}}if(t.body){let{"transfer-encoding":i,"content-encoding":o,"content-length":a,"x-accel-buffering":c,"content-type":u}=s;if(i||o||a||c&&q$.test(c)||!M$.test(u))e.writeHead(t.status,s),await vv(t.body,e);else{let l=await t.arrayBuffer();s["content-length"]=l.byteLength,e.writeHead(t.status,s),e.end(new Uint8Array(l))}}else s[D$]||(e.writeHead(t.status,s),e.end())},HC=(t,e={})=>(e.overrideGlobalObjects!==!1&&global.Request!==nc&&(Object.defineProperty(global,"Request",{value:nc}),Object.defineProperty(global,"Response",{value:Ro})),async(r,s)=>{let n,i;try{if(i=I$(r,e.hostname),s.on("close",()=>{i[ln]&&(r.errored?i[ln].abort(r.errored.toString()):s.writableFinished||i[ln].abort("Client connection prematurely closed."))}),n=t(i,{incoming:r,outgoing:s}),oc in n)return zC(n,s)}catch(o){if(n)return _v(o,s);if(e.errorHandler){if(n=await e.errorHandler(i?o:O$(o)),!n)return}else i?n=FC(o):n=L$()}try{return await U$(n,s,e)}catch(o){return _v(o,s)}}),ZC=t=>{let e=t.fetch,r=HC(e,{hostname:t.hostname,overrideGlobalObjects:t.overrideGlobalObjects});return(t.createServer||A$.createServer)(t.serverOptions||{},r)},F$=(t,e)=>{let r=ZC(t);return r.listen(t?.port??3e3,t.hostname,()=>{let s=r.address();e&&e(s)}),r}});var GC=g(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0})});var QC=g(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.MemoryProcessStore=ct.RedisProcessStore=ct.ProcessHandler=ct.createOAuth2Tool=ct.CoreUtils=ct.createToolbox=ct.createService=ct.createTool=void 0;ct.defineDAINService=H$;var WC=(Pe(),Ce(Oe)),z$=rv(),cc=Gf();Object.defineProperty(ct,"createTool",{enumerable:!0,get:function(){return cc.createTool}});Object.defineProperty(ct,"createService",{enumerable:!0,get:function(){return cc.createService}});Object.defineProperty(ct,"createToolbox",{enumerable:!0,get:function(){return cc.createToolbox}});Object.defineProperty(ct,"CoreUtils",{enumerable:!0,get:function(){return cc.CoreUtils}});Object.defineProperty(ct,"createOAuth2Tool",{enumerable:!0,get:function(){return cc.createOAuth2Tool}});var wv=tv();Object.defineProperty(ct,"ProcessHandler",{enumerable:!0,get:function(){return wv.ProcessHandler}});Object.defineProperty(ct,"RedisProcessStore",{enumerable:!0,get:function(){return wv.RedisProcessStore}});Object.defineProperty(ct,"MemoryProcessStore",{enumerable:!0,get:function(){return wv.MemoryProcessStore}});function H$(t){let e=(0,z$.createBaseDAINService)(t);return{...e,startNode:async(s={port:void 0})=>{let{port:n=process.env.PORT?parseInt(process.env.PORT):2022}=s,{serve:i}=await Promise.resolve().then(()=>WC.__importStar($C())),o=e.startService();try{let a=i({fetch:o.fetch,port:n});return t.serverExtensions&&t.serverExtensions.forEach(c=>{c.connect(o,a)}),console.log(`Server is listening on port ${n} -- Node Environment`),console.log(`DAIN Service is running on version ${t.metadata.version}`),{address:()=>({port:n}),shutdown:async()=>{console.log("Shutting down DAIN service..."),a.close()},app:o,server:a}}catch(a){if(a instanceof Error&&a.message.includes("EADDRINUSE")){let c=process.env.DAIN_DEV?`

In development mode, you can start the service with a different port using:

  npm run dev --port ${n+1}
`:"";throw new Error(`EADDRINUSE

Port ${n} is already in use. Please choose a different port or ensure no other service is running on this port.${c}`)}throw a}}}}WC.__exportStar(GC(),ct)});var YC=g(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0})});var ze=g(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.DSLBuilder=void 0;var Sv=class t{constructor(e,r,s="inline"){this.element={type:e,props:Object.assign({},r),children:[],renderMode:s,actions:[]}}setProp(e,r){return this.element.props[e]=r,this}setRenderMode(e){return this.element.renderMode=e,this}addChild(e){return e instanceof t?this.element.children.push(e.build()):this.element.children.push(e),this}addAction(e){return this.element.actions||(this.element.actions=[]),this.element.actions.push(e),this}build(){return this.element}};Kp.DSLBuilder=Sv});var XC=g(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.UI_ASSETS=void 0;Gp.UI_ASSETS={oauth:{google:{logo:"https://www.google.com/calendar/images/calendar_logo_sm.gif",defaultTitle:"Google Authentication",defaultContent:"Please authenticate with Google to continue"},github:{logo:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",defaultTitle:"GitHub Authentication",defaultContent:"Please authenticate with GitHub to continue"},twitter:{logo:"https://abs.twimg.com/responsive-web/client-web/icon-ios.b1fc727a.png",defaultTitle:"Twitter Authentication",defaultContent:"Please authenticate with Twitter to continue"},linkedin:{logo:"https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca",defaultTitle:"LinkedIn Authentication",defaultContent:"Please authenticate with LinkedIn to continue"},telegram:{logo:"https://telegram.org/img/t_logo.png",defaultTitle:"Telegram Authentication",defaultContent:"Please authenticate with Telegram to continue"}}}});var eR=g(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.OAuthUIBuilder=void 0;var Z$=ze(),V$=XC();function $$(t){let e=V$.UI_ASSETS.oauth[t];return e?{logo:e.logo,title:e.defaultTitle,content:e.defaultContent}:{}}var kv=class extends Z$.DSLBuilder{constructor(e){if(super("oauth2",e),e?.provider){let r=$$(e.provider);!e.logo&&r.logo&&this.logo(r.logo),!e.title&&r.title&&this.title(r.title),!e.content&&r.content&&this.content(r.content)}}provider(e){return this.setProp("provider",e)}url(e){return this.setProp("url",e)}title(e){return this.setProp("title",e)}content(e){return this.setProp("content",e)}logo(e){return this.setProp("logo",e)}};Wp.OAuthUIBuilder=kv});var tR=g(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.AlertUIBuilder=void 0;var K$=ze(),Ev=class extends K$.DSLBuilder{constructor(e,r="inline"){super("alert",e,r)}variant(e){return this.setProp("variant",e)}message(e){return this.setProp("message",e)}title(e){return this.setProp("title",e)}icon(e=!0){return this.setProp("icon",e)}type(e){return this.setProp("type",e)}};Qp.AlertUIBuilder=Ev});var rR=g(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.CardUIBuilder=void 0;var G$=ze(),Av=class extends G$.DSLBuilder{constructor(e,r="inline"){super("card",e,r)}title(e){return this.setProp("title",e)}content(e){return this.setProp("content",e)}onConfirm(e){let{tool:r,paramSchema:s,params:n}=e;if(!r||!s||!n)throw new Error("onConfirm action must have a tool, paramSchema, and params");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"confirm"})}addField(e){return this.element.props.fields=this.element.props.fields||[],this.element.props.fields.push(e),this}addFields(e,r){return r?e.forEach(s=>{let n=r(s);this.addField(n)}):e.forEach(s=>{this.addField(s)}),this}};Jp.CardUIBuilder=Av});var sR=g(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.ChartUIBuilder=void 0;var W$=ze(),Tv=class extends W$.DSLBuilder{constructor(e,r="inline"){super("chart",e,r)}type(e){return this.setProp("type",e)}title(e){return this.setProp("title",e)}description(e){return this.setProp("description",e)}chartData(e){return this.setProp("data",e)}dataKeys(e){return this.setProp("dataKeys",e)}trend(e,r){return this.setProp("trend",{value:e,text:r})}footer(e){return this.setProp("footer",e)}};Yp.ChartUIBuilder=Tv});var nR=g(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.TableUIBuilder=void 0;var Q$=ze(),Ov=class extends Q$.DSLBuilder{constructor(e,r="inline"){super("table",e,r)}addColumn(e,r,s){return this.element.props.columns||(this.element.props.columns=[]),this.element.props.columns.push({key:e,header:r,type:s}),this}addColumns(e,r){return r?e.forEach(s=>{let n=r(s);this.addColumn(n.key,n.header,n.type)}):e.forEach(s=>{this.addColumn(s.key,s.header,s.type)}),this}rows(e){return this.setProp("rows",e)}};Xp.TableUIBuilder=Ov});var iR=g(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.DataGridUIBuilder=void 0;var J$=ze(),Pv=class extends J$.DSLBuilder{constructor(e,r="inline"){super("datagrid",e,r)}addColumn(e){return this.element.props.columns||(this.element.props.columns=[]),this.element.props.columns.push(e),this}addColumns(e,r){return r?e.forEach(s=>{this.addColumn(r(s))}):e.forEach(s=>{this.addColumn(s)}),this}rows(e){return this.setProp("rows",e)}onRowClick(e){let{tool:r,paramSchema:s,params:n}=e;if(!r||!n)throw new Error("onRowClick action must have a tool, paramSchema, and params");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"onRowClick"})}};ed.DataGridUIBuilder=Pv});var oR=g(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.StatsGridUIBuilder=void 0;var Y$=ze(),Cv=class extends Y$.DSLBuilder{constructor(e,r="inline"){super("statsGrid",Object.assign({stats:[]},e),r)}title(e){return this.setProp("title",e),this}setBaseParams(e){return this.setProp("baseParams",e),this}addStat(e){return this.element.props.stats.push(e),this}addStats(e){return e.forEach(r=>this.addStat(r)),this}onItemClick(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onItemClick action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"onItemClick"})}};td.StatsGridUIBuilder=Cv});var aR=g(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.TimeLineUIBuilder=void 0;var X$=ze(),Rv=class extends X$.DSLBuilder{constructor(e,r="inline"){super("timeline",Object.assign({items:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}addItem(e){return this.element.props.items.push(e),this}addItems(e){return e.forEach(r=>this.addItem(r)),this}onItemClick(e){let{tool:r,paramSchema:s,params:n}=e;if(!r)throw new Error("onItemClick action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,paramSchema:s,params:n,key:"timeline-item-click"})}};rd.TimeLineUIBuilder=Rv});var cR=g(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.FormUIBuilder=void 0;var eK=(Pe(),Ce(Oe)),tK=ze(),Iv=class extends tK.DSLBuilder{constructor(e,r="inline"){super("form",Object.assign({fields:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}addField(e){return this.element.props.fields.push(e),this}addFields(e){return e.forEach(r=>this.addField(r)),this}setLayout(e){return this.setProp("layout",e),this}onSubmit(e){let{tool:r,params:s}=e;if(!r)throw new Error("onSubmit action must specify a 'tool' (callTool).");let n={};for(let i of this.element.props.fields){let{name:o,label:a,placeholder:c,options:u}=i,l=eK.__rest(i,["name","label","placeholder","options"]);i.defaultValue!==void 0&&(l.default=i.defaultValue),n[o]=l}return this.addAction({type:"callTool",tool:r,paramSchema:n,params:s,key:"submit-form"})}};sd.FormUIBuilder=Iv});var uR=g(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.ImageCardUIBuilder=void 0;var rK=ze(),jv=class extends rK.DSLBuilder{constructor(e,r,s="inline"){super("imageCard",Object.assign({imageUrl:e},r),s)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}imageAlt(e){return this.setProp("imageAlt",e),this}aspectRatio(e){return this.setProp("aspectRatio",e),this}withOverlay(e=!0){return this.setProp("overlay",e),this}className(e){return this.setProp("className",e),this}onLearnMore(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onLearnMore action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"open-link"})}onViewGallery(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onViewGallery action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"view-gallery"})}};nd.ImageCardUIBuilder=jv});var lR=g(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.ImageGalleryUIBuilder=void 0;var sK=ze(),Dv=class extends sK.DSLBuilder{constructor(e,r="inline"){super("imageGallery",Object.assign({images:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}columns(e){return this.setProp("columns",e),this}addImage(e){return this.element.props.images.push(e),this}addImages(e){return e.forEach(r=>this.addImage(r)),this}disableResponsive(e=!0){return this.setProp("disableResponsive",e),this}onViewImage(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onViewImage action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"view"})}};id.ImageGalleryUIBuilder=Dv});var pR=g(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.CardListUIBuilder=void 0;var nK=ze(),Bv=class extends nK.DSLBuilder{constructor(e,r="inline"){super("cardList",Object.assign({cards:[]},e),r)}title(e){return this.setProp("title",e),this}description(e){return this.setProp("description",e),this}addCard(e){return this.element.props.cards.push(e),this}addCards(e){return e.forEach(r=>this.addCard(r)),this}onConfirm(e){let{tool:r,params:s}=e;if(!r)throw new Error("onConfirm action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"confirm"}),this}withChildren(e){return this.addChild(e),this}};od.CardListUIBuilder=Bv});var dR=g(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.ProgressListUIBuilder=void 0;var iK=ze(),Nv=class extends iK.DSLBuilder{constructor(e,r="inline"){super("progressList",Object.assign({items:[]},e),r)}title(e){return this.setProp("title",e),this}addItem(e){return this.element.props.items.push(e),this}addItems(e){return e.forEach(r=>this.addItem(r)),this}onSelectItem(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onSelectItem action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"select"})}};ad.ProgressListUIBuilder=Nv});var fR=g(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.MapUIBuilder=void 0;var oK=ze(),qv=class extends oK.DSLBuilder{constructor(e,r="inline"){super("map",Object.assign({markers:[],initialView:{latitude:0,longitude:0,zoom:3}},e),r)}setInitialView(e,r,s){return this.setProp("initialView",{latitude:e,longitude:r,zoom:s}),this}setMapStyle(e){return this.setProp("mapStyle",e),this}setZoomRange(e,r){return e!==void 0&&this.setProp("minZoom",e),r!==void 0&&this.setProp("maxZoom",r),this}addMarker(e){return this.element.props.markers.push(e),this}addMarkers(e){return e.forEach(r=>this.addMarker(r)),this}onMarkerClick(e){let{tool:r,params:s}=e;if(!r)throw new Error("onMarkerClick action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"on-marker-click"}),this}withChildren(e){return this.addChild(e),this}};cd.MapUIBuilder=qv});var hR=g(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.CheckoutUIBuilder=void 0;var aK=ze(),Mv=class extends aK.DSLBuilder{constructor(e,r,s,n="inline"){super("checkout",Object.assign({orderId:e,quoteId:r},s),n)}setTotalCost(e){return this.setProp("totalCost",e),this}setStore(e,r){return this.setProp("store",e),this.setProp("storeId",r),this}setDeliveryDetails(e){return this.setProp("deliveryDetails",e),this}onProceedToPayment(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onProceedToPayment action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"placeOrder"})}onCancelOrder(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onCancelOrder action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"cancel-order"})}};ud.CheckoutUIBuilder=Mv});var mR=g(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.OrderSuccessUIBuilder=void 0;var cK=ze(),Lv=class extends cK.DSLBuilder{constructor(e,r,s,n,i="inline"){super("orderSuccess",Object.assign({orderId:e,trackingLink:r,finalQuote:s,isSandbox:!1},n),i)}setSandboxMode(e){return this.setProp("isSandbox",e),this}setTrackingLink(e){return this.setProp("trackingLink",e),this}setFinalQuote(e){return this.setProp("finalQuote",e),this}onTrackOrder(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onTrackOrder action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"track-order"})}onViewDetails(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onViewDetails action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"view-details"})}};ld.OrderSuccessUIBuilder=Lv});var yR=g(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.MenuUIBuilder=void 0;var uK=ze(),Uv=class extends uK.DSLBuilder{constructor(e,r="inline"){super("menu",Object.assign({categories:[],totalPages:1,currentPage:1},e),r)}setPagination(e,r){return this.setProp("currentPage",e),this.setProp("totalPages",r),this}addCategory(e){return this.element.props.categories.push(e),this}addCategories(e){return e.forEach(r=>this.addCategory(r)),this}onAddToOrder(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onAddToOrder action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"addToOrder"})}onCategoryChange(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onCategoryChange action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"categoryChange"})}};pd.MenuUIBuilder=Uv});var gR=g(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.CustomizeProductUIBuilder=void 0;var lK=ze(),Fv=class extends lK.DSLBuilder{constructor(e,r="inline"){super("customizeProduct",Object.assign({customizations:[]},e),r)}addCustomization(e){return this.element.props.customizations.push(e),this}addCustomizations(e){return e.forEach(r=>this.addCustomization(r)),this}onOptionSelect(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onOptionSelect action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"select"})}onProceed(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onProceed action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"proceed"})}onSkip(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onSkip action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"skip"})}};dd.CustomizeProductUIBuilder=Fv});var bR=g(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.PaymentUIBuilder=void 0;var pK=ze(),zv=class extends pK.DSLBuilder{constructor(e,r,s="inline"){super("payment",Object.assign({paymentSuccess:e},r),s)}setMessage(e){return this.setProp("message",e),this}setTransactionDetails(e,r,s){return this.setProp("transactionId",e),this.setProp("amount",r),this.setProp("currency",s),this}onRetry(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onRetry action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"retry"})}onPay(e){let{tool:r,params:s,paramSchema:n}=e;if(!r)throw new Error("onPay action must specify a 'tool'");return this.addAction({type:"callTool",tool:r,params:s,paramSchema:n,key:"pay"})}};fd.PaymentUIBuilder=zv});var vR=g(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.CartActionSuccessUIBuilder=void 0;var dK=ze(),Hv=class extends dK.DSLBuilder{constructor(e,r="inline"){super("cartActionSuccess",Object.assign({itemsChanged:[]},e),r)}setType(e){return this.setProp("type",e),this}addItemChanged(e){return this.element.props.itemsChanged||(this.element.props.itemsChanged=[]),this.element.props.itemsChanged.push(e),this}addItemsChanged(e){return e.forEach(r=>this.addItemChanged(r)),this}withChildren(e){return this.addChild(e),this}};hd.CartActionSuccessUIBuilder=Hv});var xR=g(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.CartUIBuilder=void 0;var fK=ze(),Zv=class extends fK.DSLBuilder{constructor(e,r="inline"){super("cart",Object.assign({items:[]},e),r)}setStoreInfo(e){return this.setProp("storeInfo",e),this}addItem(e){return this.element.props.items||(this.element.props.items=[]),this.element.props.items.push(e),this}addItems(e){return e.forEach(r=>this.addItem(r)),this}onQuantityChange(e){let{tool:r,params:s}=e;if(!r)throw new Error("onQuantityChange action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"quantity-change"}),this}onCheckout(e){let{tool:r,params:s}=e;if(!r)throw new Error("onCheckout action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,params:s,key:"checkout"}),this}withChildren(e){return this.addChild(e),this}};md.CartUIBuilder=Zv});var _R=g(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.UserDetailsUpdatedUIBuilder=void 0;var hK=ze(),Vv=class extends hK.DSLBuilder{constructor(e,r="inline"){super("userDetailsUpdated",Object.assign({},e),r)}setMessage(e){return this.setProp("message",e),this}withChildren(e){return this.addChild(e),this}};yd.UserDetailsUpdatedUIBuilder=Vv});var wR=g(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.OrderStatusUIBuilder=void 0;var mK=ze(),$v=class extends mK.DSLBuilder{constructor(e,r="inline"){super("orderStatus",Object.assign({},e),r)}setStatus(e){return this.setProp("status",e),this}setAddress(e){return this.setProp("address",e),this}setFinalQuote(e){return this.setProp("finalQuote",e),this}setTracking(e){return this.setProp("tracking",e),this}setDriver(e){return this.setProp("driver",e),this}setStoreInfo(e){return this.setProp("storeInfo",e),this}withChildren(e){return this.addChild(e),this}};gd.OrderStatusUIBuilder=$v});var SR=g(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.LayoutUIBuilder=void 0;var yK=ze(),Kv=class extends yK.DSLBuilder{constructor(e,r="inline"){super("layout",Object.assign({},e),r)}setLayoutType(e){return this.setProp("layoutType",e),this}setColumns(e){return this.setProp("columns",e),this}setGap(e){return this.setProp("gap",e),this}setJustifyContent(e){return this.setProp("justifyContent",e),this}setAlignItems(e){return this.setProp("alignItems",e),this}setFlexWrap(e){return this.setProp("flexWrap",e),this}setMargin(e){return this.setProp("margin",e),this}setPadding(e){return this.setProp("padding",e),this}setBackgroundColor(e){return this.setProp("backgroundColor",e),this}};bd.LayoutUIBuilder=Kv});var kR=g(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});var We=(Pe(),Ce(Oe));We.__exportStar(eR(),He);We.__exportStar(tR(),He);We.__exportStar(rR(),He);We.__exportStar(sR(),He);We.__exportStar(nR(),He);We.__exportStar(iR(),He);We.__exportStar(oR(),He);We.__exportStar(aR(),He);We.__exportStar(cR(),He);We.__exportStar(uR(),He);We.__exportStar(lR(),He);We.__exportStar(pR(),He);We.__exportStar(dR(),He);We.__exportStar(fR(),He);We.__exportStar(hR(),He);We.__exportStar(mR(),He);We.__exportStar(yR(),He);We.__exportStar(gR(),He);We.__exportStar(bR(),He);We.__exportStar(vR(),He);We.__exportStar(xR(),He);We.__exportStar(_R(),He);We.__exportStar(wR(),He);We.__exportStar(SR(),He)});var ER=g(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.ProcessUIBuilder=void 0;var gK=uc(),Gv=class extends gK.DSLBuilder{constructor(e,r="inline"){super("process",Object.assign({},e),r)}setProcessId(e){return this.setProp("processId",e),this}setName(e){return this.setProp("name",e),this}setDescription(e){return this.setProp("description",e),this}setType(e){return this.setProp("type",e),this}setStatus(e){return this.setProp("status",e),this}setUpdates(e){return this.setProp("updates",e),this}setResults(e){return this.setProp("results",e),this}setServiceId(e){return this.setProp("serviceId",e),this}withSteps(...e){return e.forEach(r=>this.addChild(r)),this}onComplete(e){let{tool:r,params:s}=e;if(!r)throw new Error("onComplete action must specify a 'tool' (callTool).");return this.addAction({type:"callTool",tool:r,key:"complete-process",paramSchema:{},params:s})}};vd.ProcessUIBuilder=Gv});var AR=g(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});var bK=(Pe(),Ce(Oe));bK.__exportStar(ER(),Wv)});var TR=g(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});var vK=(Pe(),Ce(Oe));vK.__exportStar(AR(),Qv)});var uc=g(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var xd=(Pe(),Ce(Oe));xd.__exportStar(YC(),Io);xd.__exportStar(ze(),Io);xd.__exportStar(kR(),Io);xd.__exportStar(TR(),Io)});var PR=g(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.DainResponse=void 0;var OR=uc(),Jv=class t{constructor({data:e,text:r,ui:s,pleasePay:n,processes:i}){this.data={},this.text="",this.data=e,this.text=r??"",Array.isArray(s)?this.ui=s.map(o=>o instanceof OR.DSLBuilder?o.build():o):this.ui=s instanceof OR.DSLBuilder?s.build():s,this.pleasePay=n,this.processes=i}static create(e){return new t(e)}toJSON(){return{data:this.data,text:this.text,ui:this.ui,pleasePay:this.pleasePay,processes:this.processes}}};_d.DainResponse=Jv});var Xv=g(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});var xK=(Pe(),Ce(Oe));xK.__exportStar(PR(),Yv)});var CR=g(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.requestAuthenticationTool=void 0;var _K=(Pe(),Ce(Oe)),wK=uc(),SK=Xv(),kK=(t,e)=>_K.__awaiter(void 0,[t,e],void 0,function*({provider:r,logo:s},{app:n,agentInfo:i}){var o;let a=yield(o=n.oauth2)===null||o===void 0?void 0:o.generateAuthUrl("google",i.id),c=new wK.OAuthUIBuilder().title(`Please authenticate with ${r} first`).content(`Please authenticate with ${r} first`).url(a??"").logo(s).build();return new SK.DainResponse({text:`Please authenticate with ${r} first`,data:{},ui:c})});wd.requestAuthenticationTool=kK});var RR=g(ex=>{"use strict";Object.defineProperty(ex,"__esModule",{value:!0});var EK=(Pe(),Ce(Oe));EK.__exportStar(CR(),ex)});var IR=g(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});tx.getUI=AK;function AK(t,e){return t?(Array.isArray(t)?t:[t]).filter(s=>s.renderMode===e):[]}});var jR=g(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});var TK=(Pe(),Ce(Oe));TK.__exportStar(IR(),rx)});var DR=g(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Sd=(Pe(),Ce(Oe));Sd.__exportStar(uc(),jo);Sd.__exportStar(Xv(),jo);Sd.__exportStar(RR(),jo);Sd.__exportStar(jR(),jo)});var Z2=g((bie,nW)=>{nW.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var W2=g((vie,vs)=>{var Rx=require("fs"),Ix=require("path"),iW=require("os"),oW=require("crypto"),aW=Z2(),$2=aW.version,cW=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function uW(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let s;for(;(s=cW.exec(r))!=null;){let n=s[1],i=s[2]||"";i=i.trim();let o=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),e[n]=i}return e}function lW(t){let e=G2(t),r=dt.configDotenv({path:e});if(!r.parsed){let o=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw o.code="MISSING_DATA",o}let s=K2(t).split(","),n=s.length,i;for(let o=0;o<n;o++)try{let a=s[o].trim(),c=dW(r,a);i=dt.decrypt(c.ciphertext,c.key);break}catch(a){if(o+1>=n)throw a}return dt.parse(i)}function pW(t){console.log(`[dotenv@${$2}][WARN] ${t}`)}function _c(t){console.log(`[dotenv@${$2}][DEBUG] ${t}`)}function K2(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function dW(t,e){let r;try{r=new URL(e)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let s=r.password;if(!s){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let n=r.searchParams.get("environment");if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let i=`DOTENV_VAULT_${n.toUpperCase()}`,o=t.parsed[i];if(!o){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:o,key:s}}function G2(t){let e=null;if(t&&t.path&&t.path.length>0)if(Array.isArray(t.path))for(let r of t.path)Rx.existsSync(r)&&(e=r.endsWith(".vault")?r:`${r}.vault`);else e=t.path.endsWith(".vault")?t.path:`${t.path}.vault`;else e=Ix.resolve(process.cwd(),".env.vault");return Rx.existsSync(e)?e:null}function V2(t){return t[0]==="~"?Ix.join(iW.homedir(),t.slice(1)):t}function fW(t){!!(t&&t.debug)&&_c("Loading env from encrypted .env.vault");let r=dt._parseVault(t),s=process.env;return t&&t.processEnv!=null&&(s=t.processEnv),dt.populate(s,r,t),{parsed:r}}function hW(t){let e=Ix.resolve(process.cwd(),".env"),r="utf8",s=!!(t&&t.debug);t&&t.encoding?r=t.encoding:s&&_c("No encoding is specified. UTF-8 is used by default");let n=[e];if(t&&t.path)if(!Array.isArray(t.path))n=[V2(t.path)];else{n=[];for(let c of t.path)n.push(V2(c))}let i,o={};for(let c of n)try{let u=dt.parse(Rx.readFileSync(c,{encoding:r}));dt.populate(o,u,t)}catch(u){s&&_c(`Failed to load ${c} ${u.message}`),i=u}let a=process.env;return t&&t.processEnv!=null&&(a=t.processEnv),dt.populate(a,o,t),i?{parsed:o,error:i}:{parsed:o}}function mW(t){if(K2(t).length===0)return dt.configDotenv(t);let e=G2(t);return e?dt._configVault(t):(pW(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),dt.configDotenv(t))}function yW(t,e){let r=Buffer.from(e.slice(-64),"hex"),s=Buffer.from(t,"base64"),n=s.subarray(0,12),i=s.subarray(-16);s=s.subarray(12,-16);try{let o=oW.createDecipheriv("aes-256-gcm",r,n);return o.setAuthTag(i),`${o.update(s)}${o.final()}`}catch(o){let a=o instanceof RangeError,c=o.message==="Invalid key length",u=o.message==="Unsupported state or unable to authenticate data";if(a||c){let l=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw l.code="INVALID_DOTENV_KEY",l}else if(u){let l=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw l.code="DECRYPTION_FAILED",l}else throw o}}function gW(t,e,r={}){let s=!!(r&&r.debug),n=!!(r&&r.override);if(typeof e!="object"){let i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(let i of Object.keys(e))Object.prototype.hasOwnProperty.call(t,i)?(n===!0&&(t[i]=e[i]),s&&_c(n===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):t[i]=e[i]}var dt={configDotenv:hW,_configVault:fW,_parseVault:lW,config:mW,decrypt:yW,parse:uW,populate:gW};vs.exports.configDotenv=dt.configDotenv;vs.exports._configVault=dt._configVault;vs.exports._parseVault=dt._parseVault;vs.exports.config=dt.config;vs.exports.decrypt=dt.decrypt;vs.exports.parse=dt.parse;vs.exports.populate=dt.populate;vs.exports=dt});var ke;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{let i={};for(let o of n)i[o]=o;return i},t.getValidEnumValues=n=>{let i=t.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),o={};for(let a of i)o[a]=n[a];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let i=[];for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},t.find=(n,i)=>{for(let o of n)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(ke||(ke={}));var Fd;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Fd||(Fd={}));var H=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jr=t=>{switch(typeof t){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(t)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(t)?H.array:t===null?H.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?H.promise:typeof Map<"u"&&t instanceof Map?H.map:typeof Set<"u"&&t instanceof Set?H.set:typeof Date<"u"&&t instanceof Date?H.date:H.object;default:return H.unknown}},C=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lI=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Qt=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},s={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let a=s,c=0;for(;c<o.path.length;){let u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return n(this),s}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};Qt.create=t=>new Qt(t);var Ti=(t,e)=>{let r;switch(t.code){case C.invalid_type:t.received===H.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case C.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ke.jsonStringifyReplacer)}`;break;case C.unrecognized_keys:r=`Unrecognized key(s) in object: ${ke.joinValues(t.keys,", ")}`;break;case C.invalid_union:r="Invalid input";break;case C.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ke.joinValues(t.options)}`;break;case C.invalid_enum_value:r=`Invalid enum value. Expected ${ke.joinValues(t.options)}, received '${t.received}'`;break;case C.invalid_arguments:r="Invalid function arguments";break;case C.invalid_return_type:r="Invalid function return type";break;case C.invalid_date:r="Invalid date";break;case C.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ke.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case C.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case C.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case C.custom:r="Invalid input";break;case C.invalid_intersection_types:r="Intersection results could not be merged";break;case C.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case C.not_finite:r="Number must be finite";break;default:r=e.defaultError,ke.assertNever(t)}return{message:r}},Hx=Ti;function pI(t){Hx=t}function Sc(){return Hx}var kc=t=>{let{data:e,path:r,errorMaps:s,issueData:n}=t,i=[...r,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let a="",c=s.filter(u=>!!u).slice().reverse();for(let u of c)a=u(o,{data:e,defaultError:a}).message;return{...n,path:i,message:a}},dI=[];function q(t,e){let r=Sc(),s=kc({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ti?void 0:Ti].filter(n=>!!n)});t.common.issues.push(s)}var Et=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let n of r){if(n.status==="aborted")return se;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let n of r){let i=await n.key,o=await n.value;s.push({key:i,value:o})}return t.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let n of r){let{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return se;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}},se=Object.freeze({status:"aborted"}),Ai=t=>({status:"dirty",value:t}),Dt=t=>({status:"valid",value:t}),zd=t=>t.status==="aborted",Hd=t=>t.status==="dirty",hn=t=>t.status==="valid",Vo=t=>typeof Promise<"u"&&t instanceof Promise;function Ec(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Zx(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}var $;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})($||($={}));var Ho,Zo,ur=class{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ux=(t,e)=>{if(hn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Qt(t.common.issues);return this._error=r,this._error}}};function le(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,a)=>{var c,u;let{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:(c=l??s)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=l??r)!==null&&u!==void 0?u:a.defaultError}},description:n}}var pe=class{get description(){return this._def.description}_getType(e){return Jr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Et,ctx:{common:e.parent.common,data:e.data,parsedType:Jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Vo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;let n={common:{issues:[],async:(s=r?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jr(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Ux(n,i)}"~validate"(e){var r,s;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jr(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:n});return hn(i)?{value:i.value}:{issues:n.common.issues}}catch(i){!((s=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>hn(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jr(e)},n=this._parse({data:e,path:s.path,parent:s}),i=await(Vo(n)?n:Promise.resolve(n));return Ux(s,i)}refine(e,r){let s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{let o=e(n),a=()=>i.addIssue({code:C.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new Jt({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return cr.create(this,this._def)}nullable(){return jr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xr.create(this)}promise(){return ks.create(this,this._def)}or(e){return _n.create([this,e],this._def)}and(e){return wn.create(this,e,this._def)}transform(e){return new Jt({...le(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Tn({...le(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new $o({typeName:re.ZodBranded,type:this,...le(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new On({...le(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ko.create(this,e)}readonly(){return Pn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},fI=/^c[^\s-]{8,}$/i,hI=/^[0-9a-z]+$/,mI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gI=/^[a-z0-9_-]{21}$/i,bI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_I="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ud,wI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OI=new RegExp(`^${Vx}$`);function $x(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PI(t){return new RegExp(`^${$x(t)}$`)}function Kx(t){let e=`${Vx}T${$x(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function CI(t,e){return!!((e==="v4"||!e)&&wI.test(t)||(e==="v6"||!e)&&kI.test(t))}function RI(t,e){if(!bI.test(t))return!1;try{let[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function II(t,e){return!!((e==="v4"||!e)&&SI.test(t)||(e==="v6"||!e)&&EI.test(t))}var ws=class t extends pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){let i=this._getOrReturnCtx(e);return q(i,{code:C.invalid_type,expected:H.string,received:i.parsedType}),se}let s=new Et,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(n=this._getOrReturnCtx(e,n),o?q(n,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&q(n,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")xI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"email",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Ud||(Ud=new RegExp(_I,"u")),Ud.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"emoji",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")yI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"uuid",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")gI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"nanoid",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")fI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")hI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid2",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")mI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ulid",code:C.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),q(n,{validation:"url",code:C.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"regex",code:C.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),q(n,{code:C.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:C.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:C.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?Kx(i).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:C.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?OI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:C.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?PI(i).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:C.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?vI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"duration",code:C.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?CI(e.data,i.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ip",code:C.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?RI(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"jwt",code:C.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?II(e.data,i.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cidr",code:C.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?AI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64",code:C.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?TI.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64url",code:C.invalid_string,message:i.message}),s.dirty()):ke.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:C.invalid_string,...$.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...$.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...$.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...$.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...$.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...$.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...$.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...$.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...$.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...$.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...$.errToObj(r)})}nonempty(e){return this.min(1,$.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ws.create=t=>{var e;return new ws({checks:[],typeName:re.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...le(t)})};function jI(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,i=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return i%o/Math.pow(10,n)}var mn=class t extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){let i=this._getOrReturnCtx(e);return q(i,{code:C.invalid_type,expected:H.number,received:i.parsedType}),se}let s,n=new Et;for(let i of this._def.checks)i.kind==="int"?ke.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:C.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),q(s,{code:C.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),q(s,{code:C.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?jI(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),q(s,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:C.not_finite,message:i.message}),n.dirty()):ke.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,$.toString(r))}gt(e,r){return this.setLimit("min",e,!1,$.toString(r))}lte(e,r){return this.setLimit("max",e,!0,$.toString(r))}lt(e,r){return this.setLimit("max",e,!1,$.toString(r))}setLimit(e,r,s,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:$.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:$.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:$.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ke.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};mn.create=t=>new mn({checks:[],typeName:re.ZodNumber,coerce:t?.coerce||!1,...le(t)});var yn=class t extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==H.bigint)return this._getInvalidInput(e);let s,n=new Et;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),q(s,{code:C.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),q(s,{code:C.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),q(s,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):ke.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return q(r,{code:C.invalid_type,expected:H.bigint,received:r.parsedType}),se}gte(e,r){return this.setLimit("min",e,!0,$.toString(r))}gt(e,r){return this.setLimit("min",e,!1,$.toString(r))}lte(e,r){return this.setLimit("max",e,!0,$.toString(r))}lt(e,r){return this.setLimit("max",e,!1,$.toString(r))}setLimit(e,r,s,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:$.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:$.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};yn.create=t=>{var e;return new yn({checks:[],typeName:re.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...le(t)})};var gn=class extends pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==H.boolean){let s=this._getOrReturnCtx(e);return q(s,{code:C.invalid_type,expected:H.boolean,received:s.parsedType}),se}return Dt(e.data)}};gn.create=t=>new gn({typeName:re.ZodBoolean,coerce:t?.coerce||!1,...le(t)});var bn=class t extends pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){let i=this._getOrReturnCtx(e);return q(i,{code:C.invalid_type,expected:H.date,received:i.parsedType}),se}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return q(i,{code:C.invalid_date}),se}let s=new Et,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:C.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:C.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):ke.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:$.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:$.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};bn.create=t=>new bn({checks:[],coerce:t?.coerce||!1,typeName:re.ZodDate,...le(t)});var Oi=class extends pe{_parse(e){if(this._getType(e)!==H.symbol){let s=this._getOrReturnCtx(e);return q(s,{code:C.invalid_type,expected:H.symbol,received:s.parsedType}),se}return Dt(e.data)}};Oi.create=t=>new Oi({typeName:re.ZodSymbol,...le(t)});var vn=class extends pe{_parse(e){if(this._getType(e)!==H.undefined){let s=this._getOrReturnCtx(e);return q(s,{code:C.invalid_type,expected:H.undefined,received:s.parsedType}),se}return Dt(e.data)}};vn.create=t=>new vn({typeName:re.ZodUndefined,...le(t)});var xn=class extends pe{_parse(e){if(this._getType(e)!==H.null){let s=this._getOrReturnCtx(e);return q(s,{code:C.invalid_type,expected:H.null,received:s.parsedType}),se}return Dt(e.data)}};xn.create=t=>new xn({typeName:re.ZodNull,...le(t)});var Ss=class extends pe{constructor(){super(...arguments),this._any=!0}_parse(e){return Dt(e.data)}};Ss.create=t=>new Ss({typeName:re.ZodAny,...le(t)});var Yr=class extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Dt(e.data)}};Yr.create=t=>new Yr({typeName:re.ZodUnknown,...le(t)});var gr=class extends pe{_parse(e){let r=this._getOrReturnCtx(e);return q(r,{code:C.invalid_type,expected:H.never,received:r.parsedType}),se}};gr.create=t=>new gr({typeName:re.ZodNever,...le(t)});var Pi=class extends pe{_parse(e){if(this._getType(e)!==H.undefined){let s=this._getOrReturnCtx(e);return q(s,{code:C.invalid_type,expected:H.void,received:s.parsedType}),se}return Dt(e.data)}};Pi.create=t=>new Pi({typeName:re.ZodVoid,...le(t)});var Xr=class t extends pe{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==H.array)return q(r,{code:C.invalid_type,expected:H.array,received:r.parsedType}),se;if(n.exactLength!==null){let o=r.data.length>n.exactLength.value,a=r.data.length<n.exactLength.value;(o||a)&&(q(r,{code:o?C.too_big:C.too_small,minimum:a?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(q(r,{code:C.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(q(r,{code:C.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>n.type._parseAsync(new ur(r,o,r.path,a)))).then(o=>Et.mergeArray(s,o));let i=[...r.data].map((o,a)=>n.type._parseSync(new ur(r,o,r.path,a)));return Et.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:$.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:$.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:$.toString(r)}})}nonempty(e){return this.min(1,e)}};Xr.create=(t,e)=>new Xr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...le(e)});function Ei(t){if(t instanceof Ut){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=cr.create(Ei(s))}return new Ut({...t._def,shape:()=>e})}else return t instanceof Xr?new Xr({...t._def,type:Ei(t.element)}):t instanceof cr?cr.create(Ei(t.unwrap())):t instanceof jr?jr.create(Ei(t.unwrap())):t instanceof Ir?Ir.create(t.items.map(e=>Ei(e))):t}var Ut=class t extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=ke.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==H.object){let u=this._getOrReturnCtx(e);return q(u,{code:C.invalid_type,expected:H.object,received:u.parsedType}),se}let{status:s,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof gr&&this._def.unknownKeys==="strip"))for(let u in n.data)o.includes(u)||a.push(u);let c=[];for(let u of o){let l=i[u],p=n.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ur(n,p,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof gr){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(u==="strict")a.length>0&&(q(n,{code:C.unrecognized_keys,keys:a}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of a){let p=n.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ur(n,p,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let p=await l.key,y=await l.value;u.push({key:p,value:y,alwaysSet:l.alwaysSet})}return u}).then(u=>Et.mergeObjectSync(s,u)):Et.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return $.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,i,o,a;let c=(o=(i=(n=this._def).errorMap)===null||i===void 0?void 0:i.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(a=$.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return ke.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return ke.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new t({...this._def,shape:()=>r})}deepPartial(){return Ei(this)}partial(e){let r={};return ke.objectKeys(this.shape).forEach(s=>{let n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return ke.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof cr;)i=i._def.innerType;r[s]=i}}),new t({...this._def,shape:()=>r})}keyof(){return Gx(ke.objectKeys(this.shape))}};Ut.create=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strip",catchall:gr.create(),typeName:re.ZodObject,...le(e)});Ut.strictCreate=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strict",catchall:gr.create(),typeName:re.ZodObject,...le(e)});Ut.lazycreate=(t,e)=>new Ut({shape:t,unknownKeys:"strip",catchall:gr.create(),typeName:re.ZodObject,...le(e)});var _n=class extends pe{_parse(e){let{ctx:r}=this._processInputParams(e),s=this._def.options;function n(i){for(let a of i)if(a.result.status==="valid")return a.result;for(let a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(a=>new Qt(a.ctx.common.issues));return q(r,{code:C.invalid_union,unionErrors:o}),se}if(r.common.async)return Promise.all(s.map(async i=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let i,o=[];for(let c of s){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let a=o.map(c=>new Qt(c));return q(r,{code:C.invalid_union,unionErrors:a}),se}}get options(){return this._def.options}};_n.create=(t,e)=>new _n({options:t,typeName:re.ZodUnion,...le(e)});var Qr=t=>t instanceof Sn?Qr(t.schema):t instanceof Jt?Qr(t.innerType()):t instanceof kn?[t.value]:t instanceof En?t.options:t instanceof An?ke.objectValues(t.enum):t instanceof Tn?Qr(t._def.innerType):t instanceof vn?[void 0]:t instanceof xn?[null]:t instanceof cr?[void 0,...Qr(t.unwrap())]:t instanceof jr?[null,...Qr(t.unwrap())]:t instanceof $o||t instanceof Pn?Qr(t.unwrap()):t instanceof On?Qr(t._def.innerType):[],Ac=class t extends pe{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==H.object)return q(r,{code:C.invalid_type,expected:H.object,received:r.parsedType}),se;let s=this.discriminator,n=r.data[s],i=this.optionsMap.get(n);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:C.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let n=new Map;for(let i of r){let o=Qr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,i)}}return new t({typeName:re.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...le(s)})}};function Zd(t,e){let r=Jr(t),s=Jr(e);if(t===e)return{valid:!0,data:t};if(r===H.object&&s===H.object){let n=ke.objectKeys(e),i=ke.objectKeys(t).filter(a=>n.indexOf(a)!==-1),o={...t,...e};for(let a of i){let c=Zd(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===H.array&&s===H.array){if(t.length!==e.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let o=t[i],a=e[i],c=Zd(o,a);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===H.date&&s===H.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var wn=class extends pe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),n=(i,o)=>{if(zd(i)||zd(o))return se;let a=Zd(i.value,o.value);return a.valid?((Hd(i)||Hd(o))&&r.dirty(),{status:r.value,value:a.data}):(q(s,{code:C.invalid_intersection_types}),se)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};wn.create=(t,e,r)=>new wn({left:t,right:e,typeName:re.ZodIntersection,...le(r)});var Ir=class t extends pe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==H.array)return q(s,{code:C.invalid_type,expected:H.array,received:s.parsedType}),se;if(s.data.length<this._def.items.length)return q(s,{code:C.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&s.data.length>this._def.items.length&&(q(s,{code:C.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...s.data].map((o,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new ur(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Et.mergeArray(r,o)):Et.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Ir.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ir({items:t,typeName:re.ZodTuple,rest:null,...le(e)})};var Tc=class t extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==H.object)return q(s,{code:C.invalid_type,expected:H.object,received:s.parsedType}),se;let n=[],i=this._def.keyType,o=this._def.valueType;for(let a in s.data)n.push({key:i._parse(new ur(s,a,s.path,a)),value:o._parse(new ur(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?Et.mergeObjectAsync(r,n):Et.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof pe?new t({keyType:e,valueType:r,typeName:re.ZodRecord,...le(s)}):new t({keyType:ws.create(),valueType:e,typeName:re.ZodRecord,...le(r)})}},Ci=class extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==H.map)return q(s,{code:C.invalid_type,expected:H.map,received:s.parsedType}),se;let n=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([a,c],u)=>({key:n._parse(new ur(s,a,s.path,[u,"key"])),value:i._parse(new ur(s,c,s.path,[u,"value"]))}));if(s.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of o){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return se;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of o){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return se;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}};Ci.create=(t,e,r)=>new Ci({valueType:e,keyType:t,typeName:re.ZodMap,...le(r)});var Ri=class t extends pe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==H.set)return q(s,{code:C.invalid_type,expected:H.set,received:s.parsedType}),se;let n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(q(s,{code:C.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(q(s,{code:C.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let i=this._def.valueType;function o(c){let u=new Set;for(let l of c){if(l.status==="aborted")return se;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let a=[...s.data.values()].map((c,u)=>i._parse(new ur(s,c,s.path,u)));return s.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:$.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:$.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ri.create=(t,e)=>new Ri({valueType:t,minSize:null,maxSize:null,typeName:re.ZodSet,...le(e)});var Oc=class t extends pe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==H.function)return q(r,{code:C.invalid_type,expected:H.function,received:r.parsedType}),se;function s(a,c){return kc({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Sc(),Ti].filter(u=>!!u),issueData:{code:C.invalid_arguments,argumentsError:c}})}function n(a,c){return kc({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Sc(),Ti].filter(u=>!!u),issueData:{code:C.invalid_return_type,returnTypeError:c}})}let i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ks){let a=this;return Dt(async function(...c){let u=new Qt([]),l=await a._def.args.parseAsync(c,i).catch(f=>{throw u.addIssue(s(c,f)),u}),p=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(p,i).catch(f=>{throw u.addIssue(n(p,f)),u})})}else{let a=this;return Dt(function(...c){let u=a._def.args.safeParse(c,i);if(!u.success)throw new Qt([s(c,u.error)]);let l=Reflect.apply(o,this,u.data),p=a._def.returns.safeParse(l,i);if(!p.success)throw new Qt([n(l,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Ir.create(e).rest(Yr.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new t({args:e||Ir.create([]).rest(Yr.create()),returns:r||Yr.create(),typeName:re.ZodFunction,...le(s)})}},Sn=class extends pe{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Sn.create=(t,e)=>new Sn({getter:t,typeName:re.ZodLazy,...le(e)});var kn=class extends pe{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return q(r,{received:r.data,code:C.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:e.data}}get value(){return this._def.value}};kn.create=(t,e)=>new kn({value:t,typeName:re.ZodLiteral,...le(e)});function Gx(t,e){return new En({values:t,typeName:re.ZodEnum,...le(e)})}var En=class t extends pe{constructor(){super(...arguments),Ho.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return q(r,{expected:ke.joinValues(s),received:r.parsedType,code:C.invalid_type}),se}if(Ec(this,Ho,"f")||Zx(this,Ho,new Set(this._def.values),"f"),!Ec(this,Ho,"f").has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return q(r,{received:r.data,code:C.invalid_enum_value,options:s}),se}return Dt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};Ho=new WeakMap;En.create=Gx;var An=class extends pe{constructor(){super(...arguments),Zo.set(this,void 0)}_parse(e){let r=ke.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==H.string&&s.parsedType!==H.number){let n=ke.objectValues(r);return q(s,{expected:ke.joinValues(n),received:s.parsedType,code:C.invalid_type}),se}if(Ec(this,Zo,"f")||Zx(this,Zo,new Set(ke.getValidEnumValues(this._def.values)),"f"),!Ec(this,Zo,"f").has(e.data)){let n=ke.objectValues(r);return q(s,{received:s.data,code:C.invalid_enum_value,options:n}),se}return Dt(e.data)}get enum(){return this._def.values}};Zo=new WeakMap;An.create=(t,e)=>new An({values:t,typeName:re.ZodNativeEnum,...le(e)});var ks=class extends pe{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==H.promise&&r.common.async===!1)return q(r,{code:C.invalid_type,expected:H.promise,received:r.parsedType}),se;let s=r.parsedType===H.promise?r.data:Promise.resolve(r.data);return Dt(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ks.create=(t,e)=>new ks({type:t,typeName:re.ZodPromise,...le(e)});var Jt=class extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{q(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let o=n.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return se;let c=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return c.status==="aborted"?se:c.status==="dirty"||r.value==="dirty"?Ai(c.value):c});{if(r.value==="aborted")return se;let a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?se:a.status==="dirty"||r.value==="dirty"?Ai(a.value):a}}if(n.type==="refinement"){let o=a=>{let c=n.refinement(a,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){let a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?se:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?se:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(n.type==="transform")if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!hn(o))return o;let a=n.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>hn(o)?Promise.resolve(n.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);ke.assertNever(n)}};Jt.create=(t,e,r)=>new Jt({schema:t,typeName:re.ZodEffects,effect:e,...le(r)});Jt.createWithPreprocess=(t,e,r)=>new Jt({schema:e,effect:{type:"preprocess",transform:t},typeName:re.ZodEffects,...le(r)});var cr=class extends pe{_parse(e){return this._getType(e)===H.undefined?Dt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};cr.create=(t,e)=>new cr({innerType:t,typeName:re.ZodOptional,...le(e)});var jr=class extends pe{_parse(e){return this._getType(e)===H.null?Dt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};jr.create=(t,e)=>new jr({innerType:t,typeName:re.ZodNullable,...le(e)});var Tn=class extends pe{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return r.parsedType===H.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Tn.create=(t,e)=>new Tn({innerType:t,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...le(e)});var On=class extends pe{_parse(e){let{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Vo(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qt(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Qt(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};On.create=(t,e)=>new On({innerType:t,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...le(e)});var Ii=class extends pe{_parse(e){if(this._getType(e)!==H.nan){let s=this._getOrReturnCtx(e);return q(s,{code:C.invalid_type,expected:H.nan,received:s.parsedType}),se}return{status:"valid",value:e.data}}};Ii.create=t=>new Ii({typeName:re.ZodNaN,...le(t)});var DI=Symbol("zod_brand"),$o=class extends pe{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}},Ko=class t extends pe{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?se:i.status==="dirty"?(r.dirty(),Ai(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{let n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?se:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new t({in:e,out:r,typeName:re.ZodPipeline})}},Pn=class extends pe{_parse(e){let r=this._def.innerType._parse(e),s=n=>(hn(n)&&(n.value=Object.freeze(n.value)),n);return Vo(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}};Pn.create=(t,e)=>new Pn({innerType:t,typeName:re.ZodReadonly,...le(e)});function Fx(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Wx(t,e={},r){return t?Ss.create().superRefine((s,n)=>{var i,o;let a=t(s);if(a instanceof Promise)return a.then(c=>{var u,l;if(!c){let p=Fx(e,s),y=(l=(u=p.fatal)!==null&&u!==void 0?u:r)!==null&&l!==void 0?l:!0;n.addIssue({code:"custom",...p,fatal:y})}});if(!a){let c=Fx(e,s),u=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...c,fatal:u})}}):Ss.create()}var BI={object:Ut.lazycreate},re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(re||(re={}));var NI=(t,e={message:`Input not instance of ${t.name}`})=>Wx(r=>r instanceof t,e),Qx=ws.create,Jx=mn.create,qI=Ii.create,MI=yn.create,Yx=gn.create,LI=bn.create,UI=Oi.create,FI=vn.create,zI=xn.create,HI=Ss.create,ZI=Yr.create,VI=gr.create,$I=Pi.create,KI=Xr.create,GI=Ut.create,WI=Ut.strictCreate,QI=_n.create,JI=Ac.create,YI=wn.create,XI=Ir.create,ej=Tc.create,tj=Ci.create,rj=Ri.create,sj=Oc.create,nj=Sn.create,ij=kn.create,oj=En.create,aj=An.create,cj=ks.create,zx=Jt.create,uj=cr.create,lj=jr.create,pj=Jt.createWithPreprocess,dj=Ko.create,fj=()=>Qx().optional(),hj=()=>Jx().optional(),mj=()=>Yx().optional(),yj={string:t=>ws.create({...t,coerce:!0}),number:t=>mn.create({...t,coerce:!0}),boolean:t=>gn.create({...t,coerce:!0}),bigint:t=>yn.create({...t,coerce:!0}),date:t=>bn.create({...t,coerce:!0})},gj=se,ge=Object.freeze({__proto__:null,defaultErrorMap:Ti,setErrorMap:pI,getErrorMap:Sc,makeIssue:kc,EMPTY_PATH:dI,addIssueToContext:q,ParseStatus:Et,INVALID:se,DIRTY:Ai,OK:Dt,isAborted:zd,isDirty:Hd,isValid:hn,isAsync:Vo,get util(){return ke},get objectUtil(){return Fd},ZodParsedType:H,getParsedType:Jr,ZodType:pe,datetimeRegex:Kx,ZodString:ws,ZodNumber:mn,ZodBigInt:yn,ZodBoolean:gn,ZodDate:bn,ZodSymbol:Oi,ZodUndefined:vn,ZodNull:xn,ZodAny:Ss,ZodUnknown:Yr,ZodNever:gr,ZodVoid:Pi,ZodArray:Xr,ZodObject:Ut,ZodUnion:_n,ZodDiscriminatedUnion:Ac,ZodIntersection:wn,ZodTuple:Ir,ZodRecord:Tc,ZodMap:Ci,ZodSet:Ri,ZodFunction:Oc,ZodLazy:Sn,ZodLiteral:kn,ZodEnum:En,ZodNativeEnum:An,ZodPromise:ks,ZodEffects:Jt,ZodTransformer:Jt,ZodOptional:cr,ZodNullable:jr,ZodDefault:Tn,ZodCatch:On,ZodNaN:Ii,BRAND:DI,ZodBranded:$o,ZodPipeline:Ko,ZodReadonly:Pn,custom:Wx,Schema:pe,ZodSchema:pe,late:BI,get ZodFirstPartyTypeKind(){return re},coerce:yj,any:HI,array:KI,bigint:MI,boolean:Yx,date:LI,discriminatedUnion:JI,effect:zx,enum:oj,function:sj,instanceof:NI,intersection:YI,lazy:nj,literal:ij,map:tj,nan:qI,nativeEnum:aj,never:VI,null:zI,nullable:lj,number:Jx,object:GI,oboolean:mj,onumber:hj,optional:uj,ostring:fj,pipeline:dj,preprocess:pj,promise:cj,record:ej,set:rj,strictObject:WI,string:Qx,symbol:UI,transformer:zx,tuple:XI,undefined:FI,union:QI,unknown:ZI,void:$I,NEVER:gj,ZodIssueCode:C,quotelessJson:lI,ZodError:Qt});var Q2=kt(QC()),xs=kt(DR());function lc(t,e){return function(){return t.apply(e,arguments)}}var{toString:OK}=Object.prototype,{getPrototypeOf:nx}=Object,{iterator:Ed,toStringTag:NR}=Symbol,Ad=(t=>e=>{let r=OK.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Or=t=>(t=t.toLowerCase(),e=>Ad(e)===t),Td=t=>e=>typeof e===t,{isArray:Do}=Array,pc=Td("undefined");function PK(t){return t!==null&&!pc(t)&&t.constructor!==null&&!pc(t.constructor)&&Wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var qR=Or("ArrayBuffer");function CK(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qR(t.buffer),e}var RK=Td("string"),Wt=Td("function"),MR=Td("number"),Od=t=>t!==null&&typeof t=="object",IK=t=>t===!0||t===!1,kd=t=>{if(Ad(t)!=="object")return!1;let e=nx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NR in t)&&!(Ed in t)},jK=Or("Date"),DK=Or("File"),BK=Or("Blob"),NK=Or("FileList"),qK=t=>Od(t)&&Wt(t.pipe),MK=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wt(t.append)&&((e=Ad(t))==="formdata"||e==="object"&&Wt(t.toString)&&t.toString()==="[object FormData]"))},LK=Or("URLSearchParams"),[UK,FK,zK,HK]=["ReadableStream","Request","Response","Headers"].map(Or),ZK=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),Do(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{let i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length,a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function LR(t,e){e=e.toLowerCase();let r=Object.keys(t),s=r.length,n;for(;s-- >0;)if(n=r[s],e===n.toLowerCase())return n;return null}var vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UR=t=>!pc(t)&&t!==vi;function sx(){let{caseless:t}=UR(this)&&this||{},e={},r=(s,n)=>{let i=t&&LR(e,n)||n;kd(e[i])&&kd(s)?e[i]=sx(e[i],s):kd(s)?e[i]=sx({},s):Do(s)?e[i]=s.slice():e[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&dc(arguments[s],r);return e}var VK=(t,e,r,{allOwnKeys:s}={})=>(dc(e,(n,i)=>{r&&Wt(n)?t[i]=lc(n,r):t[i]=n},{allOwnKeys:s}),t),$K=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KK=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},GK=(t,e,r,s)=>{let n,i,o,a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&nx(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},WK=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let s=t.indexOf(e,r);return s!==-1&&s===r},QK=t=>{if(!t)return null;if(Do(t))return t;let e=t.length;if(!MR(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},JK=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nx(Uint8Array)),YK=(t,e)=>{let s=(t&&t[Ed]).call(t),n;for(;(n=s.next())&&!n.done;){let i=n.value;e.call(t,i[0],i[1])}},XK=(t,e)=>{let r,s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},eG=Or("HTMLFormElement"),tG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),BR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),rG=Or("RegExp"),FR=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),s={};dc(r,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(s[i]=o||n)}),Object.defineProperties(t,s)},sG=t=>{FR(t,(e,r)=>{if(Wt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let s=t[r];if(Wt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nG=(t,e)=>{let r={},s=n=>{n.forEach(i=>{r[i]=!0})};return Do(t)?s(t):s(String(t).split(e)),r},iG=()=>{},oG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aG(t){return!!(t&&Wt(t.append)&&t[NR]==="FormData"&&t[Ed])}var cG=t=>{let e=new Array(10),r=(s,n)=>{if(Od(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;let i=Do(s)?[]:{};return dc(s,(o,a)=>{let c=r(o,n+1);!pc(c)&&(i[a]=c)}),e[n]=void 0,i}}return s};return r(t,0)},uG=Or("AsyncFunction"),lG=t=>t&&(Od(t)||Wt(t))&&Wt(t.then)&&Wt(t.catch),zR=((t,e)=>t?setImmediate:e?((r,s)=>(vi.addEventListener("message",({source:n,data:i})=>{n===vi&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),vi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Wt(vi.postMessage)),pG=typeof queueMicrotask<"u"?queueMicrotask.bind(vi):typeof process<"u"&&process.nextTick||zR,dG=t=>t!=null&&Wt(t[Ed]),x={isArray:Do,isArrayBuffer:qR,isBuffer:PK,isFormData:MK,isArrayBufferView:CK,isString:RK,isNumber:MR,isBoolean:IK,isObject:Od,isPlainObject:kd,isReadableStream:UK,isRequest:FK,isResponse:zK,isHeaders:HK,isUndefined:pc,isDate:jK,isFile:DK,isBlob:BK,isRegExp:rG,isFunction:Wt,isStream:qK,isURLSearchParams:LK,isTypedArray:JK,isFileList:NK,forEach:dc,merge:sx,extend:VK,trim:ZK,stripBOM:$K,inherits:KK,toFlatObject:GK,kindOf:Ad,kindOfTest:Or,endsWith:WK,toArray:QK,forEachEntry:YK,matchAll:XK,isHTMLForm:eG,hasOwnProperty:BR,hasOwnProp:BR,reduceDescriptors:FR,freezeMethods:sG,toObjectSet:nG,toCamelCase:tG,noop:iG,toFiniteNumber:oG,findKey:LR,global:vi,isContextDefined:UR,isSpecCompliantForm:aG,toJSONObject:cG,isAsyncFn:uG,isThenable:lG,setImmediate:zR,asap:pG,isIterable:dG};function Bo(t,e,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}x.inherits(Bo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});var HR=Bo.prototype,ZR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZR[t]={value:t}});Object.defineProperties(Bo,ZR);Object.defineProperty(HR,"isAxiosError",{value:!0});Bo.from=(t,e,r,s,n,i)=>{let o=Object.create(HR);return x.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Bo.call(o,t.message,e,r,s,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};var M=Bo;var VR=kt(qy(),1),Pd=VR.default;function ix(t){return x.isPlainObject(t)||x.isArray(t)}function KR(t){return x.endsWith(t,"[]")?t.slice(0,-2):t}function $R(t,e,r){return t?t.concat(e).map(function(n,i){return n=KR(n),!r&&i?"["+n+"]":n}).join(r?".":""):e}function fG(t){return x.isArray(t)&&!t.some(ix)}var hG=x.toFlatObject(x,{},null,function(e){return/^is[A-Z]/.test(e)});function mG(t,e,r){if(!x.isObject(t))throw new TypeError("target must be an object");e=e||new(Pd||FormData),r=x.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,m){return!x.isUndefined(m[h])});let s=r.metaTokens,n=r.visitor||l,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(e);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(x.isDate(d))return d.toISOString();if(!c&&x.isBlob(d))throw new M("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(d)||x.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function l(d,h,m){let b=d;if(d&&!m&&typeof d=="object"){if(x.endsWith(h,"{}"))h=s?h:h.slice(0,-2),d=JSON.stringify(d);else if(x.isArray(d)&&fG(d)||(x.isFileList(d)||x.endsWith(h,"[]"))&&(b=x.toArray(d)))return h=KR(h),b.forEach(function(v,O){!(x.isUndefined(v)||v===null)&&e.append(o===!0?$R([h],O,i):o===null?h:h+"[]",u(v))}),!1}return ix(d)?!0:(e.append($R(m,h,i),u(d)),!1)}let p=[],y=Object.assign(hG,{defaultVisitor:l,convertValue:u,isVisitable:ix});function f(d,h){if(!x.isUndefined(d)){if(p.indexOf(d)!==-1)throw Error("Circular reference detected in "+h.join("."));p.push(d),x.forEach(d,function(b,_){(!(x.isUndefined(b)||b===null)&&n.call(e,b,x.isString(_)?_.trim():_,h,y))===!0&&f(b,h?h.concat(_):[_])}),p.pop()}}if(!x.isObject(t))throw new TypeError("data must be an object");return f(t),e}var dn=mG;function GR(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function WR(t,e){this._pairs=[],t&&dn(t,this,e)}var QR=WR.prototype;QR.append=function(e,r){this._pairs.push([e,r])};QR.toString=function(e){let r=e?function(s){return e.call(this,s,GR)}:GR;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};var JR=WR;function yG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xi(t,e,r){if(!e)return t;let s=r&&r.encode||yG;x.isFunction(r)&&(r={serialize:r});let n=r&&r.serialize,i;if(n?i=n(e,r):i=x.isURLSearchParams(e)?e.toString():new JR(e,r).toString(s),i){let o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var ox=class{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){x.forEach(this.handlers,function(s){s!==null&&e(s)})}},ax=ox;var No={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var t2=kt(require("crypto"),1);var YR=kt(require("url"),1),XR=YR.default.URLSearchParams;var cx="abcdefghijklmnopqrstuvwxyz",e2="0123456789",r2={DIGIT:e2,ALPHA:cx,ALPHA_DIGIT:cx+cx.toUpperCase()+e2},gG=(t=16,e=r2.ALPHA_DIGIT)=>{let r="",{length:s}=e,n=new Uint32Array(t);t2.default.randomFillSync(n);for(let i=0;i<t;i++)r+=e[n[i]%s];return r},s2={isNode:!0,classes:{URLSearchParams:XR,FormData:Pd,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:r2,generateString:gG,protocols:["http","https","file","data"]};var px={};qx(px,{hasBrowserEnv:()=>lx,hasStandardBrowserEnv:()=>bG,hasStandardBrowserWebWorkerEnv:()=>vG,navigator:()=>ux,origin:()=>xG});var lx=typeof window<"u"&&typeof document<"u",ux=typeof navigator=="object"&&navigator||void 0,bG=lx&&(!ux||["ReactNative","NativeScript","NS"].indexOf(ux.product)<0),vG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xG=lx&&window.location.href||"http://localhost";var Te={...px,...s2};function dx(t,e){return dn(t,new Te.classes.URLSearchParams,Object.assign({visitor:function(r,s,n,i){return Te.isNode&&x.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function _G(t){return x.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wG(t){let e={},r=Object.keys(t),s,n=r.length,i;for(s=0;s<n;s++)i=r[s],e[i]=t[i];return e}function SG(t){function e(r,s,n,i){let o=r[i++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),c=i>=r.length;return o=!o&&x.isArray(n)?n.length:o,c?(x.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!a):((!n[o]||!x.isObject(n[o]))&&(n[o]=[]),e(r,s,n[o],i)&&x.isArray(n[o])&&(n[o]=wG(n[o])),!a)}if(x.isFormData(t)&&x.isFunction(t.entries)){let r={};return x.forEachEntry(t,(s,n)=>{e(_G(s),n,r,0)}),r}return null}var Cd=SG;function kG(t,e,r){if(x.isString(t))try{return(e||JSON.parse)(t),x.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}var fx={transitional:No,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=x.isObject(e);if(i&&x.isHTMLForm(e)&&(e=new FormData(e)),x.isFormData(e))return n?JSON.stringify(Cd(e)):e;if(x.isArrayBuffer(e)||x.isBuffer(e)||x.isStream(e)||x.isFile(e)||x.isBlob(e)||x.isReadableStream(e))return e;if(x.isArrayBufferView(e))return e.buffer;if(x.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return dx(e,this.formSerializer).toString();if((a=x.isFileList(e))||s.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return dn(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),kG(e)):e}],transformResponse:[function(e){let r=this.transitional||fx.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(e)||x.isReadableStream(e))return e;if(e&&x.isString(e)&&(s&&!this.responseType||n)){let o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?M.from(a,M.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],t=>{fx.headers[t]={}});var qo=fx;var EG=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n2=t=>{let e={},r,s,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!r||e[r]&&EG[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e};var i2=Symbol("internals");function fc(t){return t&&String(t).trim().toLowerCase()}function Rd(t){return t===!1||t==null?t:x.isArray(t)?t.map(Rd):String(t)}function AG(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}var TG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hx(t,e,r,s,n){if(x.isFunction(s))return s.call(this,e,r);if(n&&(e=r),!!x.isString(e)){if(x.isString(s))return e.indexOf(s)!==-1;if(x.isRegExp(s))return s.test(e)}}function OG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function PG(t,e){let r=x.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(n,i,o){return this[s].call(this,e,n,i,o)},configurable:!0})})}var Mo=class{constructor(e){e&&this.set(e)}set(e,r,s){let n=this;function i(a,c,u){let l=fc(c);if(!l)throw new Error("header name must be a non-empty string");let p=x.findKey(n,l);(!p||n[p]===void 0||u===!0||u===void 0&&n[p]!==!1)&&(n[p||c]=Rd(a))}let o=(a,c)=>x.forEach(a,(u,l)=>i(u,l,c));if(x.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(x.isString(e)&&(e=e.trim())&&!TG(e))o(n2(e),r);else if(x.isObject(e)&&x.isIterable(e)){let a={},c,u;for(let l of e){if(!x.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?x.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,r)}else e!=null&&i(r,e,s);return this}get(e,r){if(e=fc(e),e){let s=x.findKey(this,e);if(s){let n=this[s];if(!r)return n;if(r===!0)return AG(n);if(x.isFunction(r))return r.call(this,n,s);if(x.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=fc(e),e){let s=x.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||hx(this,this[s],s,r)))}return!1}delete(e,r){let s=this,n=!1;function i(o){if(o=fc(o),o){let a=x.findKey(s,o);a&&(!r||hx(s,s[a],a,r))&&(delete s[a],n=!0)}}return x.isArray(e)?e.forEach(i):i(e),n}clear(e){let r=Object.keys(this),s=r.length,n=!1;for(;s--;){let i=r[s];(!e||hx(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let r=this,s={};return x.forEach(this,(n,i)=>{let o=x.findKey(s,i);if(o){r[o]=Rd(n),delete r[i];return}let a=e?OG(i):String(i).trim();a!==i&&delete r[i],r[a]=Rd(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return x.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=e&&x.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let s=new this(e);return r.forEach(n=>s.set(n)),s}static accessor(e){let s=(this[i2]=this[i2]={accessors:{}}).accessors,n=this.prototype;function i(o){let a=fc(o);s[a]||(PG(n,o),s[a]=!0)}return x.isArray(e)?e.forEach(i):i(e),this}};Mo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Mo.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});x.freezeMethods(Mo);var Xe=Mo;function hc(t,e){let r=this||qo,s=e||r,n=Xe.from(s.headers),i=s.data;return x.forEach(t,function(a){i=a.call(r,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function mc(t){return!!(t&&t.__CANCEL__)}function o2(t,e,r){M.call(this,t??"canceled",M.ERR_CANCELED,e,r),this.name="CanceledError"}x.inherits(o2,M,{__CANCEL__:!0});var ir=o2;function Gr(t,e,r){let s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new M("Request failed with status code "+r.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _i(t,e,r){let s=!mx(e);return t&&(s||r==!1)?yx(t,e):e}var w2=kt(My(),1),S2=kt(require("http"),1),k2=kt(require("https"),1),E2=kt(require("util"),1),A2=kt(tg(),1),bs=kt(require("zlib"),1);var wi="1.9.0";function yc(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var CG=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function gx(t,e,r){let s=r&&r.Blob||Te.classes.Blob,n=yc(t);if(e===void 0&&s&&(e=!0),n==="data"){t=n.length?t.slice(n.length+1):t;let i=CG.exec(t);if(!i)throw new M("Invalid URL",M.ERR_INVALID_URL);let o=i[1],a=i[2],c=i[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!s)throw new M("Blob is not supported",M.ERR_NOT_SUPPORT);return new s([u],{type:o})}return u}throw new M("Unsupported protocol "+n,M.ERR_NOT_SUPPORT)}var ki=kt(require("stream"),1);var a2=kt(require("stream"),1);var bx=Symbol("internals"),vx=class extends a2.default.Transform{constructor(e){e=x.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(s,n)=>!x.isUndefined(n[s])),super({readableHighWaterMark:e.chunkSize});let r=this[bx]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",s=>{s==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[bx];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,s){let n=this[bx],i=n.maxRate,o=this.readableHighWaterMark,a=n.timeWindow,c=1e3/a,u=i/c,l=n.minChunkSize!==!1?Math.max(n.minChunkSize,u*.01):0,p=(f,d)=>{let h=Buffer.byteLength(f);n.bytesSeen+=h,n.bytes+=h,n.isCaptured&&this.emit("progress",n.bytesSeen),this.push(f)?process.nextTick(d):n.onReadCallback=()=>{n.onReadCallback=null,process.nextTick(d)}},y=(f,d)=>{let h=Buffer.byteLength(f),m=null,b=o,_,v=0;if(i){let O=Date.now();(!n.ts||(v=O-n.ts)>=a)&&(n.ts=O,_=u-n.bytes,n.bytes=_<0?-_:0,v=0),_=u-n.bytes}if(i){if(_<=0)return setTimeout(()=>{d(null,f)},a-v);_<b&&(b=_)}b&&h>b&&h-b>l&&(m=f.subarray(b),f=f.subarray(0,b)),p(f,m?()=>{process.nextTick(d,null,m)}:d)};y(e,function f(d,h){if(d)return s(d);h?y(h,f):s(null)})}},xx=vx;var T2=require("events");var u2=kt(require("util"),1),l2=require("stream");var{asyncIterator:c2}=Symbol,RG=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[c2]?yield*t[c2]():yield t},Id=RG;var IG=Te.ALPHABET.ALPHA_DIGIT+"-_",gc=typeof TextEncoder=="function"?new TextEncoder:new u2.default.TextEncoder,Si=`\r
`,jG=gc.encode(Si),DG=2,_x=class{constructor(e,r){let{escapeName:s}=this.constructor,n=x.isString(r),i=`Content-Disposition: form-data; name="${s(e)}"${!n&&r.name?`; filename="${s(r.name)}"`:""}${Si}`;n?r=gc.encode(String(r).replace(/\r?\n|\r\n?/g,Si)):i+=`Content-Type: ${r.type||"application/octet-stream"}${Si}`,this.headers=gc.encode(i+Si),this.contentLength=n?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+DG,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;x.isTypedArray(e)?yield e:yield*Id(e),yield jG}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},BG=(t,e,r)=>{let{tag:s="form-data-boundary",size:n=25,boundary:i=s+"-"+Te.generateString(n,IG)}=r||{};if(!x.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let o=gc.encode("--"+i+Si),a=gc.encode("--"+i+"--"+Si),c=a.byteLength,u=Array.from(t.entries()).map(([p,y])=>{let f=new _x(p,y);return c+=f.size,f});c+=o.byteLength*u.length,c=x.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),l2.Readable.from(async function*(){for(let p of u)yield o,yield*p.encode();yield a}())},p2=BG;var d2=kt(require("stream"),1),wx=class extends d2.default.Transform{__transform(e,r,s){this.push(e),s()}_transform(e,r,s){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let n=Buffer.alloc(2);n[0]=120,n[1]=156,this.push(n,r)}this.__transform(e,r,s)}},f2=wx;var NG=(t,e)=>x.isAsyncFn(t)?function(...r){let s=r.pop();t.apply(this,r).then(n=>{try{e?s(null,...e(n)):s(null,n)}catch(i){s(i)}},s)}:t,h2=NG;function qG(t,e){t=t||10;let r=new Array(t),s=new Array(t),n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=s[i];o||(o=u),r[n]=c,s[n]=u;let p=i,y=0;for(;p!==n;)y+=r[p++],p=p%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),u-o<e)return;let f=l&&u-l;return f?Math.round(y*1e3/f):void 0}}var m2=qG;function MG(t,e){let r=0,s=1e3/e,n,i,o=(u,l=Date.now())=>{r=l,n=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{let l=Date.now(),p=l-r;p>=s?o(u,l):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},s-p)))},()=>n&&o(n)]}var y2=MG;var gs=(t,e,r=3)=>{let s=0,n=m2(50,250);return y2(i=>{let o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-s,u=n(c),l=o<=a;s=o;let p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},r)},Lo=(t,e)=>{let r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},Uo=t=>(...e)=>x.asap(()=>t(...e));var g2={flush:bs.default.constants.Z_SYNC_FLUSH,finishFlush:bs.default.constants.Z_SYNC_FLUSH},LG={flush:bs.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:bs.default.constants.BROTLI_OPERATION_FLUSH},b2=x.isFunction(bs.default.createBrotliDecompress),{http:UG,https:FG}=A2.default,zG=/https:?/,v2=Te.protocols.map(t=>t+":"),x2=(t,[e,r])=>(t.on("end",r).on("error",r),e);function HG(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function O2(t,e,r){let s=e;if(!s&&s!==!1){let n=w2.default.getProxyForUrl(r);n&&(s=new URL(n))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let i=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let n=s.hostname||s.host;t.hostname=n,t.host=n,t.port=s.port,t.path=r,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(i){O2(i,e,i.href)}}var ZG=typeof process<"u"&&x.kindOf(process)==="process",VG=t=>new Promise((e,r)=>{let s,n,i=(c,u)=>{n||(n=!0,s&&s(c,u))},o=c=>{i(c),e(c)},a=c=>{i(c,!0),r(c)};t(o,a,c=>s=c).catch(a)}),$G=({address:t,family:e})=>{if(!x.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},_2=(t,e)=>$G(x.isObject(t)?t:{address:t,family:e}),P2=ZG&&function(e){return VG(async function(s,n,i){let{data:o,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,p=e.method.toUpperCase(),y,f=!1,d;if(a){let T=h2(a,S=>x.isArray(S)?S:[S]);a=(S,R,Z)=>{T(S,R,(F,X,Se)=>{if(F)return Z(F);let oe=x.isArray(X)?X.map(W=>_2(W)):[_2(X,Se)];R.all?Z(F,oe):Z(F,oe[0].address,oe[0].family)})}}let h=new T2.EventEmitter,m=()=>{e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),h.removeAllListeners()};i((T,S)=>{y=!0,S&&(f=!0,m())});function b(T){h.emit("abort",!T||T.type?new ir(null,e,d):T)}h.once("abort",n),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));let _=_i(e.baseURL,e.url,e.allowAbsoluteUrls),v=new URL(_,Te.hasBrowserEnv?Te.origin:void 0),O=v.protocol||v2[0];if(O==="data:"){let T;if(p!=="GET")return Gr(s,n,{status:405,statusText:"method not allowed",headers:{},config:e});try{T=gx(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(S){throw M.from(S,M.ERR_BAD_REQUEST,e)}return u==="text"?(T=T.toString(l),(!l||l==="utf8")&&(T=x.stripBOM(T))):u==="stream"&&(T=ki.default.Readable.from(T)),Gr(s,n,{data:T,status:200,statusText:"OK",headers:new Xe,config:e})}if(v2.indexOf(O)===-1)return n(new M("Unsupported protocol "+O,M.ERR_BAD_REQUEST,e));let P=Xe.from(e.headers).normalize();P.set("User-Agent","axios/"+wi,!1);let{onUploadProgress:U,onDownloadProgress:j}=e,N=e.maxRate,te,he;if(x.isSpecCompliantForm(o)){let T=P.getContentType(/boundary=([-_\w\d]{10,70})/i);o=p2(o,S=>{P.set(S)},{tag:`axios-${wi}-boundary`,boundary:T&&T[1]||void 0})}else if(x.isFormData(o)&&x.isFunction(o.getHeaders)){if(P.set(o.getHeaders()),!P.hasContentLength())try{let T=await E2.default.promisify(o.getLength).call(o);Number.isFinite(T)&&T>=0&&P.setContentLength(T)}catch{}}else if(x.isBlob(o)||x.isFile(o))o.size&&P.setContentType(o.type||"application/octet-stream"),P.setContentLength(o.size||0),o=ki.default.Readable.from(Id(o));else if(o&&!x.isStream(o)){if(!Buffer.isBuffer(o))if(x.isArrayBuffer(o))o=Buffer.from(new Uint8Array(o));else if(x.isString(o))o=Buffer.from(o,"utf-8");else return n(new M("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",M.ERR_BAD_REQUEST,e));if(P.setContentLength(o.length,!1),e.maxBodyLength>-1&&o.length>e.maxBodyLength)return n(new M("Request body larger than maxBodyLength limit",M.ERR_BAD_REQUEST,e))}let we=x.toFiniteNumber(P.getContentLength());x.isArray(N)?(te=N[0],he=N[1]):te=he=N,o&&(U||te)&&(x.isStream(o)||(o=ki.default.Readable.from(o,{objectMode:!1})),o=ki.default.pipeline([o,new xx({maxRate:x.toFiniteNumber(te)})],x.noop),U&&o.on("progress",x2(o,Lo(we,gs(Uo(U),!1,3)))));let ue;if(e.auth){let T=e.auth.username||"",S=e.auth.password||"";ue=T+":"+S}if(!ue&&v.username){let T=v.username,S=v.password;ue=T+":"+S}ue&&P.delete("authorization");let St;try{St=xi(v.pathname+v.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(T){let S=new Error(T.message);return S.config=e,S.url=e.url,S.exists=!0,n(S)}P.set("Accept-Encoding","gzip, compress, deflate"+(b2?", br":""),!1);let G={path:St,method:p,headers:P.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:ue,protocol:O,family:c,beforeRedirect:HG,beforeRedirects:{}};!x.isUndefined(a)&&(G.lookup=a),e.socketPath?G.socketPath=e.socketPath:(G.hostname=v.hostname.startsWith("[")?v.hostname.slice(1,-1):v.hostname,G.port=v.port,O2(G,e.proxy,O+"//"+v.hostname+(v.port?":"+v.port:"")+G.path));let et,or=zG.test(G.protocol);if(G.agent=or?e.httpsAgent:e.httpAgent,e.transport?et=e.transport:e.maxRedirects===0?et=or?k2.default:S2.default:(e.maxRedirects&&(G.maxRedirects=e.maxRedirects),e.beforeRedirect&&(G.beforeRedirects.config=e.beforeRedirect),et=or?FG:UG),e.maxBodyLength>-1?G.maxBodyLength=e.maxBodyLength:G.maxBodyLength=1/0,e.insecureHTTPParser&&(G.insecureHTTPParser=e.insecureHTTPParser),d=et.request(G,function(S){if(d.destroyed)return;let R=[S],Z=+S.headers["content-length"];if(j||he){let W=new xx({maxRate:x.toFiniteNumber(he)});j&&W.on("progress",x2(W,Lo(Z,gs(Uo(j),!0,3)))),R.push(W)}let F=S,X=S.req||d;if(e.decompress!==!1&&S.headers["content-encoding"])switch((p==="HEAD"||S.statusCode===204)&&delete S.headers["content-encoding"],(S.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":R.push(bs.default.createUnzip(g2)),delete S.headers["content-encoding"];break;case"deflate":R.push(new f2),R.push(bs.default.createUnzip(g2)),delete S.headers["content-encoding"];break;case"br":b2&&(R.push(bs.default.createBrotliDecompress(LG)),delete S.headers["content-encoding"])}F=R.length>1?ki.default.pipeline(R,x.noop):R[0];let Se=ki.default.finished(F,()=>{Se(),m()}),oe={status:S.statusCode,statusText:S.statusMessage,headers:new Xe(S.headers),config:e,request:X};if(u==="stream")oe.data=F,Gr(s,n,oe);else{let W=[],De=0;F.on("data",function(ie){W.push(ie),De+=ie.length,e.maxContentLength>-1&&De>e.maxContentLength&&(f=!0,F.destroy(),n(new M("maxContentLength size of "+e.maxContentLength+" exceeded",M.ERR_BAD_RESPONSE,e,X)))}),F.on("aborted",function(){if(f)return;let ie=new M("stream has been aborted",M.ERR_BAD_RESPONSE,e,X);F.destroy(ie),n(ie)}),F.on("error",function(ie){d.destroyed||n(M.from(ie,null,e,X))}),F.on("end",function(){try{let ie=W.length===1?W[0]:Buffer.concat(W);u!=="arraybuffer"&&(ie=ie.toString(l),(!l||l==="utf8")&&(ie=x.stripBOM(ie))),oe.data=ie}catch(ie){return n(M.from(ie,null,e,oe.request,oe))}Gr(s,n,oe)})}h.once("abort",W=>{F.destroyed||(F.emit("error",W),F.destroy())})}),h.once("abort",T=>{n(T),d.destroy(T)}),d.on("error",function(S){n(M.from(S,null,e,d))}),d.on("socket",function(S){S.setKeepAlive(!0,1e3*60)}),e.timeout){let T=parseInt(e.timeout,10);if(Number.isNaN(T)){n(new M("error trying to parse `config.timeout` to int",M.ERR_BAD_OPTION_VALUE,e,d));return}d.setTimeout(T,function(){if(y)return;let R=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Z=e.transitional||No;e.timeoutErrorMessage&&(R=e.timeoutErrorMessage),n(new M(R,Z.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,e,d)),b()})}if(x.isStream(o)){let T=!1,S=!1;o.on("end",()=>{T=!0}),o.once("error",R=>{S=!0,d.destroy(R)}),o.on("close",()=>{!T&&!S&&b(new ir("Request stream has been aborted",e,d))}),o.pipe(d)}else d.end(o)})};var C2=Te.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Te.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0;var R2=Te.hasStandardBrowserEnv?{write(t,e,r,s,n,i){let o=[t+"="+encodeURIComponent(e)];x.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),x.isString(s)&&o.push("path="+s),x.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var I2=t=>t instanceof Xe?{...t}:t;function Pr(t,e){e=e||{};let r={};function s(u,l,p,y){return x.isPlainObject(u)&&x.isPlainObject(l)?x.merge.call({caseless:y},u,l):x.isPlainObject(l)?x.merge({},l):x.isArray(l)?l.slice():l}function n(u,l,p,y){if(x.isUndefined(l)){if(!x.isUndefined(u))return s(void 0,u,p,y)}else return s(u,l,p,y)}function i(u,l){if(!x.isUndefined(l))return s(void 0,l)}function o(u,l){if(x.isUndefined(l)){if(!x.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function a(u,l,p){if(p in e)return s(u,l);if(p in t)return s(void 0,u)}let c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,p)=>n(I2(u),I2(l),p,!0)};return x.forEach(Object.keys(Object.assign({},t,e)),function(l){let p=c[l]||n,y=p(t[l],e[l],l);x.isUndefined(y)&&p!==a||(r[l]=y)}),r}var jd=t=>{let e=Pr({},t),{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Xe.from(o),e.url=xi(_i(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(x.isFormData(r)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){let[u,...l]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(Te.hasStandardBrowserEnv&&(s&&x.isFunction(s)&&(s=s(e)),s||s!==!1&&C2(e.url))){let u=n&&i&&R2.read(i);u&&o.set(n,u)}return e};var KG=typeof XMLHttpRequest<"u",j2=KG&&function(t){return new Promise(function(r,s){let n=jd(t),i=n.data,o=Xe.from(n.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:u}=n,l,p,y,f,d;function h(){f&&f(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let m=new XMLHttpRequest;m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout;function b(){if(!m)return;let v=Xe.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:v,config:t,request:m};Gr(function(j){r(j),h()},function(j){s(j),h()},P),m=null}"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(b)},m.onabort=function(){m&&(s(new M("Request aborted",M.ECONNABORTED,t,m)),m=null)},m.onerror=function(){s(new M("Network Error",M.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let O=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",P=n.transitional||No;n.timeoutErrorMessage&&(O=n.timeoutErrorMessage),s(new M(O,P.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,t,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&x.forEach(o.toJSON(),function(O,P){m.setRequestHeader(P,O)}),x.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),a&&a!=="json"&&(m.responseType=n.responseType),u&&([y,d]=gs(u,!0),m.addEventListener("progress",y)),c&&m.upload&&([p,f]=gs(c),m.upload.addEventListener("progress",p),m.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(l=v=>{m&&(s(!v||v.type?new ir(null,t,m):v),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));let _=yc(n.url);if(_&&Te.protocols.indexOf(_)===-1){s(new M("Unsupported protocol "+_+":",M.ERR_BAD_REQUEST,t));return}m.send(i||null)})};var GG=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,n,i=function(u){if(!n){n=!0,a();let l=u instanceof Error?u:this.reason;s.abort(l instanceof M?l:new ir(l instanceof Error?l.message:l))}},o=e&&setTimeout(()=>{o=null,i(new M(`timeout ${e} of ms exceeded`,M.ETIMEDOUT))},e),a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));let{signal:c}=s;return c.unsubscribe=()=>x.asap(a),c}},D2=GG;var WG=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let s=0,n;for(;s<r;)n=s+e,yield t.slice(s,n),s=n},QG=async function*(t,e){for await(let r of JG(t))yield*WG(r,e)},JG=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Sx=(t,e,r,s)=>{let n=QG(t,e),i=0,o,a=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{let{done:u,value:l}=await n.next();if(u){a(),c.close();return}let p=l.byteLength;if(r){let y=i+=p;r(y)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),n.return()}},{highWaterMark:2})};var Bd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",N2=Bd&&typeof ReadableStream=="function",YG=Bd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),q2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},XG=N2&&q2(()=>{let t=!1,e=new Request(Te.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),B2=64*1024,kx=N2&&q2(()=>x.isReadableStream(new Response("").body)),Dd={stream:kx&&(t=>t.body)};Bd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dd[e]&&(Dd[e]=x.isFunction(t[e])?r=>r[e]():(r,s)=>{throw new M(`Response type '${e}' is not supported`,M.ERR_NOT_SUPPORT,s)})})})(new Response);var eW=async t=>{if(t==null)return 0;if(x.isBlob(t))return t.size;if(x.isSpecCompliantForm(t))return(await new Request(Te.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(x.isArrayBufferView(t)||x.isArrayBuffer(t))return t.byteLength;if(x.isURLSearchParams(t)&&(t=t+""),x.isString(t))return(await YG(t)).byteLength},tW=async(t,e)=>{let r=x.toFiniteNumber(t.getContentLength());return r??eW(e)},M2=Bd&&(async t=>{let{url:e,method:r,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:p="same-origin",fetchOptions:y}=jd(t);u=u?(u+"").toLowerCase():"text";let f=D2([n,i&&i.toAbortSignal()],o),d,h=f&&f.unsubscribe&&(()=>{f.unsubscribe()}),m;try{if(c&&XG&&r!=="get"&&r!=="head"&&(m=await tW(l,s))!==0){let P=new Request(e,{method:"POST",body:s,duplex:"half"}),U;if(x.isFormData(s)&&(U=P.headers.get("content-type"))&&l.setContentType(U),P.body){let[j,N]=Lo(m,gs(Uo(c)));s=Sx(P.body,B2,j,N)}}x.isString(p)||(p=p?"include":"omit");let b="credentials"in Request.prototype;d=new Request(e,{...y,signal:f,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:s,duplex:"half",credentials:b?p:void 0});let _=await fetch(d),v=kx&&(u==="stream"||u==="response");if(kx&&(a||v&&h)){let P={};["status","statusText","headers"].forEach(te=>{P[te]=_[te]});let U=x.toFiniteNumber(_.headers.get("content-length")),[j,N]=a&&Lo(U,gs(Uo(a),!0))||[];_=new Response(Sx(_.body,B2,j,()=>{N&&N(),h&&h()}),P)}u=u||"text";let O=await Dd[x.findKey(Dd,u)||"text"](_,t);return!v&&h&&h(),await new Promise((P,U)=>{Gr(P,U,{data:O,headers:Xe.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:d})})}catch(b){throw h&&h(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new M("Network Error",M.ERR_NETWORK,t,d),{cause:b.cause||b}):M.from(b,b&&b.code,t,d)}});var Ex={http:P2,xhr:j2,fetch:M2};x.forEach(Ex,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var L2=t=>`- ${t}`,rW=t=>x.isFunction(t)||t===null||t===!1,Nd={getAdapter:t=>{t=x.isArray(t)?t:[t];let{length:e}=t,r,s,n={};for(let i=0;i<e;i++){r=t[i];let o;if(s=r,!rW(r)&&(s=Ex[(o=String(r)).toLowerCase()],s===void 0))throw new M(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){let i=Object.entries(n).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),o=e?i.length>1?`since :
`+i.map(L2).join(`
`):" "+L2(i[0]):"as no adapter specified";throw new M("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ex};function Ax(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ir(null,t)}function qd(t){return Ax(t),t.headers=Xe.from(t.headers),t.data=hc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Nd.getAdapter(t.adapter||qo.adapter)(t).then(function(s){return Ax(t),s.data=hc.call(t,t.transformResponse,s),s.headers=Xe.from(s.headers),s},function(s){return mc(s)||(Ax(t),s&&s.response&&(s.response.data=hc.call(t,t.transformResponse,s.response),s.response.headers=Xe.from(s.response.headers))),Promise.reject(s)})}var Md={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Md[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var U2={};Md.transitional=function(e,r,s){function n(i,o){return"[Axios v"+wi+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new M(n(o," has been removed"+(r?" in "+r:"")),M.ERR_DEPRECATED);return r&&!U2[o]&&(U2[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};Md.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function sW(t,e,r){if(typeof t!="object")throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);let s=Object.keys(t),n=s.length;for(;n-- >0;){let i=s[n],o=e[i];if(o){let a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new M("option "+i+" must be "+c,M.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}}var bc={assertOptions:sW,validators:Md};var Wr=bc.validators,Fo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ax,response:new ax}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;let i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Pr(this.defaults,r);let{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&bc.assertOptions(s,{silentJSONParsing:Wr.transitional(Wr.boolean),forcedJSONParsing:Wr.transitional(Wr.boolean),clarifyTimeoutError:Wr.transitional(Wr.boolean)},!1),n!=null&&(x.isFunction(n)?r.paramsSerializer={serialize:n}:bc.assertOptions(n,{encode:Wr.function,serialize:Wr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),bc.assertOptions(r,{baseUrl:Wr.spelling("baseURL"),withXsrfToken:Wr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&x.merge(i.common,i[r.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),r.headers=Xe.concat(o,i);let a=[],c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let u=[];this.interceptors.response.forEach(function(h){u.push(h.fulfilled,h.rejected)});let l,p=0,y;if(!c){let d=[qd.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),y=d.length,l=Promise.resolve(r);p<y;)l=l.then(d[p++],d[p++]);return l}y=a.length;let f=r;for(p=0;p<y;){let d=a[p++],h=a[p++];try{f=d(f)}catch(m){h.call(this,m);break}}try{l=qd.call(this,f)}catch(d){return Promise.reject(d)}for(p=0,y=u.length;p<y;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=Pr(this.defaults,e);let r=_i(e.baseURL,e.url,e.allowAbsoluteUrls);return xi(r,e.params,e.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(e){Fo.prototype[e]=function(r,s){return this.request(Pr(s||{},{method:e,url:r,data:(s||{}).data}))}});x.forEach(["post","put","patch"],function(e){function r(s){return function(i,o,a){return this.request(Pr(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Fo.prototype[e]=r(),Fo.prototype[e+"Form"]=r(!0)});var vc=Fo;var Tx=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i,o=new Promise(a=>{s.subscribe(a),i=a}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new ir(i,o,a),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(n){e=n}),cancel:e}}},F2=Tx;function Ox(t){return function(r){return t.apply(null,r)}}function Px(t){return x.isObject(t)&&t.isAxiosError===!0}var Cx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cx).forEach(([t,e])=>{Cx[e]=t});var z2=Cx;function H2(t){let e=new vc(t),r=lc(vc.prototype.request,e);return x.extend(r,vc.prototype,e,{allOwnKeys:!0}),x.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return H2(Pr(t,n))},r}var ut=H2(qo);ut.Axios=vc;ut.CanceledError=ir;ut.CancelToken=F2;ut.isCancel=mc;ut.VERSION=wi;ut.toFormData=dn;ut.AxiosError=M;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=Ox;ut.isAxiosError=Px;ut.mergeConfig=Pr;ut.AxiosHeaders=Xe;ut.formToJSON=t=>Cd(x.isHTMLForm(t)?new FormData(t):t);ut.getAdapter=Nd.getAdapter;ut.HttpStatusCode=z2;ut.default=ut;var xc=ut;var{Axios:tie,AxiosError:rie,CanceledError:sie,isCancel:nie,CancelToken:iie,VERSION:oie,all:aie,Cancel:cie,isAxiosError:uie,spread:lie,toFormData:pie,AxiosHeaders:die,HttpStatusCode:fie,formToJSON:hie,getAdapter:mie,mergeConfig:yie}=xc;var J2=kt(W2());J2.default.config();var Y2=process.env.LINKD_API_KEY;if(!Y2)throw new Error("LINKD_API_KEY is not set in the .env file.");var bW=xc.create({baseURL:"https://search.linkd.inc/api",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y2}`}}),jx=async t=>{try{let{query:e,limit:r=10,school:s}=t,n=new URLSearchParams;return n.append("query",e),r&&n.append("limit",r.toString()),s&&s.length>0&&s.forEach(o=>n.append("school",o)),(await bW.get(`/search/users?${n.toString()}`)).data}catch(e){if(xc.isAxiosError(e)){if(e.response?.status===401)throw new Error("Invalid or expired API key");if(e.response?.data){let r=e.response.data.error||e.response.data.detail||e.response.data.message||JSON.stringify(e.response.data);throw new Error(r)}}throw new Error("Failed to perform search. Please check your connection and try again.")}},vW={id:"get-alumni-recommendations",name:"Get Alumni Recommendations",description:"Recommends alumni connections based on shared interests and background",input:ge.object({query:ge.string().describe("Search query for alumni"),limit:ge.number().optional().default(5).describe("Number of recommendations to return"),school:ge.array(ge.string()).optional().describe("List of schools to filter by")}),output:ge.object({recommendations:ge.array(ge.object({name:ge.string(),title:ge.string(),company:ge.string(),location:ge.string(),headline:ge.string(),profileUrl:ge.string(),imageUrl:ge.string()}))}),handler:async({query:t,limit:e,school:r},s)=>{try{let o=(await jx({query:t,limit:e,school:r})).results.map(u=>({name:u.profile.name,title:u.profile.title,company:u.experience[0]?.company_name||"N/A",location:u.profile.location,headline:u.profile.headline,profileUrl:u.profile.linkedin_url,imageUrl:u.profile.profile_picture_url})),a=new xs.TableUIBuilder().addColumns([{key:"name",header:"Name",type:"text"},{key:"title",header:"Title",type:"text"},{key:"company",header:"Company",type:"text"},{key:"location",header:"Location",type:"text"},{key:"headline",header:"Headline",type:"text"},{key:"profileUrl",header:"Profile",type:"link"}]).rows(o.map(u=>({...u,profileUrl:u.profileUrl?{text:"View Profile",url:u.profileUrl}:"N/A"}))).build(),c=new xs.CardUIBuilder().title("Alumni Recommendations").addChild(a).build();return{text:`Here are ${o.length} alumni recommendations based on your query: "${t}"`,data:{recommendations:o},ui:c}}catch(n){console.error("Error fetching alumni recommendations:",n);let i=n instanceof Error?n.message:"An unknown error occurred";return{text:"Sorry, there was an error fetching alumni recommendations",data:{recommendations:[]},ui:new xs.CardUIBuilder().title("Error").content(`Unable to fetch alumni recommendations: ${i}`).build()}}}},xW={id:"ask-alum",name:"Ask an Alum",description:"Match students with relevant alumni for quick questions",input:ge.object({question:ge.string().describe("Student's question"),studentProfile:ge.object({major:ge.string(),graduationYear:ge.number(),interests:ge.array(ge.string())}).describe("Student's profile information")}),output:ge.object({matchedAlum:ge.object({name:ge.string(),title:ge.string(),company:ge.string(),profileUrl:ge.string()}),questionSent:ge.boolean()}),handler:async({question:t,studentProfile:e},r)=>{try{let n={query:`${e.major} ${e.interests.join(" ")}`,limit:1},i=await jx(n);if(i.results.length===0)throw new Error("No matching alumni found");let o=i.results[0],a={name:o.profile.name,title:o.profile.title,company:o.experience[0]?.company_name||"N/A",profileUrl:o.profile.linkedin_url},c=!0,u=new xs.CardUIBuilder().title("Matched Alum").content(`Your question has been sent to ${a.name}, ${a.title} at ${a.company}.`).build();return{text:"Successfully matched with an alum and sent your question.",data:{matchedAlum:a,questionSent:c},ui:u}}catch(s){console.error("Error in Ask an Alum:",s);let n=s instanceof Error?s.message:"An unknown error occurred";return{text:"Sorry, there was an error matching you with an alum",data:{matchedAlum:null,questionSent:!1},ui:new xs.CardUIBuilder().title("Error").content(`Unable to match with an alum: ${n}`).build()}}}},_W={id:"bruin-linkd",name:"BruinLinkd",description:"Connect two Bruins with shared interests",input:ge.object({interests:ge.array(ge.string()).describe("Shared interests to match on")}),output:ge.object({matchedBruins:ge.array(ge.object({name:ge.string(),interests:ge.array(ge.string())}))}),handler:async({interests:t},e)=>{try{let s={query:t.join(" "),limit:2,school:["UCLA"]},n=await jx(s);if(n.results.length<2)throw new Error("Not enough matching Bruins found");let i=n.results.slice(0,2).map(a=>({name:a.profile.name,interests:t})),o=new xs.CardUIBuilder().title("BruinLinkd Match").content(`Matched ${i[0].name} with ${i[1].name} based on shared interests: ${t.join(", ")}`).build();return{text:"Successfully matched two Bruins based on shared interests.",data:{matchedBruins:i},ui:o}}catch(r){console.error("Error in BruinLinkd:",r);let s=r instanceof Error?r.message:"An unknown error occurred";return{text:"Sorry, there was an error matching Bruins",data:{matchedBruins:[]},ui:new xs.CardUIBuilder().title("Error").content(`Unable to complete BruinLinkd: ${s}`).build()}}}},wW=(0,Q2.defineDAINService)({metadata:{title:"UCLA Networking Service",description:"A comprehensive service for alumni connections, mentorship, and networking opportunities",version:"1.0.0",author:"Your Name",tags:["networking","alumni","connections","mentorship","UCLA"],capabilities:["Get alumni recommendations based on specific search criteria","Match students with relevant alumni for asking career questions","Connect UCLA students (Bruins) with shared interests","Provide detailed profiles of alumni including their current roles and companies","Facilitate networking opportunities within the UCLA community"]},identity:{apiKey:process.env.DAIN_API_KEY},tools:[vW,xW,_W]});wW.startNode().then(({address:t})=>{console.log("UCLA Networking Service is running at :"+t().port)});
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

axios/dist/node/axios.cjs:
  (*! Axios v1.9.0 Copyright (c) 2025 Matt Zabriskie and contributors *)
*/
//# sourceMappingURL=index.js.map
